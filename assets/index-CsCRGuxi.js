(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();var Am={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py=Symbol.for("react.transitional.element"),ev=Symbol.for("react.fragment");function Nm(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var l in e)l!=="key"&&(n[l]=e[l])}else n=e;return e=n.ref,{$$typeof:Py,type:t,key:i,ref:e!==void 0?e:null,props:n}}Nu.Fragment=ev;Nu.jsx=Nm;Nu.jsxs=Nm;Am.exports=Nu;var Fr=Am.exports,Dm={exports:{}},U={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.transitional.element"),tv=Symbol.for("react.portal"),nv=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),lv=Symbol.for("react.profiler"),av=Symbol.for("react.consumer"),sv=Symbol.for("react.context"),uv=Symbol.for("react.forward_ref"),rv=Symbol.for("react.suspense"),ov=Symbol.for("react.memo"),Rm=Symbol.for("react.lazy"),cv=Symbol.for("react.activity"),lh=Symbol.iterator;function fv(t){return t===null||typeof t!="object"?null:(t=lh&&t[lh]||t["@@iterator"],typeof t=="function"?t:null)}var Om={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mm=Object.assign,wm={};function pl(t,e,n){this.props=t,this.context=e,this.refs=wm,this.updater=n||Om}pl.prototype.isReactComponent={};pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xm(){}xm.prototype=pl.prototype;function mc(t,e,n){this.props=t,this.context=e,this.refs=wm,this.updater=n||Om}var _c=mc.prototype=new xm;_c.constructor=mc;Mm(_c,pl.prototype);_c.isPureReactComponent=!0;var ah=Array.isArray;function Jr(){}var fe={H:null,A:null,T:null,S:null},zm=Object.prototype.hasOwnProperty;function gc(t,e,n){var i=n.ref;return{$$typeof:dc,type:t,key:e,ref:i!==void 0?i:null,props:n}}function hv(t,e){return gc(t.type,e,t.props)}function pc(t){return typeof t=="object"&&t!==null&&t.$$typeof===dc}function dv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sh=/\/+/g;function tr(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dv(""+t.key):e.toString(36)}function mv(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Jr,Jr):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ri(t,e,n,i,l){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case dc:case tv:s=!0;break;case Rm:return s=t._init,Ri(s(t._payload),e,n,i,l)}}if(s)return l=l(t),s=i===""?"."+tr(t,0):i,ah(l)?(n="",s!=null&&(n=s.replace(sh,"$&/")+"/"),Ri(l,e,n,"",function(o){return o})):l!=null&&(pc(l)&&(l=hv(l,n+(l.key==null||t&&t.key===l.key?"":(""+l.key).replace(sh,"$&/")+"/")+s)),e.push(l)),1;s=0;var u=i===""?".":i+":";if(ah(t))for(var r=0;r<t.length;r++)i=t[r],a=u+tr(i,r),s+=Ri(i,e,n,a,l);else if(r=fv(t),typeof r=="function")for(t=r.call(t),r=0;!(i=t.next()).done;)i=i.value,a=u+tr(i,r++),s+=Ri(i,e,n,a,l);else if(a==="object"){if(typeof t.then=="function")return Ri(mv(t),e,n,i,l);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Pa(t,e,n){if(t==null)return t;var i=[],l=0;return Ri(t,i,"","",function(a){return e.call(n,a,l++)}),i}function _v(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var uh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gv={map:Pa,forEach:function(t,e,n){Pa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pa(t,function(){e++}),e},toArray:function(t){return Pa(t,function(e){return e})||[]},only:function(t){if(!pc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Activity=cv;U.Children=gv;U.Component=pl;U.Fragment=nv;U.Profiler=lv;U.PureComponent=mc;U.StrictMode=iv;U.Suspense=rv;U.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe;U.__COMPILER_RUNTIME={__proto__:null,c:function(t){return fe.H.useMemoCache(t)}};U.cache=function(t){return function(){return t.apply(null,arguments)}};U.cacheSignal=function(){return null};U.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Mm({},t.props),l=t.key;if(e!=null)for(a in e.key!==void 0&&(l=""+e.key),e)!zm.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),u=0;u<a;u++)s[u]=arguments[u+2];i.children=s}return gc(t.type,l,i)};U.createContext=function(t){return t={$$typeof:sv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:av,_context:t},t};U.createElement=function(t,e,n){var i,l={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)zm.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=e[i]);var s=arguments.length-2;if(s===1)l.children=n;else if(1<s){for(var u=Array(s),r=0;r<s;r++)u[r]=arguments[r+2];l.children=u}if(t&&t.defaultProps)for(i in s=t.defaultProps,s)l[i]===void 0&&(l[i]=s[i]);return gc(t,a,l)};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:uv,render:t}};U.isValidElement=pc;U.lazy=function(t){return{$$typeof:Rm,_payload:{_status:-1,_result:t},_init:_v}};U.memo=function(t,e){return{$$typeof:ov,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=fe.T,n={};fe.T=n;try{var i=t(),l=fe.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Jr,uh)}catch(a){uh(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),fe.T=e}};U.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()};U.use=function(t){return fe.H.use(t)};U.useActionState=function(t,e,n){return fe.H.useActionState(t,e,n)};U.useCallback=function(t,e){return fe.H.useCallback(t,e)};U.useContext=function(t){return fe.H.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t,e){return fe.H.useDeferredValue(t,e)};U.useEffect=function(t,e){return fe.H.useEffect(t,e)};U.useEffectEvent=function(t){return fe.H.useEffectEvent(t)};U.useId=function(){return fe.H.useId()};U.useImperativeHandle=function(t,e,n){return fe.H.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return fe.H.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return fe.H.useLayoutEffect(t,e)};U.useMemo=function(t,e){return fe.H.useMemo(t,e)};U.useOptimistic=function(t,e){return fe.H.useOptimistic(t,e)};U.useReducer=function(t,e,n){return fe.H.useReducer(t,e,n)};U.useRef=function(t){return fe.H.useRef(t)};U.useState=function(t){return fe.H.useState(t)};U.useSyncExternalStore=function(t,e,n){return fe.H.useSyncExternalStore(t,e,n)};U.useTransition=function(){return fe.H.useTransition()};U.version="19.2.0";Dm.exports=U;var $=Dm.exports,Um={exports:{}},Du={},Lm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,x){var z=C.length;C.push(x);e:for(;0<z;){var de=z-1>>>1,ve=C[de];if(0<l(ve,x))C[de]=x,C[z]=ve,z=de;else break e}}function n(C){return C.length===0?null:C[0]}function i(C){if(C.length===0)return null;var x=C[0],z=C.pop();if(z!==x){C[0]=z;e:for(var de=0,ve=C.length,A=ve>>>1;de<A;){var R=2*(de+1)-1,re=C[R],Re=R+1,Ke=C[Re];if(0>l(re,z))Re<ve&&0>l(Ke,re)?(C[de]=Ke,C[Re]=z,de=Re):(C[de]=re,C[R]=z,de=R);else if(Re<ve&&0>l(Ke,z))C[de]=Ke,C[Re]=z,de=Re;else break e}}return x}function l(C,x){var z=C.sortIndex-x.sortIndex;return z!==0?z:C.id-x.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var r=[],o=[],h=1,f=null,c=3,m=!1,y=!1,S=!1,D=!1,_=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function p(C){for(var x=n(o);x!==null;){if(x.callback===null)i(o);else if(x.startTime<=C)i(o),x.sortIndex=x.expirationTime,e(r,x);else break;x=n(o)}}function N(C){if(S=!1,p(C),!y)if(n(r)!==null)y=!0,H||(H=!0,ue());else{var x=n(o);x!==null&&at(N,x.startTime-C)}}var H=!1,T=-1,w=5,B=-1;function q(){return D?!0:!(t.unstable_now()-B<w)}function E(){if(D=!1,H){var C=t.unstable_now();B=C;var x=!0;try{e:{y=!1,S&&(S=!1,d(T),T=-1),m=!0;var z=c;try{t:{for(p(C),f=n(r);f!==null&&!(f.expirationTime>C&&q());){var de=f.callback;if(typeof de=="function"){f.callback=null,c=f.priorityLevel;var ve=de(f.expirationTime<=C);if(C=t.unstable_now(),typeof ve=="function"){f.callback=ve,p(C),x=!0;break t}f===n(r)&&i(r),p(C)}else i(r);f=n(r)}if(f!==null)x=!0;else{var A=n(o);A!==null&&at(N,A.startTime-C),x=!1}}break e}finally{f=null,c=z,m=!1}x=void 0}}finally{x?ue():H=!1}}}var ue;if(typeof g=="function")ue=function(){g(E)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Xn=W.port2;W.port1.onmessage=E,ue=function(){Xn.postMessage(null)}}else ue=function(){_(E,0)};function at(C,x){T=_(function(){C(t.unstable_now())},x)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_next=function(C){switch(c){case 1:case 2:case 3:var x=3;break;default:x=c}var z=c;c=x;try{return C()}finally{c=z}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(C,x){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=c;c=C;try{return x()}finally{c=z}},t.unstable_scheduleCallback=function(C,x,z){var de=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?de+z:de):z=de,C){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=z+ve,C={id:h++,callback:x,priorityLevel:C,startTime:z,expirationTime:ve,sortIndex:-1},z>de?(C.sortIndex=z,e(o,C),n(r)===null&&C===n(o)&&(S?(d(T),T=-1):S=!0,at(N,z-de))):(C.sortIndex=ve,e(r,C),y||m||(y=!0,H||(H=!0,ue()))),C},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(C){var x=c;return function(){var z=c;c=x;try{return C.apply(this,arguments)}finally{c=z}}}})(Hm);Lm.exports=Hm;var pv=Lm.exports,Bm={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv=$;function Im(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function dn(){}var Xe={d:{f:dn,r:function(){throw Error(Im(522))},D:dn,C:dn,L:dn,m:dn,X:dn,S:dn,M:dn},p:0,findDOMNode:null},vv=Symbol.for("react.portal");function Sv(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vv,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Xl=yv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ru(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Xe;Ze.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Im(299));return Sv(t,e,null,n)};Ze.flushSync=function(t){var e=Xl.T,n=Xe.p;try{if(Xl.T=null,Xe.p=2,t)return t()}finally{Xl.T=e,Xe.p=n,Xe.d.f()}};Ze.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Xe.d.C(t,e))};Ze.prefetchDNS=function(t){typeof t=="string"&&Xe.d.D(t)};Ze.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Ru(n,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Xe.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:a}):n==="script"&&Xe.d.X(t,{crossOrigin:i,integrity:l,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ze.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Ru(e.as,e.crossOrigin);Xe.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Xe.d.M(t)};Ze.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Ru(n,e.crossOrigin);Xe.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ze.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Ru(e.as,e.crossOrigin);Xe.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Xe.d.m(t)};Ze.requestFormReset=function(t){Xe.d.r(t)};Ze.unstable_batchedUpdates=function(t,e){return t(e)};Ze.useFormState=function(t,e,n){return Xl.H.useFormState(t,e,n)};Ze.useFormStatus=function(){return Xl.H.useHostTransitionStatus()};Ze.version="19.2.0";function qm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qm)}catch(t){console.error(t)}}qm(),Bm.exports=Ze;var Ev=Bm.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Me=pv,Ym=$,bv=Ev;function v(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ha(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jm(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rh(t){if(Ha(t)!==t)throw Error(v(188))}function Cv(t){var e=t.alternate;if(!e){if(e=Ha(t),e===null)throw Error(v(188));return e!==t?null:t}for(var n=t,i=e;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return rh(l),t;if(a===i)return rh(l),e;a=a.sibling}throw Error(v(188))}if(n.return!==i.return)n=l,i=a;else{for(var s=!1,u=l.child;u;){if(u===n){s=!0,n=l,i=a;break}if(u===i){s=!0,i=l,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=l;break}if(u===i){s=!0,i=a,n=l;break}u=u.sibling}if(!s)throw Error(v(189))}}if(n.alternate!==i)throw Error(v(190))}if(n.tag!==3)throw Error(v(188));return n.stateNode.current===n?t:e}function km(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=km(t),e!==null)return e;t=t.sibling}return null}var he=Object.assign,Tv=Symbol.for("react.element"),es=Symbol.for("react.transitional.element"),Gl=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),Qm=Symbol.for("react.strict_mode"),Wr=Symbol.for("react.profiler"),Xm=Symbol.for("react.consumer"),Kt=Symbol.for("react.context"),yc=Symbol.for("react.forward_ref"),$r=Symbol.for("react.suspense"),Pr=Symbol.for("react.suspense_list"),vc=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),eo=Symbol.for("react.activity"),Av=Symbol.for("react.memo_cache_sentinel"),oh=Symbol.iterator;function Ol(t){return t===null||typeof t!="object"?null:(t=oh&&t[oh]||t["@@iterator"],typeof t=="function"?t:null)}var Nv=Symbol.for("react.client.reference");function to(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Nv?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wi:return"Fragment";case Wr:return"Profiler";case Qm:return"StrictMode";case $r:return"Suspense";case Pr:return"SuspenseList";case eo:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Gl:return"Portal";case Kt:return t.displayName||"Context";case Xm:return(t._context.displayName||"Context")+".Consumer";case yc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vc:return e=t.displayName||null,e!==null?e:to(t.type)||"Memo";case mn:e=t._payload,t=t._init;try{return to(t(e))}catch{}}return null}var Vl=Array.isArray,M=Ym.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=bv.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ni={pending:!1,data:null,method:null,action:null},no=[],xi=-1;function Bt(t){return{current:t}}function He(t){0>xi||(t.current=no[xi],no[xi]=null,xi--)}function se(t,e){xi++,no[xi]=t.current,t.current=e}var Ht=Bt(null),ha=Bt(null),An=Bt(null),zs=Bt(null);function Us(t,e){switch(se(An,e),se(ha,t),se(Ht,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?_d(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=_d(e),t=hp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}He(Ht),se(Ht,t)}function tl(){He(Ht),He(ha),He(An)}function io(t){t.memoizedState!==null&&se(zs,t);var e=Ht.current,n=hp(e,t.type);e!==n&&(se(ha,t),se(Ht,n))}function Ls(t){ha.current===t&&(He(Ht),He(ha)),zs.current===t&&(He(zs),Ca._currentValue=ni)}var nr,ch;function Kn(t){if(nr===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nr=e&&e[1]||"",ch=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nr+t+ch}var ir=!1;function lr(t,e){if(!t||ir)return"";ir=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var c=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){c=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){c=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&c&&typeof m.stack=="string")return[m.stack,c.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],u=a[1];if(s&&u){var r=s.split(`
`),o=u.split(`
`);for(l=i=0;i<r.length&&!r[i].includes("DetermineComponentFrameRoot");)i++;for(;l<o.length&&!o[l].includes("DetermineComponentFrameRoot");)l++;if(i===r.length||l===o.length)for(i=r.length-1,l=o.length-1;1<=i&&0<=l&&r[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(r[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||r[i]!==o[l]){var h=`
`+r[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=i&&0<=l);break}}}finally{ir=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Kn(n):""}function Dv(t,e){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==e&&e!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return lr(t.type,!1);case 11:return lr(t.type.render,!1);case 1:return lr(t.type,!0);case 31:return Kn("Activity");default:return""}}function fh(t){try{var e="",n=null;do e+=Dv(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var lo=Object.prototype.hasOwnProperty,Sc=Me.unstable_scheduleCallback,ar=Me.unstable_cancelCallback,Rv=Me.unstable_shouldYield,Ov=Me.unstable_requestPaint,ct=Me.unstable_now,Mv=Me.unstable_getCurrentPriorityLevel,Zm=Me.unstable_ImmediatePriority,Km=Me.unstable_UserBlockingPriority,Hs=Me.unstable_NormalPriority,wv=Me.unstable_LowPriority,Fm=Me.unstable_IdlePriority,xv=Me.log,zv=Me.unstable_setDisableYieldValue,Ba=null,ft=null;function Sn(t){if(typeof xv=="function"&&zv(t),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Ba,t)}catch{}}var ht=Math.clz32?Math.clz32:Hv,Uv=Math.log,Lv=Math.LN2;function Hv(t){return t>>>=0,t===0?32:31-(Uv(t)/Lv|0)|0}var ts=256,ns=262144,is=4194304;function Fn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ou(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var l=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var u=i&134217727;return u!==0?(i=u&~a,i!==0?l=Fn(i):(s&=u,s!==0?l=Fn(s):n||(n=u&~t,n!==0&&(l=Fn(n))))):(u=i&~a,u!==0?l=Fn(u):s!==0?l=Fn(s):n||(n=i&~t,n!==0&&(l=Fn(n)))),l===0?0:e!==0&&e!==l&&!(e&a)&&(a=l&-l,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:l}function Ia(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Bv(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jm(){var t=is;return is<<=1,!(is&62914560)&&(is=4194304),t}function sr(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qa(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Iv(t,e,n,i,l,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var u=t.entanglements,r=t.expirationTimes,o=t.hiddenUpdates;for(n=s&~n;0<n;){var h=31-ht(n),f=1<<h;u[h]=0,r[h]=-1;var c=o[h];if(c!==null)for(o[h]=null,h=0;h<c.length;h++){var m=c[h];m!==null&&(m.lane&=-536870913)}n&=~f}i!==0&&Wm(t,i,0),a!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function Wm(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ht(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function $m(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ht(n),l=1<<i;l&e|t[i]&e&&(t[i]|=e),n&=~l}}function Pm(t,e){var n=e&-e;return n=n&42?1:Ec(n),n&(t.suspendedLanes|e)?0:n}function Ec(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bc(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function e_(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Cp(t.type))}function hh(t,e){var n=K.p;try{return K.p=t,e()}finally{K.p=n}}var jn=Math.random().toString(36).slice(2),Ye="__reactFiber$"+jn,it="__reactProps$"+jn,yl="__reactContainer$"+jn,ao="__reactEvents$"+jn,qv="__reactListeners$"+jn,Yv="__reactHandles$"+jn,dh="__reactResources$"+jn,Ya="__reactMarker$"+jn;function Cc(t){delete t[Ye],delete t[it],delete t[ao],delete t[qv],delete t[Yv]}function zi(t){var e=t[Ye];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yl]||n[Ye]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sd(t);t!==null;){if(n=t[Ye])return n;t=Sd(t)}return e}t=n,n=t.parentNode}return null}function vl(t){if(t=t[Ye]||t[yl]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function jl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(v(33))}function ki(t){var e=t[dh];return e||(e=t[dh]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ue(t){t[Ya]=!0}var t_=new Set,n_={};function gi(t,e){nl(t,e),nl(t+"Capture",e)}function nl(t,e){for(n_[t]=e,t=0;t<e.length;t++)t_.add(e[t])}var Gv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mh={},_h={};function Vv(t){return lo.call(_h,t)?!0:lo.call(mh,t)?!1:Gv.test(t)?_h[t]=!0:(mh[t]=!0,!1)}function ps(t,e,n){if(Vv(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function ls(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Gt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function i_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jv(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function so(t){if(!t._valueTracker){var e=i_(t)?"checked":"value";t._valueTracker=jv(t,e,""+t[e])}}function l_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=i_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kv=/[\n"\\]/g;function St(t){return t.replace(kv,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function uo(t,e,n,i,l,a,s,u){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+pt(e)):t.value!==""+pt(e)&&(t.value=""+pt(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?ro(t,s,pt(e)):n!=null?ro(t,s,pt(n)):i!=null&&t.removeAttribute("value"),l==null&&a!=null&&(t.defaultChecked=!!a),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.name=""+pt(u):t.removeAttribute("name")}function a_(t,e,n,i,l,a,s,u){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){so(t);return}n=n!=null?""+pt(n):"",e=e!=null?""+pt(e):n,u||e===t.value||(t.value=e),t.defaultValue=e}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=u?t.checked:!!i,t.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),so(t)}function ro(t,e,n){e==="number"&&Bs(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Qi(t,e,n,i){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&i&&(t[n].defaultSelected=!0)}else{for(n=""+pt(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,i&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function s_(t,e,n){if(e!=null&&(e=""+pt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+pt(n):""}function u_(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(v(92));if(Vl(i)){if(1<i.length)throw Error(v(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=pt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),so(t)}function il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gh(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Qv.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function r_(t,e,n){if(e!=null&&typeof e!="object")throw Error(v(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var l in e)i=e[l],e.hasOwnProperty(l)&&n[l]!==i&&gh(t,l,i)}else for(var a in e)e.hasOwnProperty(a)&&gh(t,a,e[a])}function Tc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ys(t){return Zv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ft(){}var oo=null;function Ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ui=null,Xi=null;function ph(t){var e=vl(t);if(e&&(t=e.stateNode)){var n=t[it]||null;e:switch(t=e.stateNode,e.type){case"input":if(uo(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+St(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var l=i[it]||null;if(!l)throw Error(v(90));uo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&l_(i)}break e;case"textarea":s_(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Qi(t,!!n.multiple,e,!1)}}}var ur=!1;function o_(t,e,n){if(ur)return t(e,n);ur=!0;try{var i=t(e);return i}finally{if(ur=!1,(Ui!==null||Xi!==null)&&(Gu(),Ui&&(e=Ui,t=Xi,Xi=Ui=null,ph(e),t)))for(e=0;e<t.length;e++)ph(t[e])}}function da(t,e){var n=t.stateNode;if(n===null)return null;var i=n[it]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(v(231,e,typeof n));return n}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=!1;if(nn)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){co=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{co=!1}var En=null,Nc=null,vs=null;function c_(){if(vs)return vs;var t,e=Nc,n=e.length,i,l="value"in En?En.value:En.textContent,a=l.length;for(t=0;t<n&&e[t]===l[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===l[a-i];i++);return vs=l.slice(t,1<i?1-i:void 0)}function Ss(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function yh(){return!1}function lt(t){function e(n,i,l,a,s){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?as:yh,this.isPropagationStopped=yh,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),e}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mu=lt(pi),Ga=he({},pi,{view:0,detail:0}),Kv=lt(Ga),rr,or,wl,wu=he({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wl&&(wl&&t.type==="mousemove"?(rr=t.screenX-wl.screenX,or=t.screenY-wl.screenY):or=rr=0,wl=t),rr)},movementY:function(t){return"movementY"in t?t.movementY:or}}),vh=lt(wu),Fv=he({},wu,{dataTransfer:0}),Jv=lt(Fv),Wv=he({},Ga,{relatedTarget:0}),cr=lt(Wv),$v=he({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Pv=lt($v),e0=he({},pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),t0=lt(e0),n0=he({},pi,{data:0}),Sh=lt(n0),i0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a0[t])?!!e[t]:!1}function Dc(){return s0}var u0=he({},Ga,{key:function(t){if(t.key){var e=i0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?l0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(t){return t.type==="keypress"?Ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),r0=lt(u0),o0=he({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=lt(o0),c0=he({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),f0=lt(c0),h0=he({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),d0=lt(h0),m0=he({},wu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_0=lt(m0),g0=he({},pi,{newState:0,oldState:0}),p0=lt(g0),y0=[9,13,27,32],Rc=nn&&"CompositionEvent"in window,Zl=null;nn&&"documentMode"in document&&(Zl=document.documentMode);var v0=nn&&"TextEvent"in window&&!Zl,f_=nn&&(!Rc||Zl&&8<Zl&&11>=Zl),bh=" ",Ch=!1;function h_(t,e){switch(t){case"keyup":return y0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Li=!1;function S0(t,e){switch(t){case"compositionend":return d_(e);case"keypress":return e.which!==32?null:(Ch=!0,bh);case"textInput":return t=e.data,t===bh&&Ch?null:t;default:return null}}function E0(t,e){if(Li)return t==="compositionend"||!Rc&&h_(t,e)?(t=c_(),vs=Nc=En=null,Li=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f_&&e.locale!=="ko"?null:e.data;default:return null}}var b0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b0[t.type]:e==="textarea"}function m_(t,e,n,i){Ui?Xi?Xi.push(i):Xi=[i]:Ui=i,e=tu(e,"onChange"),0<e.length&&(n=new Mu("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Kl=null,ma=null;function C0(t){op(t,0)}function xu(t){var e=jl(t);if(l_(e))return t}function Ah(t,e){if(t==="change")return e}var __=!1;if(nn){var fr;if(nn){var hr="oninput"in document;if(!hr){var Nh=document.createElement("div");Nh.setAttribute("oninput","return;"),hr=typeof Nh.oninput=="function"}fr=hr}else fr=!1;__=fr&&(!document.documentMode||9<document.documentMode)}function Dh(){Kl&&(Kl.detachEvent("onpropertychange",g_),ma=Kl=null)}function g_(t){if(t.propertyName==="value"&&xu(ma)){var e=[];m_(e,ma,t,Ac(t)),o_(C0,e)}}function T0(t,e,n){t==="focusin"?(Dh(),Kl=e,ma=n,Kl.attachEvent("onpropertychange",g_)):t==="focusout"&&Dh()}function A0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(ma)}function N0(t,e){if(t==="click")return xu(e)}function D0(t,e){if(t==="input"||t==="change")return xu(e)}function R0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mt=typeof Object.is=="function"?Object.is:R0;function _a(t,e){if(mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!lo.call(e,l)||!mt(t[l],e[l]))return!1}return!0}function Rh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Oh(t,e){var n=Rh(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rh(n)}}function p_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?p_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Bs(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bs(t.document)}return e}function Oc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var O0=nn&&"documentMode"in document&&11>=document.documentMode,Hi=null,fo=null,Fl=null,ho=!1;function Mh(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ho||Hi==null||Hi!==Bs(i)||(i=Hi,"selectionStart"in i&&Oc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fl&&_a(Fl,i)||(Fl=i,i=tu(fo,"onSelect"),0<i.length&&(e=new Mu("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Hi)))}function Zn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bi={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},dr={},v_={};nn&&(v_=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function yi(t){if(dr[t])return dr[t];if(!Bi[t])return t;var e=Bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v_)return dr[t]=e[n];return t}var S_=yi("animationend"),E_=yi("animationiteration"),b_=yi("animationstart"),M0=yi("transitionrun"),w0=yi("transitionstart"),x0=yi("transitioncancel"),C_=yi("transitionend"),T_=new Map,mo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mo.push("scrollEnd");function xt(t,e){T_.set(t,e),gi(e,[t])}var Is=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gt=[],Ii=0,Mc=0;function zu(){for(var t=Ii,e=Mc=Ii=0;e<t;){var n=gt[e];gt[e++]=null;var i=gt[e];gt[e++]=null;var l=gt[e];gt[e++]=null;var a=gt[e];if(gt[e++]=null,i!==null&&l!==null){var s=i.pending;s===null?l.next=l:(l.next=s.next,s.next=l),i.pending=l}a!==0&&A_(n,l,a)}}function Uu(t,e,n,i){gt[Ii++]=t,gt[Ii++]=e,gt[Ii++]=n,gt[Ii++]=i,Mc|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function wc(t,e,n,i){return Uu(t,e,n,i),qs(t)}function vi(t,e){return Uu(t,null,null,e),qs(t)}function A_(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var l=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(l=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,l&&e!==null&&(l=31-ht(n),t=a.hiddenUpdates,i=t[l],i===null?t[l]=[e]:i.push(e),e.lane=n|536870912),a):null}function qs(t){if(50<la)throw la=0,Lo=null,Error(v(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var qi={};function z0(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(t,e,n,i){return new z0(t,e,n,i)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $t(t,e){var n=t.alternate;return n===null?(n=rt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function N_(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Es(t,e,n,i,l,a){var s=0;if(i=t,typeof t=="function")xc(t)&&(s=1);else if(typeof t=="string")s=I1(t,n,Ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case eo:return t=rt(31,n,e,l),t.elementType=eo,t.lanes=a,t;case wi:return ii(n.children,l,a,e);case Qm:s=8,l|=24;break;case Wr:return t=rt(12,n,e,l|2),t.elementType=Wr,t.lanes=a,t;case $r:return t=rt(13,n,e,l),t.elementType=$r,t.lanes=a,t;case Pr:return t=rt(19,n,e,l),t.elementType=Pr,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kt:s=10;break e;case Xm:s=9;break e;case yc:s=11;break e;case vc:s=14;break e;case mn:s=16,i=null;break e}s=29,n=Error(v(130,t===null?"null":typeof t,"")),i=null}return e=rt(s,n,e,l),e.elementType=t,e.type=i,e.lanes=a,e}function ii(t,e,n,i){return t=rt(7,t,i,e),t.lanes=n,t}function mr(t,e,n){return t=rt(6,t,null,e),t.lanes=n,t}function D_(t){var e=rt(18,null,null,0);return e.stateNode=t,e}function _r(t,e,n){return e=rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var wh=new WeakMap;function Et(t,e){if(typeof t=="object"&&t!==null){var n=wh.get(t);return n!==void 0?n:(e={value:t,source:e,stack:fh(e)},wh.set(t,e),e)}return{value:t,source:e,stack:fh(e)}}var Yi=[],Gi=0,Ys=null,ga=0,yt=[],vt=0,Bn=null,zt=1,Ut="";function Xt(t,e){Yi[Gi++]=ga,Yi[Gi++]=Ys,Ys=t,ga=e}function R_(t,e,n){yt[vt++]=zt,yt[vt++]=Ut,yt[vt++]=Bn,Bn=t;var i=zt;t=Ut;var l=32-ht(i)-1;i&=~(1<<l),n+=1;var a=32-ht(e)+l;if(30<a){var s=l-l%5;a=(i&(1<<s)-1).toString(32),i>>=s,l-=s,zt=1<<32-ht(e)+l|n<<l|i,Ut=a+t}else zt=1<<a|n<<l|i,Ut=t}function zc(t){t.return!==null&&(Xt(t,1),R_(t,1,0))}function Uc(t){for(;t===Ys;)Ys=Yi[--Gi],Yi[Gi]=null,ga=Yi[--Gi],Yi[Gi]=null;for(;t===Bn;)Bn=yt[--vt],yt[vt]=null,Ut=yt[--vt],yt[vt]=null,zt=yt[--vt],yt[vt]=null}function O_(t,e){yt[vt++]=zt,yt[vt++]=Ut,yt[vt++]=Bn,zt=e.id,Ut=e.overflow,Bn=t}var Ge=null,ce=null,Q=!1,Nn=null,bt=!1,_o=Error(v(519));function In(t){var e=Error(v(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pa(Et(e,t)),_o}function xh(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Ye]=t,e[it]=i,n){case"dialog":Y("cancel",e),Y("close",e);break;case"iframe":case"object":case"embed":Y("load",e);break;case"video":case"audio":for(n=0;n<Ea.length;n++)Y(Ea[n],e);break;case"source":Y("error",e);break;case"img":case"image":case"link":Y("error",e),Y("load",e);break;case"details":Y("toggle",e);break;case"input":Y("invalid",e),a_(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Y("invalid",e);break;case"textarea":Y("invalid",e),u_(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||fp(e.textContent,n)?(i.popover!=null&&(Y("beforetoggle",e),Y("toggle",e)),i.onScroll!=null&&Y("scroll",e),i.onScrollEnd!=null&&Y("scrollend",e),i.onClick!=null&&(e.onclick=Ft),e=!0):e=!1,e||In(t,!0)}function zh(t){for(Ge=t.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:bt=!1;return;case 27:case 3:bt=!0;return;default:Ge=Ge.return}}function Ci(t){if(t!==Ge)return!1;if(!Q)return zh(t),Q=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Yo(t.type,t.memoizedProps)),n=!n),n&&ce&&In(t),zh(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(v(317));ce=vd(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(v(317));ce=vd(t)}else e===27?(e=ce,kn(t.type)?(t=ko,ko=null,ce=t):ce=e):ce=Ge?At(t.stateNode.nextSibling):null;return!0}function ui(){ce=Ge=null,Q=!1}function gr(){var t=Nn;return t!==null&&($e===null?$e=t:$e.push.apply($e,t),Nn=null),t}function pa(t){Nn===null?Nn=[t]:Nn.push(t)}var go=Bt(null),Si=null,Jt=null;function gn(t,e,n){se(go,e._currentValue),e._currentValue=n}function Pt(t){t._currentValue=go.current,He(go)}function po(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function yo(t,e,n,i){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){var s=l.child;a=a.firstContext;e:for(;a!==null;){var u=a;a=l;for(var r=0;r<e.length;r++)if(u.context===e[r]){a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),po(a.return,n,t),i||(s=null);break e}a=u.next}}else if(l.tag===18){if(s=l.return,s===null)throw Error(v(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),po(s,n,t),s=null}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}}function Sl(t,e,n,i){t=null;for(var l=e,a=!1;l!==null;){if(!a){if(l.flags&524288)a=!0;else if(l.flags&262144)break}if(l.tag===10){var s=l.alternate;if(s===null)throw Error(v(387));if(s=s.memoizedProps,s!==null){var u=l.type;mt(l.pendingProps.value,s.value)||(t!==null?t.push(u):t=[u])}}else if(l===zs.current){if(s=l.alternate,s===null)throw Error(v(387));s.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(Ca):t=[Ca])}l=l.return}t!==null&&yo(e,t,n,i),e.flags|=262144}function Gs(t){for(t=t.firstContext;t!==null;){if(!mt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ri(t){Si=t,Jt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ve(t){return M_(Si,t)}function ss(t,e){return Si===null&&ri(t),M_(t,e)}function M_(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Jt===null){if(t===null)throw Error(v(308));Jt=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Jt=Jt.next=e;return n}var U0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},L0=Me.unstable_scheduleCallback,H0=Me.unstable_NormalPriority,Ne={$$typeof:Kt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new U0,data:new Map,refCount:0}}function Va(t){t.refCount--,t.refCount===0&&L0(H0,function(){t.controller.abort()})}var Jl=null,vo=0,ll=0,Zi=null;function B0(t,e){if(Jl===null){var n=Jl=[];vo=0,ll=uf(),Zi={status:"pending",value:void 0,then:function(i){n.push(i)}}}return vo++,e.then(Uh,Uh),e}function Uh(){if(--vo===0&&Jl!==null){Zi!==null&&(Zi.status="fulfilled");var t=Jl;Jl=null,ll=0,Zi=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function I0(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var Lh=M.S;M.S=function(t,e){kg=ct(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&B0(t,e),Lh!==null&&Lh(t,e)};var li=Bt(null);function Hc(){var t=li.current;return t!==null?t:ne.pooledCache}function bs(t,e){e===null?se(li,li.current):se(li,e.pool)}function w_(){var t=Hc();return t===null?null:{parent:Ne._currentValue,pool:t}}var El=Error(v(460)),Bc=Error(v(474)),Lu=Error(v(542)),Vs={then:function(){}};function Hh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function x_(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ft,Ft),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ih(t),t;default:if(typeof e.status=="string")e.then(Ft,Ft);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(v(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ih(t),t}throw ai=e,El}}function Jn(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ai=n,El):n}}var ai=null;function Bh(){if(ai===null)throw Error(v(459));var t=ai;return ai=null,t}function Ih(t){if(t===El||t===Lu)throw Error(v(483))}var Ki=null,ya=0;function us(t){var e=ya;return ya+=1,Ki===null&&(Ki=[]),x_(Ki,t,e)}function xl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function rs(t,e){throw e.$$typeof===Tv?Error(v(525)):(t=Object.prototype.toString.call(e),Error(v(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function z_(t){function e(_,d){if(t){var g=_.deletions;g===null?(_.deletions=[d],_.flags|=16):g.push(d)}}function n(_,d){if(!t)return null;for(;d!==null;)e(_,d),d=d.sibling;return null}function i(_){for(var d=new Map;_!==null;)_.key!==null?d.set(_.key,_):d.set(_.index,_),_=_.sibling;return d}function l(_,d){return _=$t(_,d),_.index=0,_.sibling=null,_}function a(_,d,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<d?(_.flags|=67108866,d):g):(_.flags|=67108866,d)):(_.flags|=1048576,d)}function s(_){return t&&_.alternate===null&&(_.flags|=67108866),_}function u(_,d,g,p){return d===null||d.tag!==6?(d=mr(g,_.mode,p),d.return=_,d):(d=l(d,g),d.return=_,d)}function r(_,d,g,p){var N=g.type;return N===wi?h(_,d,g.props.children,p,g.key):d!==null&&(d.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===mn&&Jn(N)===d.type)?(d=l(d,g.props),xl(d,g),d.return=_,d):(d=Es(g.type,g.key,g.props,null,_.mode,p),xl(d,g),d.return=_,d)}function o(_,d,g,p){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=_r(g,_.mode,p),d.return=_,d):(d=l(d,g.children||[]),d.return=_,d)}function h(_,d,g,p,N){return d===null||d.tag!==7?(d=ii(g,_.mode,p,N),d.return=_,d):(d=l(d,g),d.return=_,d)}function f(_,d,g){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=mr(""+d,_.mode,g),d.return=_,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case es:return g=Es(d.type,d.key,d.props,null,_.mode,g),xl(g,d),g.return=_,g;case Gl:return d=_r(d,_.mode,g),d.return=_,d;case mn:return d=Jn(d),f(_,d,g)}if(Vl(d)||Ol(d))return d=ii(d,_.mode,g,null),d.return=_,d;if(typeof d.then=="function")return f(_,us(d),g);if(d.$$typeof===Kt)return f(_,ss(_,d),g);rs(_,d)}return null}function c(_,d,g,p){var N=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return N!==null?null:u(_,d,""+g,p);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case es:return g.key===N?r(_,d,g,p):null;case Gl:return g.key===N?o(_,d,g,p):null;case mn:return g=Jn(g),c(_,d,g,p)}if(Vl(g)||Ol(g))return N!==null?null:h(_,d,g,p,null);if(typeof g.then=="function")return c(_,d,us(g),p);if(g.$$typeof===Kt)return c(_,d,ss(_,g),p);rs(_,g)}return null}function m(_,d,g,p,N){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return _=_.get(g)||null,u(d,_,""+p,N);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case es:return _=_.get(p.key===null?g:p.key)||null,r(d,_,p,N);case Gl:return _=_.get(p.key===null?g:p.key)||null,o(d,_,p,N);case mn:return p=Jn(p),m(_,d,g,p,N)}if(Vl(p)||Ol(p))return _=_.get(g)||null,h(d,_,p,N,null);if(typeof p.then=="function")return m(_,d,g,us(p),N);if(p.$$typeof===Kt)return m(_,d,g,ss(d,p),N);rs(d,p)}return null}function y(_,d,g,p){for(var N=null,H=null,T=d,w=d=0,B=null;T!==null&&w<g.length;w++){T.index>w?(B=T,T=null):B=T.sibling;var q=c(_,T,g[w],p);if(q===null){T===null&&(T=B);break}t&&T&&q.alternate===null&&e(_,T),d=a(q,d,w),H===null?N=q:H.sibling=q,H=q,T=B}if(w===g.length)return n(_,T),Q&&Xt(_,w),N;if(T===null){for(;w<g.length;w++)T=f(_,g[w],p),T!==null&&(d=a(T,d,w),H===null?N=T:H.sibling=T,H=T);return Q&&Xt(_,w),N}for(T=i(T);w<g.length;w++)B=m(T,_,w,g[w],p),B!==null&&(t&&B.alternate!==null&&T.delete(B.key===null?w:B.key),d=a(B,d,w),H===null?N=B:H.sibling=B,H=B);return t&&T.forEach(function(E){return e(_,E)}),Q&&Xt(_,w),N}function S(_,d,g,p){if(g==null)throw Error(v(151));for(var N=null,H=null,T=d,w=d=0,B=null,q=g.next();T!==null&&!q.done;w++,q=g.next()){T.index>w?(B=T,T=null):B=T.sibling;var E=c(_,T,q.value,p);if(E===null){T===null&&(T=B);break}t&&T&&E.alternate===null&&e(_,T),d=a(E,d,w),H===null?N=E:H.sibling=E,H=E,T=B}if(q.done)return n(_,T),Q&&Xt(_,w),N;if(T===null){for(;!q.done;w++,q=g.next())q=f(_,q.value,p),q!==null&&(d=a(q,d,w),H===null?N=q:H.sibling=q,H=q);return Q&&Xt(_,w),N}for(T=i(T);!q.done;w++,q=g.next())q=m(T,_,w,q.value,p),q!==null&&(t&&q.alternate!==null&&T.delete(q.key===null?w:q.key),d=a(q,d,w),H===null?N=q:H.sibling=q,H=q);return t&&T.forEach(function(ue){return e(_,ue)}),Q&&Xt(_,w),N}function D(_,d,g,p){if(typeof g=="object"&&g!==null&&g.type===wi&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case es:e:{for(var N=g.key;d!==null;){if(d.key===N){if(N=g.type,N===wi){if(d.tag===7){n(_,d.sibling),p=l(d,g.props.children),p.return=_,_=p;break e}}else if(d.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===mn&&Jn(N)===d.type){n(_,d.sibling),p=l(d,g.props),xl(p,g),p.return=_,_=p;break e}n(_,d);break}else e(_,d);d=d.sibling}g.type===wi?(p=ii(g.props.children,_.mode,p,g.key),p.return=_,_=p):(p=Es(g.type,g.key,g.props,null,_.mode,p),xl(p,g),p.return=_,_=p)}return s(_);case Gl:e:{for(N=g.key;d!==null;){if(d.key===N)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(_,d.sibling),p=l(d,g.children||[]),p.return=_,_=p;break e}else{n(_,d);break}else e(_,d);d=d.sibling}p=_r(g,_.mode,p),p.return=_,_=p}return s(_);case mn:return g=Jn(g),D(_,d,g,p)}if(Vl(g))return y(_,d,g,p);if(Ol(g)){if(N=Ol(g),typeof N!="function")throw Error(v(150));return g=N.call(g),S(_,d,g,p)}if(typeof g.then=="function")return D(_,d,us(g),p);if(g.$$typeof===Kt)return D(_,d,ss(_,g),p);rs(_,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,d!==null&&d.tag===6?(n(_,d.sibling),p=l(d,g),p.return=_,_=p):(n(_,d),p=mr(g,_.mode,p),p.return=_,_=p),s(_)):n(_,d)}return function(_,d,g,p){try{ya=0;var N=D(_,d,g,p);return Ki=null,N}catch(T){if(T===El||T===Lu)throw T;var H=rt(29,T,null,_.mode);return H.lanes=p,H.return=_,H}finally{}}}var oi=z_(!0),U_=z_(!1),_n=!1;function Ic(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function So(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Dn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Z&2){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=qs(t),A_(t,null,n),e}return Uu(t,i,e,n),qs(t)}function Wl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,$m(t,n)}}function pr(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?l=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?l=a=e:a=a.next=e}else l=a=e;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Eo=!1;function $l(){if(Eo){var t=Zi;if(t!==null)throw t}}function Pl(t,e,n,i){Eo=!1;var l=t.updateQueue;_n=!1;var a=l.firstBaseUpdate,s=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var r=u,o=r.next;r.next=null,s===null?a=o:s.next=o,s=r;var h=t.alternate;h!==null&&(h=h.updateQueue,u=h.lastBaseUpdate,u!==s&&(u===null?h.firstBaseUpdate=o:u.next=o,h.lastBaseUpdate=r))}if(a!==null){var f=l.baseState;s=0,h=o=r=null,u=a;do{var c=u.lane&-536870913,m=c!==u.lane;if(m?(k&c)===c:(i&c)===c){c!==0&&c===ll&&(Eo=!0),h!==null&&(h=h.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var y=t,S=u;c=e;var D=n;switch(S.tag){case 1:if(y=S.payload,typeof y=="function"){f=y.call(D,f,c);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,c=typeof y=="function"?y.call(D,f,c):y,c==null)break e;f=he({},f,c);break e;case 2:_n=!0}}c=u.callback,c!==null&&(t.flags|=64,m&&(t.flags|=8192),m=l.callbacks,m===null?l.callbacks=[c]:m.push(c))}else m={lane:c,tag:u.tag,payload:u.payload,callback:u.callback,next:null},h===null?(o=h=m,r=f):h=h.next=m,s|=c;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;m=u,u=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);h===null&&(r=f),l.baseState=r,l.firstBaseUpdate=o,l.lastBaseUpdate=h,a===null&&(l.shared.lanes=0),Yn|=s,t.lanes=s,t.memoizedState=f}}function L_(t,e){if(typeof t!="function")throw Error(v(191,t));t.call(e)}function H_(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)L_(n[t],e)}var al=Bt(null),js=Bt(0);function qh(t,e){t=un,se(js,t),se(al,e),un=t|e.baseLanes}function bo(){se(js,un),se(al,al.current)}function qc(){un=js.current,He(al),He(js)}var _t=Bt(null),Tt=null;function pn(t){var e=t.alternate;se(Se,Se.current&1),se(_t,t),Tt===null&&(e===null||al.current!==null||e.memoizedState!==null)&&(Tt=t)}function Co(t){se(Se,Se.current),se(_t,t),Tt===null&&(Tt=t)}function B_(t){t.tag===22?(se(Se,Se.current),se(_t,t),Tt===null&&(Tt=t)):yn()}function yn(){se(Se,Se.current),se(_t,_t.current)}function ut(t){He(_t),Tt===t&&(Tt=null),He(Se)}var Se=Bt(0);function ks(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vo(n)||jo(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ln=0,L=null,ee=null,Te=null,Qs=!1,Fi=!1,ci=!1,Xs=0,va=0,Ji=null,q0=0;function _e(){throw Error(v(321))}function Yc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mt(t[n],e[n]))return!1;return!0}function Gc(t,e,n,i,l,a){return ln=a,L=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,M.H=t===null||t.memoizedState===null?mg:$c,ci=!1,a=n(i,l),ci=!1,Fi&&(a=q_(e,n,i,l)),I_(t),a}function I_(t){M.H=Sa;var e=ee!==null&&ee.next!==null;if(ln=0,Te=ee=L=null,Qs=!1,va=0,Ji=null,e)throw Error(v(300));t===null||De||(t=t.dependencies,t!==null&&Gs(t)&&(De=!0))}function q_(t,e,n,i){L=t;var l=0;do{if(Fi&&(Ji=null),va=0,Fi=!1,25<=l)throw Error(v(301));if(l+=1,Te=ee=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}M.H=_g,a=e(n,i)}while(Fi);return a}function Y0(){var t=M.H,e=t.useState()[0];return e=typeof e.then=="function"?ja(e):e,t=t.useState()[0],(ee!==null?ee.memoizedState:null)!==t&&(L.flags|=1024),e}function Vc(){var t=Xs!==0;return Xs=0,t}function jc(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function kc(t){if(Qs){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Qs=!1}ln=0,Te=ee=L=null,Fi=!1,va=Xs=0,Ji=null}function Qe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?L.memoizedState=Te=t:Te=Te.next=t,Te}function Ee(){if(ee===null){var t=L.alternate;t=t!==null?t.memoizedState:null}else t=ee.next;var e=Te===null?L.memoizedState:Te.next;if(e!==null)Te=e,ee=t;else{if(t===null)throw L.alternate===null?Error(v(467)):Error(v(310));ee=t,t={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Te===null?L.memoizedState=Te=t:Te=Te.next=t}return Te}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ja(t){var e=va;return va+=1,Ji===null&&(Ji=[]),t=x_(Ji,t,e),e=L,(Te===null?e.memoizedState:Te.next)===null&&(e=e.alternate,M.H=e===null||e.memoizedState===null?mg:$c),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ja(t);if(t.$$typeof===Kt)return Ve(t)}throw Error(v(438,String(t)))}function Qc(t){var e=null,n=L.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=L.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Hu(),L.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=Av;return e.index++,n}function an(t,e){return typeof e=="function"?e(t):e}function Cs(t){var e=Ee();return Xc(e,ee,t)}function Xc(t,e,n){var i=t.queue;if(i===null)throw Error(v(311));i.lastRenderedReducer=n;var l=t.baseQueue,a=i.pending;if(a!==null){if(l!==null){var s=l.next;l.next=a.next,a.next=s}e.baseQueue=l=a,i.pending=null}if(a=t.baseState,l===null)t.memoizedState=a;else{e=l.next;var u=s=null,r=null,o=e,h=!1;do{var f=o.lane&-536870913;if(f!==o.lane?(k&f)===f:(ln&f)===f){var c=o.revertLane;if(c===0)r!==null&&(r=r.next={lane:0,revertLane:0,gesture:null,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),f===ll&&(h=!0);else if((ln&c)===c){o=o.next,c===ll&&(h=!0);continue}else f={lane:0,revertLane:o.revertLane,gesture:null,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},r===null?(u=r=f,s=a):r=r.next=f,L.lanes|=c,Yn|=c;f=o.action,ci&&n(a,f),a=o.hasEagerState?o.eagerState:n(a,f)}else c={lane:f,revertLane:o.revertLane,gesture:o.gesture,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},r===null?(u=r=c,s=a):r=r.next=c,L.lanes|=f,Yn|=f;o=o.next}while(o!==null&&o!==e);if(r===null?s=a:r.next=u,!mt(a,t.memoizedState)&&(De=!0,h&&(n=Zi,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=r,i.lastRenderedState=a}return l===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function yr(t){var e=Ee(),n=e.queue;if(n===null)throw Error(v(311));n.lastRenderedReducer=t;var i=n.dispatch,l=n.pending,a=e.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do a=t(a,s.action),s=s.next;while(s!==l);mt(a,e.memoizedState)||(De=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Y_(t,e,n){var i=L,l=Ee(),a=Q;if(a){if(n===void 0)throw Error(v(407));n=n()}else n=e();var s=!mt((ee||l).memoizedState,n);if(s&&(l.memoizedState=n,De=!0),l=l.queue,Zc(j_.bind(null,i,l,t),[t]),l.getSnapshot!==e||s||Te!==null&&Te.memoizedState.tag&1){if(i.flags|=2048,sl(9,{destroy:void 0},V_.bind(null,i,l,n,e),null),ne===null)throw Error(v(349));a||ln&127||G_(i,e,n)}return n}function G_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=L.updateQueue,e===null?(e=Hu(),L.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function V_(t,e,n,i){e.value=n,e.getSnapshot=i,k_(e)&&Q_(t)}function j_(t,e,n){return n(function(){k_(e)&&Q_(t)})}function k_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mt(t,n)}catch{return!0}}function Q_(t){var e=vi(t,2);e!==null&&tt(e,t,2)}function To(t){var e=Qe();if(typeof t=="function"){var n=t;if(t=n(),ci){Sn(!0);try{n()}finally{Sn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:t},e}function X_(t,e,n,i){return t.baseState=n,Xc(t,ee,typeof i=="function"?i:an)}function G0(t,e,n,i,l){if(qu(t))throw Error(v(485));if(t=e.action,t!==null){var a={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};M.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,Z_(e,a)):(a.next=n.next,e.pending=n.next=a)}}function Z_(t,e){var n=e.action,i=e.payload,l=t.state;if(e.isTransition){var a=M.T,s={};M.T=s;try{var u=n(l,i),r=M.S;r!==null&&r(s,u),Yh(t,e,u)}catch(o){Ao(t,e,o)}finally{a!==null&&s.types!==null&&(a.types=s.types),M.T=a}}else try{a=n(l,i),Yh(t,e,a)}catch(o){Ao(t,e,o)}}function Yh(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Gh(t,e,i)},function(i){return Ao(t,e,i)}):Gh(t,e,n)}function Gh(t,e,n){e.status="fulfilled",e.value=n,K_(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Z_(t,n)))}function Ao(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,K_(e),e=e.next;while(e!==i)}t.action=null}function K_(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function F_(t,e){return e}function Vh(t,e){if(Q){var n=ne.formState;if(n!==null){e:{var i=L;if(Q){if(ce){t:{for(var l=ce,a=bt;l.nodeType!==8;){if(!a){l=null;break t}if(l=At(l.nextSibling),l===null){l=null;break t}}a=l.data,l=a==="F!"||a==="F"?l:null}if(l){ce=At(l.nextSibling),i=l.data==="F!";break e}}In(i)}i=!1}i&&(e=n[0])}}return n=Qe(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F_,lastRenderedState:e},n.queue=i,n=fg.bind(null,L,i),i.dispatch=n,i=To(!1),a=Wc.bind(null,L,!1,i.queue),i=Qe(),l={state:e,dispatch:null,action:t,pending:null},i.queue=l,n=G0.bind(null,L,l,a,n),l.dispatch=n,i.memoizedState=t,[e,n,!1]}function jh(t){var e=Ee();return J_(e,ee,t)}function J_(t,e,n){if(e=Xc(t,e,F_)[0],t=Cs(an)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=ja(e)}catch(s){throw s===El?Lu:s}else i=e;e=Ee();var l=e.queue,a=l.dispatch;return n!==e.memoizedState&&(L.flags|=2048,sl(9,{destroy:void 0},V0.bind(null,l,n),null)),[i,a,t]}function V0(t,e){t.action=e}function kh(t){var e=Ee(),n=ee;if(n!==null)return J_(e,n,t);Ee(),e=e.memoizedState,n=Ee();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function sl(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=L.updateQueue,e===null&&(e=Hu(),L.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function W_(){return Ee().memoizedState}function Ts(t,e,n,i){var l=Qe();L.flags|=t,l.memoizedState=sl(1|e,{destroy:void 0},n,i===void 0?null:i)}function Iu(t,e,n,i){var l=Ee();i=i===void 0?null:i;var a=l.memoizedState.inst;ee!==null&&i!==null&&Yc(i,ee.memoizedState.deps)?l.memoizedState=sl(e,a,n,i):(L.flags|=t,l.memoizedState=sl(1|e,a,n,i))}function Qh(t,e){Ts(8390656,8,t,e)}function Zc(t,e){Iu(2048,8,t,e)}function j0(t){L.flags|=4;var e=L.updateQueue;if(e===null)e=Hu(),L.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function $_(t){var e=Ee().memoizedState;return j0({ref:e,nextImpl:t}),function(){if(Z&2)throw Error(v(440));return e.impl.apply(void 0,arguments)}}function P_(t,e){return Iu(4,2,t,e)}function eg(t,e){return Iu(4,4,t,e)}function tg(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ng(t,e,n){n=n!=null?n.concat([t]):null,Iu(4,4,tg.bind(null,e,t),n)}function Kc(){}function ig(t,e){var n=Ee();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Yc(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function lg(t,e){var n=Ee();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Yc(e,i[1]))return i[0];if(i=t(),ci){Sn(!0);try{t()}finally{Sn(!1)}}return n.memoizedState=[i,e],i}function Fc(t,e,n){return n===void 0||ln&1073741824&&!(k&261930)?t.memoizedState=e:(t.memoizedState=n,t=Xg(),L.lanes|=t,Yn|=t,n)}function ag(t,e,n,i){return mt(n,e)?n:al.current!==null?(t=Fc(t,n,i),mt(t,e)||(De=!0),t):!(ln&42)||ln&1073741824&&!(k&261930)?(De=!0,t.memoizedState=n):(t=Xg(),L.lanes|=t,Yn|=t,e)}function sg(t,e,n,i,l){var a=K.p;K.p=a!==0&&8>a?a:8;var s=M.T,u={};M.T=u,Wc(t,!1,e,n);try{var r=l(),o=M.S;if(o!==null&&o(u,r),r!==null&&typeof r=="object"&&typeof r.then=="function"){var h=I0(r,i);ea(t,e,h,dt(t))}else ea(t,e,i,dt(t))}catch(f){ea(t,e,{then:function(){},status:"rejected",reason:f},dt())}finally{K.p=a,s!==null&&u.types!==null&&(s.types=u.types),M.T=s}}function k0(){}function No(t,e,n,i){if(t.tag!==5)throw Error(v(476));var l=ug(t).queue;sg(t,l,e,ni,n===null?k0:function(){return rg(t),n(i)})}function ug(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ni,baseState:ni,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:ni},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function rg(t){var e=ug(t);e.next===null&&(e=t.alternate.memoizedState),ea(t,e.next.queue,{},dt())}function Jc(){return Ve(Ca)}function og(){return Ee().memoizedState}function cg(){return Ee().memoizedState}function Q0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=dt();t=Dn(n);var i=Rn(e,t,n);i!==null&&(tt(i,e,n),Wl(i,e,n)),e={cache:Lc()},t.payload=e;return}e=e.return}}function X0(t,e,n){var i=dt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},qu(t)?hg(e,n):(n=wc(t,e,n,i),n!==null&&(tt(n,t,i),dg(n,e,i)))}function fg(t,e,n){var i=dt();ea(t,e,n,i)}function ea(t,e,n,i){var l={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(qu(t))hg(e,l);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,u=a(s,n);if(l.hasEagerState=!0,l.eagerState=u,mt(u,s))return Uu(t,e,l,0),ne===null&&zu(),!1}catch{}finally{}if(n=wc(t,e,l,i),n!==null)return tt(n,t,i),dg(n,e,i),!0}return!1}function Wc(t,e,n,i){if(i={lane:2,revertLane:uf(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(e)throw Error(v(479))}else e=wc(t,n,i,2),e!==null&&tt(e,t,2)}function qu(t){var e=t.alternate;return t===L||e!==null&&e===L}function hg(t,e){Fi=Qs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dg(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,$m(t,n)}}var Sa={readContext:Ve,use:Bu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};Sa.useEffectEvent=_e;var mg={readContext:Ve,use:Bu,useCallback:function(t,e){return Qe().memoizedState=[t,e===void 0?null:e],t},useContext:Ve,useEffect:Qh,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ts(4194308,4,tg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ts(4194308,4,t,e)},useInsertionEffect:function(t,e){Ts(4,2,t,e)},useMemo:function(t,e){var n=Qe();e=e===void 0?null:e;var i=t();if(ci){Sn(!0);try{t()}finally{Sn(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Qe();if(n!==void 0){var l=n(e);if(ci){Sn(!0);try{n(e)}finally{Sn(!1)}}}else l=e;return i.memoizedState=i.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},i.queue=t,t=t.dispatch=X0.bind(null,L,t),[i.memoizedState,t]},useRef:function(t){var e=Qe();return t={current:t},e.memoizedState=t},useState:function(t){t=To(t);var e=t.queue,n=fg.bind(null,L,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Kc,useDeferredValue:function(t,e){var n=Qe();return Fc(n,t,e)},useTransition:function(){var t=To(!1);return t=sg.bind(null,L,t.queue,!0,!1),Qe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=L,l=Qe();if(Q){if(n===void 0)throw Error(v(407));n=n()}else{if(n=e(),ne===null)throw Error(v(349));k&127||G_(i,e,n)}l.memoizedState=n;var a={value:n,getSnapshot:e};return l.queue=a,Qh(j_.bind(null,i,a,t),[t]),i.flags|=2048,sl(9,{destroy:void 0},V_.bind(null,i,a,n,e),null),n},useId:function(){var t=Qe(),e=ne.identifierPrefix;if(Q){var n=Ut,i=zt;n=(i&~(1<<32-ht(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Xs++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=q0++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Jc,useFormState:Vh,useActionState:Vh,useOptimistic:function(t){var e=Qe();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Wc.bind(null,L,!0,n),n.dispatch=e,[t,e]},useMemoCache:Qc,useCacheRefresh:function(){return Qe().memoizedState=Q0.bind(null,L)},useEffectEvent:function(t){var e=Qe(),n={impl:t};return e.memoizedState=n,function(){if(Z&2)throw Error(v(440));return n.impl.apply(void 0,arguments)}}},$c={readContext:Ve,use:Bu,useCallback:ig,useContext:Ve,useEffect:Zc,useImperativeHandle:ng,useInsertionEffect:P_,useLayoutEffect:eg,useMemo:lg,useReducer:Cs,useRef:W_,useState:function(){return Cs(an)},useDebugValue:Kc,useDeferredValue:function(t,e){var n=Ee();return ag(n,ee.memoizedState,t,e)},useTransition:function(){var t=Cs(an)[0],e=Ee().memoizedState;return[typeof t=="boolean"?t:ja(t),e]},useSyncExternalStore:Y_,useId:og,useHostTransitionStatus:Jc,useFormState:jh,useActionState:jh,useOptimistic:function(t,e){var n=Ee();return X_(n,ee,t,e)},useMemoCache:Qc,useCacheRefresh:cg};$c.useEffectEvent=$_;var _g={readContext:Ve,use:Bu,useCallback:ig,useContext:Ve,useEffect:Zc,useImperativeHandle:ng,useInsertionEffect:P_,useLayoutEffect:eg,useMemo:lg,useReducer:yr,useRef:W_,useState:function(){return yr(an)},useDebugValue:Kc,useDeferredValue:function(t,e){var n=Ee();return ee===null?Fc(n,t,e):ag(n,ee.memoizedState,t,e)},useTransition:function(){var t=yr(an)[0],e=Ee().memoizedState;return[typeof t=="boolean"?t:ja(t),e]},useSyncExternalStore:Y_,useId:og,useHostTransitionStatus:Jc,useFormState:kh,useActionState:kh,useOptimistic:function(t,e){var n=Ee();return ee!==null?X_(n,ee,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Qc,useCacheRefresh:cg};_g.useEffectEvent=$_;function vr(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Do={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=dt(),l=Dn(i);l.payload=e,n!=null&&(l.callback=n),e=Rn(t,l,i),e!==null&&(tt(e,t,i),Wl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=dt(),l=Dn(i);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Rn(t,l,i),e!==null&&(tt(e,t,i),Wl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dt(),i=Dn(n);i.tag=2,e!=null&&(i.callback=e),e=Rn(t,i,n),e!==null&&(tt(e,t,n),Wl(e,t,n))}};function Xh(t,e,n,i,l,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,s):e.prototype&&e.prototype.isPureReactComponent?!_a(n,i)||!_a(l,a):!0}function Zh(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Do.enqueueReplaceState(e,e.state,null)}function fi(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=he({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function gg(t){Is(t)}function pg(t){console.error(t)}function yg(t){Is(t)}function Zs(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Kh(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Ro(t,e,n){return n=Dn(n),n.tag=3,n.payload={element:null},n.callback=function(){Zs(t,e)},n}function vg(t){return t=Dn(t),t.tag=3,t}function Sg(t,e,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var a=i.value;t.payload=function(){return l(a)},t.callback=function(){Kh(e,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Kh(e,n,i),typeof l!="function"&&(On===null?On=new Set([this]):On.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function Z0(t,e,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Sl(e,n,l,!0),n=_t.current,n!==null){switch(n.tag){case 31:case 13:return Tt===null?$s():n.alternate===null&&ge===0&&(ge=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===Vs?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Mr(t,i,l)),!1;case 22:return n.flags|=65536,i===Vs?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Mr(t,i,l)),!1}throw Error(v(435,n.tag))}return Mr(t,i,l),$s(),!1}if(Q)return e=_t.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==_o&&(t=Error(v(422),{cause:i}),pa(Et(t,n)))):(i!==_o&&(e=Error(v(423),{cause:i}),pa(Et(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,i=Et(i,n),l=Ro(t.stateNode,i,l),pr(t,l),ge!==4&&(ge=2)),!1;var a=Error(v(520),{cause:i});if(a=Et(a,n),ia===null?ia=[a]:ia.push(a),ge!==4&&(ge=2),e===null)return!0;i=Et(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=Ro(n.stateNode,i,t),pr(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(On===null||!On.has(a))))return n.flags|=65536,l&=-l,n.lanes|=l,l=vg(l),Sg(l,t,n,i),pr(n,l),!1}n=n.return}while(n!==null);return!1}var Pc=Error(v(461)),De=!1;function Be(t,e,n,i){e.child=t===null?U_(e,null,n,i):oi(e,t.child,n,i)}function Fh(t,e,n,i,l){n=n.render;var a=e.ref;if("ref"in i){var s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}else s=i;return ri(e),i=Gc(t,e,n,s,a,l),u=Vc(),t!==null&&!De?(jc(t,e,l),sn(t,e,l)):(Q&&u&&zc(e),e.flags|=1,Be(t,e,i,l),e.child)}function Jh(t,e,n,i,l){if(t===null){var a=n.type;return typeof a=="function"&&!xc(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,Eg(t,e,a,i,l)):(t=Es(n.type,null,i,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!ef(t,l)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:_a,n(s,i)&&t.ref===e.ref)return sn(t,e,l)}return e.flags|=1,t=$t(a,i),t.ref=e.ref,t.return=e,e.child=t}function Eg(t,e,n,i,l){if(t!==null){var a=t.memoizedProps;if(_a(a,i)&&t.ref===e.ref)if(De=!1,e.pendingProps=i=a,ef(t,l))t.flags&131072&&(De=!0);else return e.lanes=t.lanes,sn(t,e,l)}return Oo(t,e,n,i,l)}function bg(t,e,n,i){var l=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;i=l&~a}else i=0,e.child=null;return Wh(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&bs(e,a!==null?a.cachePool:null),a!==null?qh(e,a):bo(),B_(e);else return i=e.lanes=536870912,Wh(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(bs(e,a.cachePool),qh(e,a),yn(),e.memoizedState=null):(t!==null&&bs(e,null),bo(),yn());return Be(t,e,l,n),e.child}function kl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Wh(t,e,n,i,l){var a=Hc();return a=a===null?null:{parent:Ne._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&bs(e,null),bo(),B_(e),t!==null&&Sl(t,e,i,!0),e.childLanes=l,null}function As(t,e){return e=Ks({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function $h(t,e,n){return oi(e,t.child,null,n),t=As(e,e.pendingProps),t.flags|=2,ut(e),e.memoizedState=null,t}function K0(t,e,n){var i=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Q){if(i.mode==="hidden")return t=As(e,i),e.lanes=536870912,kl(null,t);if(Co(e),(t=ce)?(t=mp(t,bt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Bn!==null?{id:zt,overflow:Ut}:null,retryLane:536870912,hydrationErrors:null},n=D_(t),n.return=e,e.child=n,Ge=e,ce=null)):t=null,t===null)throw In(e);return e.lanes=536870912,null}return As(e,i)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(Co(e),l)if(e.flags&256)e.flags&=-257,e=$h(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(v(558));else if(De||Sl(t,e,n,!1),l=(n&t.childLanes)!==0,De||l){if(i=ne,i!==null&&(s=Pm(i,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,vi(t,s),tt(i,t,s),Pc;$s(),e=$h(t,e,n)}else t=a.treeContext,ce=At(s.nextSibling),Ge=e,Q=!0,Nn=null,bt=!1,t!==null&&O_(e,t),e=As(e,i),e.flags|=4096;return e}return t=$t(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Ns(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(v(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Oo(t,e,n,i,l){return ri(e),n=Gc(t,e,n,i,void 0,l),i=Vc(),t!==null&&!De?(jc(t,e,l),sn(t,e,l)):(Q&&i&&zc(e),e.flags|=1,Be(t,e,n,l),e.child)}function Ph(t,e,n,i,l,a){return ri(e),e.updateQueue=null,n=q_(e,i,n,l),I_(t),i=Vc(),t!==null&&!De?(jc(t,e,a),sn(t,e,a)):(Q&&i&&zc(e),e.flags|=1,Be(t,e,n,a),e.child)}function ed(t,e,n,i,l){if(ri(e),e.stateNode===null){var a=qi,s=n.contextType;typeof s=="object"&&s!==null&&(a=Ve(s)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Do,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},Ic(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Ve(s):qi,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(vr(e,n,s,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Do.enqueueReplaceState(a,a.state,null),Pl(e,i,a,l),$l(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var u=e.memoizedProps,r=fi(n,u);a.props=r;var o=a.context,h=n.contextType;s=qi,typeof h=="object"&&h!==null&&(s=Ve(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u||o!==s)&&Zh(e,a,i,s),_n=!1;var c=e.memoizedState;a.state=c,Pl(e,i,a,l),$l(),o=e.memoizedState,u||c!==o||_n?(typeof f=="function"&&(vr(e,n,f,i),o=e.memoizedState),(r=_n||Xh(e,n,r,i,c,o,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=o),a.props=i,a.state=o,a.context=s,i=r):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,So(t,e),s=e.memoizedProps,h=fi(n,s),a.props=h,f=e.pendingProps,c=a.context,o=n.contextType,r=qi,typeof o=="object"&&o!==null&&(r=Ve(o)),u=n.getDerivedStateFromProps,(o=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||c!==r)&&Zh(e,a,i,r),_n=!1,c=e.memoizedState,a.state=c,Pl(e,i,a,l),$l();var m=e.memoizedState;s!==f||c!==m||_n||t!==null&&t.dependencies!==null&&Gs(t.dependencies)?(typeof u=="function"&&(vr(e,n,u,i),m=e.memoizedState),(h=_n||Xh(e,n,h,i,c,m,r)||t!==null&&t.dependencies!==null&&Gs(t.dependencies))?(o||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,r),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,r)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=r,i=h):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,Ns(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=oi(e,t.child,null,l),e.child=oi(e,null,n,l)):Be(t,e,n,l),e.memoizedState=a.state,t=e.child):t=sn(t,e,l),t}function td(t,e,n,i){return ui(),e.flags|=256,Be(t,e,n,i),e.child}var Sr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Er(t){return{baseLanes:t,cachePool:w_()}}function br(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=ot),t}function Cg(t,e,n){var i=e.pendingProps,l=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),s&&(l=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Q){if(l?pn(e):yn(),(t=ce)?(t=mp(t,bt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Bn!==null?{id:zt,overflow:Ut}:null,retryLane:536870912,hydrationErrors:null},n=D_(t),n.return=e,e.child=n,Ge=e,ce=null)):t=null,t===null)throw In(e);return jo(t)?e.lanes=32:e.lanes=536870912,null}var u=i.children;return i=i.fallback,l?(yn(),l=e.mode,u=Ks({mode:"hidden",children:u},l),i=ii(i,l,n,null),u.return=e,i.return=e,u.sibling=i,e.child=u,i=e.child,i.memoizedState=Er(n),i.childLanes=br(t,s,n),e.memoizedState=Sr,kl(null,i)):(pn(e),Mo(e,u))}var r=t.memoizedState;if(r!==null&&(u=r.dehydrated,u!==null)){if(a)e.flags&256?(pn(e),e.flags&=-257,e=Cr(t,e,n)):e.memoizedState!==null?(yn(),e.child=t.child,e.flags|=128,e=null):(yn(),u=i.fallback,l=e.mode,i=Ks({mode:"visible",children:i.children},l),u=ii(u,l,n,null),u.flags|=2,i.return=e,u.return=e,i.sibling=u,e.child=i,oi(e,t.child,null,n),i=e.child,i.memoizedState=Er(n),i.childLanes=br(t,s,n),e.memoizedState=Sr,e=kl(null,i));else if(pn(e),jo(u)){if(s=u.nextSibling&&u.nextSibling.dataset,s)var o=s.dgst;s=o,i=Error(v(419)),i.stack="",i.digest=s,pa({value:i,source:null,stack:null}),e=Cr(t,e,n)}else if(De||Sl(t,e,n,!1),s=(n&t.childLanes)!==0,De||s){if(s=ne,s!==null&&(i=Pm(s,n),i!==0&&i!==r.retryLane))throw r.retryLane=i,vi(t,i),tt(s,t,i),Pc;Vo(u)||$s(),e=Cr(t,e,n)}else Vo(u)?(e.flags|=192,e.child=t.child,e=null):(t=r.treeContext,ce=At(u.nextSibling),Ge=e,Q=!0,Nn=null,bt=!1,t!==null&&O_(e,t),e=Mo(e,i.children),e.flags|=4096);return e}return l?(yn(),u=i.fallback,l=e.mode,r=t.child,o=r.sibling,i=$t(r,{mode:"hidden",children:i.children}),i.subtreeFlags=r.subtreeFlags&65011712,o!==null?u=$t(o,u):(u=ii(u,l,n,null),u.flags|=2),u.return=e,i.return=e,i.sibling=u,e.child=i,kl(null,i),i=e.child,u=t.child.memoizedState,u===null?u=Er(n):(l=u.cachePool,l!==null?(r=Ne._currentValue,l=l.parent!==r?{parent:r,pool:r}:l):l=w_(),u={baseLanes:u.baseLanes|n,cachePool:l}),i.memoizedState=u,i.childLanes=br(t,s,n),e.memoizedState=Sr,kl(t.child,i)):(pn(e),n=t.child,t=n.sibling,n=$t(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Mo(t,e){return e=Ks({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ks(t,e){return t=rt(22,t,null,e),t.lanes=0,t}function Cr(t,e,n){return oi(e,t.child,null,n),t=Mo(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nd(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),po(t.return,e,n)}function Tr(t,e,n,i,l,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=l,s.treeForkCount=a)}function Tg(t,e,n){var i=e.pendingProps,l=i.revealOrder,a=i.tail;i=i.children;var s=Se.current,u=(s&2)!==0;if(u?(s=s&1|2,e.flags|=128):s&=1,se(Se,s),Be(t,e,i,n),i=Q?ga:0,!u&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nd(t,n,e);else if(t.tag===19)nd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&ks(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Tr(e,!1,l,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&ks(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Tr(e,!0,n,null,a,i);break;case"together":Tr(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yn|=e.lanes,!(n&e.childLanes))if(t!==null){if(Sl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(v(153));if(e.child!==null){for(t=e.child,n=$t(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$t(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ef(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Gs(t)))}function F0(t,e,n){switch(e.tag){case 3:Us(e,e.stateNode.containerInfo),gn(e,Ne,t.memoizedState.cache),ui();break;case 27:case 5:io(e);break;case 4:Us(e,e.stateNode.containerInfo);break;case 10:gn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Co(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(pn(e),e.flags|=128,null):n&e.child.childLanes?Cg(t,e,n):(pn(e),t=sn(t,e,n),t!==null?t.sibling:null);pn(e);break;case 19:var l=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Sl(t,e,n,!1),i=(n&e.childLanes)!==0),l){if(i)return Tg(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),se(Se,Se.current),i)break;return null;case 22:return e.lanes=0,bg(t,e,n,e.pendingProps);case 24:gn(e,Ne,t.memoizedState.cache)}return sn(t,e,n)}function Ag(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)De=!0;else{if(!ef(t,n)&&!(e.flags&128))return De=!1,F0(t,e,n);De=!!(t.flags&131072)}else De=!1,Q&&e.flags&1048576&&R_(e,ga,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Jn(e.elementType),e.type=t,typeof t=="function")xc(t)?(i=fi(t,i),e.tag=1,e=ed(null,e,t,i,n)):(e.tag=0,e=Oo(null,e,t,i,n));else{if(t!=null){var l=t.$$typeof;if(l===yc){e.tag=11,e=Fh(null,e,t,i,n);break e}else if(l===vc){e.tag=14,e=Jh(null,e,t,i,n);break e}}throw e=to(t)||t,Error(v(306,e,""))}}return e;case 0:return Oo(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,l=fi(i,e.pendingProps),ed(t,e,i,l,n);case 3:e:{if(Us(e,e.stateNode.containerInfo),t===null)throw Error(v(387));i=e.pendingProps;var a=e.memoizedState;l=a.element,So(t,e),Pl(e,i,null,n);var s=e.memoizedState;if(i=s.cache,gn(e,Ne,i),i!==a.cache&&yo(e,[Ne],n,!0),$l(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=td(t,e,i,n);break e}else if(i!==l){l=Et(Error(v(424)),e),pa(l),e=td(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ce=At(t.firstChild),Ge=e,Q=!0,Nn=null,bt=!0,n=U_(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ui(),i===l){e=sn(t,e,n);break e}Be(t,e,i,n)}e=e.child}return e;case 26:return Ns(t,e),t===null?(n=bd(e.type,null,e.pendingProps,null))?e.memoizedState=n:Q||(n=e.type,t=e.pendingProps,i=nu(An.current).createElement(n),i[Ye]=e,i[it]=t,je(i,n,t),Ue(i),e.stateNode=i):e.memoizedState=bd(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return io(e),t===null&&Q&&(i=e.stateNode=_p(e.type,e.pendingProps,An.current),Ge=e,bt=!0,l=ce,kn(e.type)?(ko=l,ce=At(i.firstChild)):ce=l),Be(t,e,e.pendingProps.children,n),Ns(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Q&&((l=i=ce)&&(i=A1(i,e.type,e.pendingProps,bt),i!==null?(e.stateNode=i,Ge=e,ce=At(i.firstChild),bt=!1,l=!0):l=!1),l||In(e)),io(e),l=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,Yo(l,a)?i=null:s!==null&&Yo(l,s)&&(e.flags|=32),e.memoizedState!==null&&(l=Gc(t,e,Y0,null,null,n),Ca._currentValue=l),Ns(t,e),Be(t,e,i,n),e.child;case 6:return t===null&&Q&&((t=n=ce)&&(n=N1(n,e.pendingProps,bt),n!==null?(e.stateNode=n,Ge=e,ce=null,t=!0):t=!1),t||In(e)),null;case 13:return Cg(t,e,n);case 4:return Us(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=oi(e,null,i,n):Be(t,e,i,n),e.child;case 11:return Fh(t,e,e.type,e.pendingProps,n);case 7:return Be(t,e,e.pendingProps,n),e.child;case 8:return Be(t,e,e.pendingProps.children,n),e.child;case 12:return Be(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,gn(e,e.type,i.value),Be(t,e,i.children,n),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,ri(e),l=Ve(l),i=i(l),e.flags|=1,Be(t,e,i,n),e.child;case 14:return Jh(t,e,e.type,e.pendingProps,n);case 15:return Eg(t,e,e.type,e.pendingProps,n);case 19:return Tg(t,e,n);case 31:return K0(t,e,n);case 22:return bg(t,e,n,e.pendingProps);case 24:return ri(e),i=Ve(Ne),t===null?(l=Hc(),l===null&&(l=ne,a=Lc(),l.pooledCache=a,a.refCount++,a!==null&&(l.pooledCacheLanes|=n),l=a),e.memoizedState={parent:i,cache:l},Ic(e),gn(e,Ne,l)):(t.lanes&n&&(So(t,e),Pl(e,null,null,n),$l()),l=t.memoizedState,a=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),gn(e,Ne,i)):(i=a.cache,gn(e,Ne,i),i!==l.cache&&yo(e,[Ne],n,!0))),Be(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(v(156,e.tag))}function Vt(t){t.flags|=4}function Ar(t,e,n,i,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(Fg())t.flags|=8192;else throw ai=Vs,Bc}else t.flags&=-16777217}function id(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!yp(e))if(Fg())t.flags|=8192;else throw ai=Vs,Bc}function os(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Jm():536870912,t.lanes|=e,ul|=e)}function zl(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function J0(t,e,n){var i=e.pendingProps;switch(Uc(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(e),null;case 1:return oe(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Pt(Ne),tl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ci(e)?Vt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr())),oe(e),null;case 26:var l=e.type,a=e.memoizedState;return t===null?(Vt(e),a!==null?(oe(e),id(e,a)):(oe(e),Ar(e,l,null,i,n))):a?a!==t.memoizedState?(Vt(e),oe(e),id(e,a)):(oe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Vt(e),oe(e),Ar(e,l,t,i,n)),null;case 27:if(Ls(e),n=An.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Vt(e);else{if(!i){if(e.stateNode===null)throw Error(v(166));return oe(e),null}t=Ht.current,Ci(e)?xh(e):(t=_p(l,i,n),e.stateNode=t,Vt(e))}return oe(e),null;case 5:if(Ls(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Vt(e);else{if(!i){if(e.stateNode===null)throw Error(v(166));return oe(e),null}if(a=Ht.current,Ci(e))xh(e);else{var s=nu(An.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?s.createElement(l,{is:i.is}):s.createElement(l)}}a[Ye]=e,a[it]=i;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(je(a,l,i),l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Vt(e)}}return oe(e),Ar(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Vt(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(v(166));if(t=An.current,Ci(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,l=Ge,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}t[Ye]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||fp(t.nodeValue,n)),t||In(e,!0)}else t=nu(t).createTextNode(i),t[Ye]=e,e.stateNode=t}return oe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Ci(e),n!==null){if(t===null){if(!i)throw Error(v(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(v(557));t[Ye]=e}else ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;oe(e),t=!1}else n=gr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(ut(e),e):(ut(e),null);if(e.flags&128)throw Error(v(558))}return oe(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Ci(e),i!==null&&i.dehydrated!==null){if(t===null){if(!l)throw Error(v(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(v(317));l[Ye]=e}else ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;oe(e),l=!1}else l=gr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(ut(e),e):(ut(e),null)}return ut(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),os(e,e.updateQueue),oe(e),null);case 4:return tl(),t===null&&rf(e.stateNode.containerInfo),oe(e),null;case 10:return Pt(e.type),oe(e),null;case 19:if(He(Se),i=e.memoizedState,i===null)return oe(e),null;if(l=(e.flags&128)!==0,a=i.rendering,a===null)if(l)zl(i,!1);else{if(ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ks(t),a!==null){for(e.flags|=128,zl(i,!1),t=a.updateQueue,e.updateQueue=t,os(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)N_(n,t),n=n.sibling;return se(Se,Se.current&1|2),Q&&Xt(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&ct()>Js&&(e.flags|=128,l=!0,zl(i,!1),e.lanes=4194304)}else{if(!l)if(t=ks(a),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,os(e,t),zl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Q)return oe(e),null}else 2*ct()-i.renderingStartTime>Js&&n!==536870912&&(e.flags|=128,l=!0,zl(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ct(),t.sibling=null,n=Se.current,se(Se,l?n&1|2:n&1),Q&&Xt(e,i.treeForkCount),t):(oe(e),null);case 22:case 23:return ut(e),qc(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(oe(e),e.subtreeFlags&6&&(e.flags|=8192)):oe(e),n=e.updateQueue,n!==null&&os(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&He(li),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Pt(Ne),oe(e),null;case 25:return null;case 30:return null}throw Error(v(156,e.tag))}function W0(t,e){switch(Uc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pt(Ne),tl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ls(e),null;case 31:if(e.memoizedState!==null){if(ut(e),e.alternate===null)throw Error(v(340));ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(ut(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(v(340));ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Se),null;case 4:return tl(),null;case 10:return Pt(e.type),null;case 22:case 23:return ut(e),qc(),t!==null&&He(li),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Pt(Ne),null;case 25:return null;default:return null}}function Ng(t,e){switch(Uc(e),e.tag){case 3:Pt(Ne),tl();break;case 26:case 27:case 5:Ls(e);break;case 4:tl();break;case 31:e.memoizedState!==null&&ut(e);break;case 13:ut(e);break;case 19:He(Se);break;case 10:Pt(e.type);break;case 22:case 23:ut(e),qc(),t!==null&&He(li);break;case 24:Pt(Ne)}}function ka(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&t)===t){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==l)}}catch(u){J(e,e.return,u)}}function qn(t,e,n){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var a=l.next;i=a;do{if((i.tag&t)===t){var s=i.inst,u=s.destroy;if(u!==void 0){s.destroy=void 0,l=e;var r=n,o=u;try{o()}catch(h){J(l,r,h)}}}i=i.next}while(i!==a)}}catch(h){J(e,e.return,h)}}function Dg(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{H_(e,n)}catch(i){J(t,t.return,i)}}}function Rg(t,e,n){n.props=fi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){J(t,e,i)}}function ta(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(l){J(t,e,l)}}function Lt(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){J(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){J(t,e,l)}else n.current=null}function Og(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){J(t,t.return,l)}}function Nr(t,e,n){try{var i=t.stateNode;v1(i,t.type,n,e),i[it]=e}catch(l){J(t,t.return,l)}}function Mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&kn(t.type)||t.tag===4}function Dr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&kn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wo(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ft));else if(i!==4&&(i===27&&kn(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(wo(t,e,n),t=t.sibling;t!==null;)wo(t,e,n),t=t.sibling}function Fs(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&kn(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Fs(t,e,n),t=t.sibling;t!==null;)Fs(t,e,n),t=t.sibling}function wg(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);je(e,i,n),e[Ye]=t,e[it]=n}catch(a){J(t,t.return,a)}}var Zt=!1,Ae=!1,Rr=!1,ld=typeof WeakSet=="function"?WeakSet:Set,xe=null;function $0(t,e){if(t=t.containerInfo,Io=su,t=y_(t),Oc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,u=-1,r=-1,o=0,h=0,f=t,c=null;t:for(;;){for(var m;f!==n||l!==0&&f.nodeType!==3||(u=s+l),f!==a||i!==0&&f.nodeType!==3||(r=s+i),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)c=f,f=m;for(;;){if(f===t)break t;if(c===n&&++o===l&&(u=s),c===a&&++h===i&&(r=s),(m=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=m}n=u===-1||r===-1?null:{start:u,end:r}}else n=null}n=n||{start:0,end:0}}else n=null;for(qo={focusedElem:t,selectionRange:n},su=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){switch(e=xe,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,l=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var y=fi(n.type,l);t=i.getSnapshotBeforeUpdate(y,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(S){J(n,n.return,S)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Go(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Go(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(v(163))}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}}function xg(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:kt(t,n),i&4&&ka(5,n);break;case 1:if(kt(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){J(n,n.return,s)}else{var l=fi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){J(n,n.return,s)}}i&64&&Dg(n),i&512&&ta(n,n.return);break;case 3:if(kt(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{H_(t,e)}catch(s){J(n,n.return,s)}}break;case 27:e===null&&i&4&&wg(n);case 26:case 5:kt(t,n),e===null&&i&4&&Og(n),i&512&&ta(n,n.return);break;case 12:kt(t,n);break;case 31:kt(t,n),i&4&&Lg(t,n);break;case 13:kt(t,n),i&4&&Hg(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=u1.bind(null,n),D1(t,n))));break;case 22:if(i=n.memoizedState!==null||Zt,!i){e=e!==null&&e.memoizedState!==null||Ae,l=Zt;var a=Ae;Zt=i,(Ae=e)&&!a?Qt(t,n,(n.subtreeFlags&8772)!==0):kt(t,n),Zt=l,Ae=a}break;case 30:break;default:kt(t,n)}}function zg(t){var e=t.alternate;e!==null&&(t.alternate=null,zg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Cc(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,We=!1;function jt(t,e,n){for(n=n.child;n!==null;)Ug(t,e,n),n=n.sibling}function Ug(t,e,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ba,n)}catch{}switch(n.tag){case 26:Ae||Lt(n,e),jt(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ae||Lt(n,e);var i=me,l=We;kn(n.type)&&(me=n.stateNode,We=!1),jt(t,e,n),aa(n.stateNode),me=i,We=l;break;case 5:Ae||Lt(n,e);case 6:if(i=me,l=We,me=null,jt(t,e,n),me=i,We=l,me!==null)if(We)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(n.stateNode)}catch(a){J(n,e,a)}else try{me.removeChild(n.stateNode)}catch(a){J(n,e,a)}break;case 18:me!==null&&(We?(t=me,pd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),fl(t)):pd(me,n.stateNode));break;case 4:i=me,l=We,me=n.stateNode.containerInfo,We=!0,jt(t,e,n),me=i,We=l;break;case 0:case 11:case 14:case 15:qn(2,n,e),Ae||qn(4,n,e),jt(t,e,n);break;case 1:Ae||(Lt(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Rg(n,e,i)),jt(t,e,n);break;case 21:jt(t,e,n);break;case 22:Ae=(i=Ae)||n.memoizedState!==null,jt(t,e,n),Ae=i;break;default:jt(t,e,n)}}function Lg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fl(t)}catch(n){J(e,e.return,n)}}}function Hg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fl(t)}catch(n){J(e,e.return,n)}}function P0(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new ld),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new ld),e;default:throw Error(v(435,t.tag))}}function cs(t,e){var n=P0(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var l=r1.bind(null,t,i);i.then(l,l)}})}function Fe(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],a=t,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 27:if(kn(u.type)){me=u.stateNode,We=!1;break e}break;case 5:me=u.stateNode,We=!1;break e;case 3:case 4:me=u.stateNode.containerInfo,We=!0;break e}u=u.return}if(me===null)throw Error(v(160));Ug(a,s,l),me=null,We=!1,a=l.alternate,a!==null&&(a.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Bg(e,t),e=e.sibling}var Rt=null;function Bg(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fe(e,t),Je(t),i&4&&(qn(3,t,t.return),ka(3,t),qn(5,t,t.return));break;case 1:Fe(e,t),Je(t),i&512&&(Ae||n===null||Lt(n,n.return)),i&64&&Zt&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=Rt;if(Fe(e,t),Je(t),i&512&&(Ae||n===null||Lt(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":a=l.getElementsByTagName("title")[0],(!a||a[Ya]||a[Ye]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=l.createElement(i),l.head.insertBefore(a,l.querySelector("head > title"))),je(a,i,n),a[Ye]=t,Ue(a),i=a;break e;case"link":var s=Td("link","href",l).get(i+(n.href||""));if(s){for(var u=0;u<s.length;u++)if(a=s[u],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(u,1);break t}}a=l.createElement(i),je(a,i,n),l.head.appendChild(a);break;case"meta":if(s=Td("meta","content",l).get(i+(n.content||""))){for(u=0;u<s.length;u++)if(a=s[u],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(u,1);break t}}a=l.createElement(i),je(a,i,n),l.head.appendChild(a);break;default:throw Error(v(468,i))}a[Ye]=t,Ue(a),i=a}t.stateNode=i}else Ad(l,t.type,t.stateNode);else t.stateNode=Cd(l,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?Ad(l,t.type,t.stateNode):Cd(l,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Nr(t,t.memoizedProps,n.memoizedProps)}break;case 27:Fe(e,t),Je(t),i&512&&(Ae||n===null||Lt(n,n.return)),n!==null&&i&4&&Nr(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Fe(e,t),Je(t),i&512&&(Ae||n===null||Lt(n,n.return)),t.flags&32){l=t.stateNode;try{il(l,"")}catch(y){J(t,t.return,y)}}i&4&&t.stateNode!=null&&(l=t.memoizedProps,Nr(t,l,n!==null?n.memoizedProps:l)),i&1024&&(Rr=!0);break;case 6:if(Fe(e,t),Je(t),i&4){if(t.stateNode===null)throw Error(v(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(y){J(t,t.return,y)}}break;case 3:if(Os=null,l=Rt,Rt=iu(e.containerInfo),Fe(e,t),Rt=l,Je(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(e.containerInfo)}catch(y){J(t,t.return,y)}Rr&&(Rr=!1,Ig(t));break;case 4:i=Rt,Rt=iu(t.stateNode.containerInfo),Fe(e,t),Je(t),Rt=i;break;case 12:Fe(e,t),Je(t);break;case 31:Fe(e,t),Je(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,cs(t,i)));break;case 13:Fe(e,t),Je(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Yu=ct()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,cs(t,i)));break;case 22:l=t.memoizedState!==null;var r=n!==null&&n.memoizedState!==null,o=Zt,h=Ae;if(Zt=o||l,Ae=h||r,Fe(e,t),Ae=h,Zt=o,Je(t),i&8192)e:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||r||Zt||Ae||Wn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){r=n=e;try{if(a=r.stateNode,l)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{u=r.stateNode;var f=r.memoizedProps.style,c=f!=null&&f.hasOwnProperty("display")?f.display:null;u.style.display=c==null||typeof c=="boolean"?"":(""+c).trim()}}catch(y){J(r,r.return,y)}}}else if(e.tag===6){if(n===null){r=e;try{r.stateNode.nodeValue=l?"":r.memoizedProps}catch(y){J(r,r.return,y)}}}else if(e.tag===18){if(n===null){r=e;try{var m=r.stateNode;l?yd(m,!0):yd(r.stateNode,!1)}catch(y){J(r,r.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,cs(t,n))));break;case 19:Fe(e,t),Je(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,cs(t,i)));break;case 30:break;case 21:break;default:Fe(e,t),Je(t)}}function Je(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Mg(i)){n=i;break}i=i.return}if(n==null)throw Error(v(160));switch(n.tag){case 27:var l=n.stateNode,a=Dr(t);Fs(t,a,l);break;case 5:var s=n.stateNode;n.flags&32&&(il(s,""),n.flags&=-33);var u=Dr(t);Fs(t,u,s);break;case 3:case 4:var r=n.stateNode.containerInfo,o=Dr(t);wo(t,o,r);break;default:throw Error(v(161))}}catch(h){J(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ig(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Ig(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function kt(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)xg(t,e.alternate,e),e=e.sibling}function Wn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:qn(4,e,e.return),Wn(e);break;case 1:Lt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Rg(e,e.return,n),Wn(e);break;case 27:aa(e.stateNode);case 26:case 5:Lt(e,e.return),Wn(e);break;case 22:e.memoizedState===null&&Wn(e);break;case 30:Wn(e);break;default:Wn(e)}t=t.sibling}}function Qt(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:Qt(l,a,n),ka(4,a);break;case 1:if(Qt(l,a,n),i=a,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(o){J(i,i.return,o)}if(i=a,l=i.updateQueue,l!==null){var u=i.stateNode;try{var r=l.shared.hiddenCallbacks;if(r!==null)for(l.shared.hiddenCallbacks=null,l=0;l<r.length;l++)L_(r[l],u)}catch(o){J(i,i.return,o)}}n&&s&64&&Dg(a),ta(a,a.return);break;case 27:wg(a);case 26:case 5:Qt(l,a,n),n&&i===null&&s&4&&Og(a),ta(a,a.return);break;case 12:Qt(l,a,n);break;case 31:Qt(l,a,n),n&&s&4&&Lg(l,a);break;case 13:Qt(l,a,n),n&&s&4&&Hg(l,a);break;case 22:a.memoizedState===null&&Qt(l,a,n),ta(a,a.return);break;case 30:break;default:Qt(l,a,n)}e=e.sibling}}function tf(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Va(n))}function nf(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Va(t))}function Dt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qg(t,e,n,i),e=e.sibling}function qg(t,e,n,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:Dt(t,e,n,i),l&2048&&ka(9,e);break;case 1:Dt(t,e,n,i);break;case 3:Dt(t,e,n,i),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Va(t)));break;case 12:if(l&2048){Dt(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,u=a.onPostCommit;typeof u=="function"&&u(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(r){J(e,e.return,r)}}else Dt(t,e,n,i);break;case 31:Dt(t,e,n,i);break;case 13:Dt(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?Dt(t,e,n,i):na(t,e):a._visibility&2?Dt(t,e,n,i):(a._visibility|=2,Oi(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),l&2048&&tf(s,e);break;case 24:Dt(t,e,n,i),l&2048&&nf(e.alternate,e);break;default:Dt(t,e,n,i)}}function Oi(t,e,n,i,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,u=n,r=i,o=s.flags;switch(s.tag){case 0:case 11:case 15:Oi(a,s,u,r,l),ka(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?Oi(a,s,u,r,l):na(a,s):(h._visibility|=2,Oi(a,s,u,r,l)),l&&o&2048&&tf(s.alternate,s);break;case 24:Oi(a,s,u,r,l),l&&o&2048&&nf(s.alternate,s);break;default:Oi(a,s,u,r,l)}e=e.sibling}}function na(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,l=i.flags;switch(i.tag){case 22:na(n,i),l&2048&&tf(i.alternate,i);break;case 24:na(n,i),l&2048&&nf(i.alternate,i);break;default:na(n,i)}e=e.sibling}}var Ql=8192;function Ti(t,e,n){if(t.subtreeFlags&Ql)for(t=t.child;t!==null;)Yg(t,e,n),t=t.sibling}function Yg(t,e,n){switch(t.tag){case 26:Ti(t,e,n),t.flags&Ql&&t.memoizedState!==null&&q1(n,Rt,t.memoizedState,t.memoizedProps);break;case 5:Ti(t,e,n);break;case 3:case 4:var i=Rt;Rt=iu(t.stateNode.containerInfo),Ti(t,e,n),Rt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ql,Ql=16777216,Ti(t,e,n),Ql=i):Ti(t,e,n));break;default:Ti(t,e,n)}}function Gg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ul(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];xe=i,jg(i,t)}Gg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&qn(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ds(t)):Ul(t);break;default:Ul(t)}}function Ds(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];xe=i,jg(i,t)}Gg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:qn(8,e,e.return),Ds(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ds(e));break;default:Ds(e)}t=t.sibling}}function jg(t,e){for(;xe!==null;){var n=xe;switch(n.tag){case 0:case 11:case 15:qn(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Va(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,xe=i;else e:for(n=t;xe!==null;){i=xe;var l=i.sibling,a=i.return;if(zg(i),i===n){xe=null;break e}if(l!==null){l.return=a,xe=l;break e}xe=a}}}var e1={getCacheForType:function(t){var e=Ve(Ne),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Ve(Ne).controller.signal}},t1=typeof WeakMap=="function"?WeakMap:Map,Z=0,ne=null,G=null,k=0,F=0,st=null,bn=!1,bl=!1,lf=!1,un=0,ge=0,Yn=0,si=0,af=0,ot=0,ul=0,ia=null,$e=null,xo=!1,Yu=0,kg=0,Js=1/0,Ws=null,On=null,Oe=0,Mn=null,rl=null,en=0,zo=0,Uo=null,Qg=null,la=0,Lo=null;function dt(){return Z&2&&k!==0?k&-k:M.T!==null?uf():e_()}function Xg(){if(ot===0)if(!(k&536870912)||Q){var t=ns;ns<<=1,!(ns&3932160)&&(ns=262144),ot=t}else ot=536870912;return t=_t.current,t!==null&&(t.flags|=32),ot}function tt(t,e,n){(t===ne&&(F===2||F===9)||t.cancelPendingCommit!==null)&&(ol(t,0),Cn(t,k,ot,!1)),qa(t,n),(!(Z&2)||t!==ne)&&(t===ne&&(!(Z&2)&&(si|=n),ge===4&&Cn(t,k,ot,!1)),It(t))}function Zg(t,e,n){if(Z&6)throw Error(v(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Ia(t,e),l=i?l1(t,e):Or(t,e,!0),a=i;do{if(l===0){bl&&!i&&Cn(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!n1(n)){l=Or(t,e,!1),a=!1;continue}if(l===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var u=t;l=ia;var r=u.current.memoizedState.isDehydrated;if(r&&(ol(u,s).flags|=256),s=Or(u,s,!1),s!==2){if(lf&&!r){u.errorRecoveryDisabledLanes|=a,si|=a,l=4;break e}a=$e,$e=l,a!==null&&($e===null?$e=a:$e.push.apply($e,a))}l=s}if(a=!1,l!==2)continue}}if(l===1){ol(t,0),Cn(t,e,0,!0);break}e:{switch(i=t,a=l,a){case 0:case 1:throw Error(v(345));case 4:if((e&4194048)!==e)break;case 6:Cn(i,e,ot,!bn);break e;case 2:$e=null;break;case 3:case 5:break;default:throw Error(v(329))}if((e&62914560)===e&&(l=Yu+300-ct(),10<l)){if(Cn(i,e,ot,!bn),Ou(i,0,!0)!==0)break e;en=e,i.timeoutHandle=dp(ad.bind(null,i,n,$e,Ws,xo,e,ot,si,ul,bn,a,"Throttled",-0,0),l);break e}ad(i,n,$e,Ws,xo,e,ot,si,ul,bn,a,null,-0,0)}}break}while(!0);It(t)}function ad(t,e,n,i,l,a,s,u,r,o,h,f,c,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ft},Yg(e,a,f);var y=(a&62914560)===a?Yu-ct():(a&4194048)===a?kg-ct():0;if(y=Y1(f,y),y!==null){en=a,t.cancelPendingCommit=y(ud.bind(null,t,e,a,n,i,l,s,u,r,h,f,null,c,m)),Cn(t,a,s,!o);return}}ud(t,e,a,n,i,l,s,u,r)}function n1(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],a=l.getSnapshot;l=l.value;try{if(!mt(a(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cn(t,e,n,i){e&=~af,e&=~si,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var l=e;0<l;){var a=31-ht(l),s=1<<a;i[a]=-1,l&=~s}n!==0&&Wm(t,n,e)}function Gu(){return Z&6?!0:(Qa(0),!1)}function sf(){if(G!==null){if(F===0)var t=G.return;else t=G,Jt=Si=null,kc(t),Ki=null,ya=0,t=G;for(;t!==null;)Ng(t.alternate,t),t=t.return;G=null}}function ol(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,b1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),en=0,sf(),ne=t,G=n=$t(t.current,null),k=e,F=0,st=null,bn=!1,bl=Ia(t,e),lf=!1,ul=ot=af=si=Yn=ge=0,$e=ia=null,xo=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var l=31-ht(i),a=1<<l;e|=t[l],i&=~a}return un=e,zu(),n}function Kg(t,e){L=null,M.H=Sa,e===El||e===Lu?(e=Bh(),F=3):e===Bc?(e=Bh(),F=4):F=e===Pc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,st=e,G===null&&(ge=1,Zs(t,Et(e,t.current)))}function Fg(){var t=_t.current;return t===null?!0:(k&4194048)===k?Tt===null:(k&62914560)===k||k&536870912?t===Tt:!1}function Jg(){var t=M.H;return M.H=Sa,t===null?Sa:t}function Wg(){var t=M.A;return M.A=e1,t}function $s(){ge=4,bn||(k&4194048)!==k&&_t.current!==null||(bl=!0),!(Yn&134217727)&&!(si&134217727)||ne===null||Cn(ne,k,ot,!1)}function Or(t,e,n){var i=Z;Z|=2;var l=Jg(),a=Wg();(ne!==t||k!==e)&&(Ws=null,ol(t,e)),e=!1;var s=ge;e:do try{if(F!==0&&G!==null){var u=G,r=st;switch(F){case 8:sf(),s=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(e=!0);var o=F;if(F=0,st=null,Vi(t,u,r,o),n&&bl){s=0;break e}break;default:o=F,F=0,st=null,Vi(t,u,r,o)}}i1(),s=ge;break}catch(h){Kg(t,h)}while(!0);return e&&t.shellSuspendCounter++,Jt=Si=null,Z=i,M.H=l,M.A=a,G===null&&(ne=null,k=0,zu()),s}function i1(){for(;G!==null;)$g(G)}function l1(t,e){var n=Z;Z|=2;var i=Jg(),l=Wg();ne!==t||k!==e?(Ws=null,Js=ct()+500,ol(t,e)):bl=Ia(t,e);e:do try{if(F!==0&&G!==null){e=G;var a=st;t:switch(F){case 1:F=0,st=null,Vi(t,e,a,1);break;case 2:case 9:if(Hh(a)){F=0,st=null,sd(e);break}e=function(){F!==2&&F!==9||ne!==t||(F=7),It(t)},a.then(e,e);break e;case 3:F=7;break e;case 4:F=5;break e;case 7:Hh(a)?(F=0,st=null,sd(e)):(F=0,st=null,Vi(t,e,a,7));break;case 5:var s=null;switch(G.tag){case 26:s=G.memoizedState;case 5:case 27:var u=G;if(s?yp(s):u.stateNode.complete){F=0,st=null;var r=u.sibling;if(r!==null)G=r;else{var o=u.return;o!==null?(G=o,Vu(o)):G=null}break t}}F=0,st=null,Vi(t,e,a,5);break;case 6:F=0,st=null,Vi(t,e,a,6);break;case 8:sf(),ge=6;break e;default:throw Error(v(462))}}a1();break}catch(h){Kg(t,h)}while(!0);return Jt=Si=null,M.H=i,M.A=l,Z=n,G!==null?0:(ne=null,k=0,zu(),ge)}function a1(){for(;G!==null&&!Rv();)$g(G)}function $g(t){var e=Ag(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?Vu(t):G=e}function sd(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Ph(n,e,e.pendingProps,e.type,void 0,k);break;case 11:e=Ph(n,e,e.pendingProps,e.type.render,e.ref,k);break;case 5:kc(e);default:Ng(n,e),e=G=N_(e,un),e=Ag(n,e,un)}t.memoizedProps=t.pendingProps,e===null?Vu(t):G=e}function Vi(t,e,n,i){Jt=Si=null,kc(e),Ki=null,ya=0;var l=e.return;try{if(Z0(t,l,e,n,k)){ge=1,Zs(t,Et(n,t.current)),G=null;return}}catch(a){if(l!==null)throw G=l,a;ge=1,Zs(t,Et(n,t.current)),G=null;return}e.flags&32768?(Q||i===1?t=!0:bl||k&536870912?t=!1:(bn=t=!0,(i===2||i===9||i===3||i===6)&&(i=_t.current,i!==null&&i.tag===13&&(i.flags|=16384))),Pg(e,t)):Vu(e)}function Vu(t){var e=t;do{if(e.flags&32768){Pg(e,bn);return}t=e.return;var n=J0(e.alternate,e,un);if(n!==null){G=n;return}if(e=e.sibling,e!==null){G=e;return}G=e=t}while(e!==null);ge===0&&(ge=5)}function Pg(t,e){do{var n=W0(t.alternate,t);if(n!==null){n.flags&=32767,G=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){G=t;return}G=t=n}while(t!==null);ge=6,G=null}function ud(t,e,n,i,l,a,s,u,r){t.cancelPendingCommit=null;do ju();while(Oe!==0);if(Z&6)throw Error(v(327));if(e!==null){if(e===t.current)throw Error(v(177));if(a=e.lanes|e.childLanes,a|=Mc,Iv(t,n,a,s,u,r),t===ne&&(G=ne=null,k=0),rl=e,Mn=t,en=n,zo=a,Uo=l,Qg=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,o1(Hs,function(){return lp(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=M.T,M.T=null,l=K.p,K.p=2,s=Z,Z|=4;try{$0(t,e,n)}finally{Z=s,K.p=l,M.T=i}}Oe=1,ep(),tp(),np()}}function ep(){if(Oe===1){Oe=0;var t=Mn,e=rl,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=M.T,M.T=null;var i=K.p;K.p=2;var l=Z;Z|=4;try{Bg(e,t);var a=qo,s=y_(t.containerInfo),u=a.focusedElem,r=a.selectionRange;if(s!==u&&u&&u.ownerDocument&&p_(u.ownerDocument.documentElement,u)){if(r!==null&&Oc(u)){var o=r.start,h=r.end;if(h===void 0&&(h=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(h,u.value.length);else{var f=u.ownerDocument||document,c=f&&f.defaultView||window;if(c.getSelection){var m=c.getSelection(),y=u.textContent.length,S=Math.min(r.start,y),D=r.end===void 0?S:Math.min(r.end,y);!m.extend&&S>D&&(s=D,D=S,S=s);var _=Oh(u,S),d=Oh(u,D);if(_&&d&&(m.rangeCount!==1||m.anchorNode!==_.node||m.anchorOffset!==_.offset||m.focusNode!==d.node||m.focusOffset!==d.offset)){var g=f.createRange();g.setStart(_.node,_.offset),m.removeAllRanges(),S>D?(m.addRange(g),m.extend(d.node,d.offset)):(g.setEnd(d.node,d.offset),m.addRange(g))}}}}for(f=[],m=u;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<f.length;u++){var p=f[u];p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}su=!!Io,qo=Io=null}finally{Z=l,K.p=i,M.T=n}}t.current=e,Oe=2}}function tp(){if(Oe===2){Oe=0;var t=Mn,e=rl,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=M.T,M.T=null;var i=K.p;K.p=2;var l=Z;Z|=4;try{xg(t,e.alternate,e)}finally{Z=l,K.p=i,M.T=n}}Oe=3}}function np(){if(Oe===4||Oe===3){Oe=0,Ov();var t=Mn,e=rl,n=en,i=Qg;e.subtreeFlags&10256||e.flags&10256?Oe=5:(Oe=0,rl=Mn=null,ip(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(On=null),bc(n),e=e.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ba,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=M.T,l=K.p,K.p=2,M.T=null;try{for(var a=t.onRecoverableError,s=0;s<i.length;s++){var u=i[s];a(u.value,{componentStack:u.stack})}}finally{M.T=e,K.p=l}}en&3&&ju(),It(t),l=t.pendingLanes,n&261930&&l&42?t===Lo?la++:(la=0,Lo=t):la=0,Qa(0)}}function ip(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Va(e)))}function ju(){return ep(),tp(),np(),lp()}function lp(){if(Oe!==5)return!1;var t=Mn,e=zo;zo=0;var n=bc(en),i=M.T,l=K.p;try{K.p=32>n?32:n,M.T=null,n=Uo,Uo=null;var a=Mn,s=en;if(Oe=0,rl=Mn=null,en=0,Z&6)throw Error(v(331));var u=Z;if(Z|=4,Vg(a.current),qg(a,a.current,s,n),Z=u,Qa(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ba,a)}catch{}return!0}finally{K.p=l,M.T=i,ip(t,e)}}function rd(t,e,n){e=Et(n,e),e=Ro(t.stateNode,e,2),t=Rn(t,e,2),t!==null&&(qa(t,2),It(t))}function J(t,e,n){if(t.tag===3)rd(t,t,n);else for(;e!==null;){if(e.tag===3){rd(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(On===null||!On.has(i))){t=Et(n,t),n=vg(2),i=Rn(e,n,2),i!==null&&(Sg(n,i,e,t),qa(i,2),It(i));break}}e=e.return}}function Mr(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new t1;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(n)||(lf=!0,l.add(n),t=s1.bind(null,t,e,n),e.then(t,t))}function s1(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ne===t&&(k&n)===n&&(ge===4||ge===3&&(k&62914560)===k&&300>ct()-Yu?!(Z&2)&&ol(t,0):af|=n,ul===k&&(ul=0)),It(t)}function ap(t,e){e===0&&(e=Jm()),t=vi(t,e),t!==null&&(qa(t,e),It(t))}function u1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ap(t,n)}function r1(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(v(314))}i!==null&&i.delete(e),ap(t,n)}function o1(t,e){return Sc(t,e)}var Ps=null,Mi=null,Ho=!1,eu=!1,wr=!1,Tn=0;function It(t){t!==Mi&&t.next===null&&(Mi===null?Ps=Mi=t:Mi=Mi.next=t),eu=!0,Ho||(Ho=!0,f1())}function Qa(t,e){if(!wr&&eu){wr=!0;do for(var n=!1,i=Ps;i!==null;){if(t!==0){var l=i.pendingLanes;if(l===0)var a=0;else{var s=i.suspendedLanes,u=i.pingedLanes;a=(1<<31-ht(42|t)+1)-1,a&=l&~(s&~u),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,od(i,a))}else a=k,a=Ou(i,i===ne?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Ia(i,a)||(n=!0,od(i,a));i=i.next}while(n);wr=!1}}function c1(){sp()}function sp(){eu=Ho=!1;var t=0;Tn!==0&&E1()&&(t=Tn);for(var e=ct(),n=null,i=Ps;i!==null;){var l=i.next,a=up(i,e);a===0?(i.next=null,n===null?Ps=l:n.next=l,l===null&&(Mi=n)):(n=i,(t!==0||a&3)&&(eu=!0)),i=l}Oe!==0&&Oe!==5||Qa(t),Tn!==0&&(Tn=0)}function up(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,l=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-ht(a),u=1<<s,r=l[s];r===-1?(!(u&n)||u&i)&&(l[s]=Bv(u,e)):r<=e&&(t.expiredLanes|=u),a&=~u}if(e=ne,n=k,n=Ou(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(F===2||F===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&ar(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ia(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&ar(i),bc(n)){case 2:case 8:n=Km;break;case 32:n=Hs;break;case 268435456:n=Fm;break;default:n=Hs}return i=rp.bind(null,t),n=Sc(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&ar(i),t.callbackPriority=2,t.callbackNode=null,2}function rp(t,e){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ju()&&t.callbackNode!==n)return null;var i=k;return i=Ou(t,t===ne?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Zg(t,i,e),up(t,ct()),t.callbackNode!=null&&t.callbackNode===n?rp.bind(null,t):null)}function od(t,e){if(ju())return null;Zg(t,e,!0)}function f1(){C1(function(){Z&6?Sc(Zm,c1):sp()})}function uf(){if(Tn===0){var t=ll;t===0&&(t=ts,ts<<=1,!(ts&261888)&&(ts=256)),Tn=t}return Tn}function cd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ys(""+t)}function fd(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function h1(t,e,n,i,l){if(e==="submit"&&n&&n.stateNode===l){var a=cd((l[it]||null).action),s=i.submitter;s&&(e=(e=s[it]||null)?cd(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var u=new Mu("action","action",null,i,l);t.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Tn!==0){var r=s?fd(l,s):new FormData(l);No(n,{pending:!0,data:r,method:l.method,action:a},null,r)}}else typeof a=="function"&&(u.preventDefault(),r=s?fd(l,s):new FormData(l),No(n,{pending:!0,data:r,method:l.method,action:a},a,r))},currentTarget:l}]})}}for(var xr=0;xr<mo.length;xr++){var zr=mo[xr],d1=zr.toLowerCase(),m1=zr[0].toUpperCase()+zr.slice(1);xt(d1,"on"+m1)}xt(S_,"onAnimationEnd");xt(E_,"onAnimationIteration");xt(b_,"onAnimationStart");xt("dblclick","onDoubleClick");xt("focusin","onFocus");xt("focusout","onBlur");xt(M0,"onTransitionRun");xt(w0,"onTransitionStart");xt(x0,"onTransitionCancel");xt(C_,"onTransitionEnd");nl("onMouseEnter",["mouseout","mouseover"]);nl("onMouseLeave",["mouseout","mouseover"]);nl("onPointerEnter",["pointerout","pointerover"]);nl("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ea));function op(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],l=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var u=i[s],r=u.instance,o=u.currentTarget;if(u=u.listener,r!==a&&l.isPropagationStopped())break e;a=u,l.currentTarget=o;try{a(l)}catch(h){Is(h)}l.currentTarget=null,a=r}else for(s=0;s<i.length;s++){if(u=i[s],r=u.instance,o=u.currentTarget,u=u.listener,r!==a&&l.isPropagationStopped())break e;a=u,l.currentTarget=o;try{a(l)}catch(h){Is(h)}l.currentTarget=null,a=r}}}}function Y(t,e){var n=e[ao];n===void 0&&(n=e[ao]=new Set);var i=t+"__bubble";n.has(i)||(cp(e,t,2,!1),n.add(i))}function Ur(t,e,n){var i=0;e&&(i|=4),cp(n,t,i,e)}var fs="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[fs]){t[fs]=!0,t_.forEach(function(n){n!=="selectionchange"&&(_1.has(n)||Ur(n,!1,t),Ur(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fs]||(e[fs]=!0,Ur("selectionchange",!1,e))}}function cp(t,e,n,i){switch(Cp(e)){case 2:var l=j1;break;case 8:l=k1;break;default:l=hf}n=l.bind(null,e,n,t),l=void 0,!co||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Lr(t,e,n,i,l){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var u=i.stateNode.containerInfo;if(u===l)break;if(s===4)for(s=i.return;s!==null;){var r=s.tag;if((r===3||r===4)&&s.stateNode.containerInfo===l)return;s=s.return}for(;u!==null;){if(s=zi(u),s===null)return;if(r=s.tag,r===5||r===6||r===26||r===27){i=a=s;continue e}u=u.parentNode}}i=i.return}o_(function(){var o=a,h=Ac(n),f=[];e:{var c=T_.get(t);if(c!==void 0){var m=Mu,y=t;switch(t){case"keypress":if(Ss(n)===0)break e;case"keydown":case"keyup":m=r0;break;case"focusin":y="focus",m=cr;break;case"focusout":y="blur",m=cr;break;case"beforeblur":case"afterblur":m=cr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Jv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=f0;break;case S_:case E_:case b_:m=Pv;break;case C_:m=d0;break;case"scroll":case"scrollend":m=Kv;break;case"wheel":m=_0;break;case"copy":case"cut":case"paste":m=t0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Eh;break;case"toggle":case"beforetoggle":m=p0}var S=(e&4)!==0,D=!S&&(t==="scroll"||t==="scrollend"),_=S?c!==null?c+"Capture":null:c;S=[];for(var d=o,g;d!==null;){var p=d;if(g=p.stateNode,p=p.tag,p!==5&&p!==26&&p!==27||g===null||_===null||(p=da(d,_),p!=null&&S.push(ba(d,p,g))),D)break;d=d.return}0<S.length&&(c=new m(c,y,null,n,h),f.push({event:c,listeners:S}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",c&&n!==oo&&(y=n.relatedTarget||n.fromElement)&&(zi(y)||y[yl]))break e;if((m||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=o,y=y?zi(y):null,y!==null&&(D=Ha(y),S=y.tag,y!==D||S!==5&&S!==27&&S!==6)&&(y=null)):(m=null,y=o),m!==y)){if(S=vh,p="onMouseLeave",_="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(S=Eh,p="onPointerLeave",_="onPointerEnter",d="pointer"),D=m==null?c:jl(m),g=y==null?c:jl(y),c=new S(p,d+"leave",m,n,h),c.target=D,c.relatedTarget=g,p=null,zi(h)===o&&(S=new S(_,d+"enter",y,n,h),S.target=g,S.relatedTarget=D,p=S),D=p,m&&y)t:{for(S=g1,_=m,d=y,g=0,p=_;p;p=S(p))g++;p=0;for(var N=d;N;N=S(N))p++;for(;0<g-p;)_=S(_),g--;for(;0<p-g;)d=S(d),p--;for(;g--;){if(_===d||d!==null&&_===d.alternate){S=_;break t}_=S(_),d=S(d)}S=null}else S=null;m!==null&&hd(f,c,m,S,!1),y!==null&&D!==null&&hd(f,D,y,S,!0)}}e:{if(c=o?jl(o):window,m=c.nodeName&&c.nodeName.toLowerCase(),m==="select"||m==="input"&&c.type==="file")var H=Ah;else if(Th(c))if(__)H=D0;else{H=A0;var T=T0}else m=c.nodeName,!m||m.toLowerCase()!=="input"||c.type!=="checkbox"&&c.type!=="radio"?o&&Tc(o.elementType)&&(H=Ah):H=N0;if(H&&(H=H(t,o))){m_(f,H,n,h);break e}T&&T(t,c,o),t==="focusout"&&o&&c.type==="number"&&o.memoizedProps.value!=null&&ro(c,"number",c.value)}switch(T=o?jl(o):window,t){case"focusin":(Th(T)||T.contentEditable==="true")&&(Hi=T,fo=o,Fl=null);break;case"focusout":Fl=fo=Hi=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,Mh(f,n,h);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":Mh(f,n,h)}var w;if(Rc)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Li?h_(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(f_&&n.locale!=="ko"&&(Li||B!=="onCompositionStart"?B==="onCompositionEnd"&&Li&&(w=c_()):(En=h,Nc="value"in En?En.value:En.textContent,Li=!0)),T=tu(o,B),0<T.length&&(B=new Sh(B,t,null,n,h),f.push({event:B,listeners:T}),w?B.data=w:(w=d_(n),w!==null&&(B.data=w)))),(w=v0?S0(t,n):E0(t,n))&&(B=tu(o,"onBeforeInput"),0<B.length&&(T=new Sh("onBeforeInput","beforeinput",null,n,h),f.push({event:T,listeners:B}),T.data=w)),h1(f,t,o,n,h)}op(f,e)})}function ba(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tu(t,e){for(var n=e+"Capture",i=[];t!==null;){var l=t,a=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||a===null||(l=da(t,n),l!=null&&i.unshift(ba(t,l,a)),l=da(t,e),l!=null&&i.push(ba(t,l,a))),t.tag===3)return i;t=t.return}return[]}function g1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hd(t,e,n,i,l){for(var a=e._reactName,s=[];n!==null&&n!==i;){var u=n,r=u.alternate,o=u.stateNode;if(u=u.tag,r!==null&&r===i)break;u!==5&&u!==26&&u!==27||o===null||(r=o,l?(o=da(n,a),o!=null&&s.unshift(ba(n,o,r))):l||(o=da(n,a),o!=null&&s.push(ba(n,o,r)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var p1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function dd(t){return(typeof t=="string"?t:""+t).replace(p1,`
`).replace(y1,"")}function fp(t,e){return e=dd(e),dd(t)===e}function P(t,e,n,i,l,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||il(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&il(t,""+i);break;case"className":ls(t,"class",i);break;case"tabIndex":ls(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ls(t,n,i);break;case"style":r_(t,i,a);break;case"data":if(e!=="object"){ls(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=ys(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&P(t,e,"name",l.name,l,null),P(t,e,"formEncType",l.formEncType,l,null),P(t,e,"formMethod",l.formMethod,l,null),P(t,e,"formTarget",l.formTarget,l,null)):(P(t,e,"encType",l.encType,l,null),P(t,e,"method",l.method,l,null),P(t,e,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=ys(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Ft);break;case"onScroll":i!=null&&Y("scroll",t);break;case"onScrollEnd":i!=null&&Y("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(v(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(v(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=ys(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Y("beforetoggle",t),Y("toggle",t),ps(t,"popover",i);break;case"xlinkActuate":Gt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Gt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Gt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Gt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Gt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Gt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ps(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Xv.get(n)||n,ps(t,n,i))}}function Bo(t,e,n,i,l,a){switch(n){case"style":r_(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(v(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(v(60));t.innerHTML=n}}break;case"children":typeof i=="string"?il(t,i):(typeof i=="number"||typeof i=="bigint")&&il(t,""+i);break;case"onScroll":i!=null&&Y("scroll",t);break;case"onScrollEnd":i!=null&&Y("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Ft);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!n_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),a=t[it]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,l),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,l);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ps(t,n,i)}}}function je(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y("error",t),Y("load",t);var i=!1,l=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(v(137,e));default:P(t,e,a,s,n,null)}}l&&P(t,e,"srcSet",n.srcSet,n,null),i&&P(t,e,"src",n.src,n,null);return;case"input":Y("invalid",t);var u=a=s=l=null,r=null,o=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":l=h;break;case"type":s=h;break;case"checked":r=h;break;case"defaultChecked":o=h;break;case"value":a=h;break;case"defaultValue":u=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(v(137,e));break;default:P(t,e,i,h,n,null)}}a_(t,a,u,r,o,s,l,!1);return;case"select":Y("invalid",t),i=s=a=null;for(l in n)if(n.hasOwnProperty(l)&&(u=n[l],u!=null))switch(l){case"value":a=u;break;case"defaultValue":s=u;break;case"multiple":i=u;default:P(t,e,l,u,n,null)}e=a,n=s,t.multiple=!!i,e!=null?Qi(t,!!i,e,!1):n!=null&&Qi(t,!!i,n,!0);return;case"textarea":Y("invalid",t),a=l=i=null;for(s in n)if(n.hasOwnProperty(s)&&(u=n[s],u!=null))switch(s){case"value":i=u;break;case"defaultValue":l=u;break;case"children":a=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(v(91));break;default:P(t,e,s,u,n,null)}u_(t,i,l,a);return;case"option":for(r in n)if(n.hasOwnProperty(r)&&(i=n[r],i!=null))switch(r){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:P(t,e,r,i,n,null)}return;case"dialog":Y("beforetoggle",t),Y("toggle",t),Y("cancel",t),Y("close",t);break;case"iframe":case"object":Y("load",t);break;case"video":case"audio":for(i=0;i<Ea.length;i++)Y(Ea[i],t);break;case"image":Y("error",t),Y("load",t);break;case"details":Y("toggle",t);break;case"embed":case"source":case"link":Y("error",t),Y("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(v(137,e));default:P(t,e,o,i,n,null)}return;default:if(Tc(e)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Bo(t,e,h,i,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!=null&&P(t,e,u,i,n,null))}function v1(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,a=null,s=null,u=null,r=null,o=null,h=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":r=f;default:i.hasOwnProperty(m)||P(t,e,m,null,i,f)}}for(var c in i){var m=i[c];if(f=n[c],i.hasOwnProperty(c)&&(m!=null||f!=null))switch(c){case"type":a=m;break;case"name":l=m;break;case"checked":o=m;break;case"defaultChecked":h=m;break;case"value":s=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(v(137,e));break;default:m!==f&&P(t,e,c,m,i,f)}}uo(t,s,u,r,o,h,a,l);return;case"select":m=s=u=c=null;for(a in n)if(r=n[a],n.hasOwnProperty(a)&&r!=null)switch(a){case"value":break;case"multiple":m=r;default:i.hasOwnProperty(a)||P(t,e,a,null,i,r)}for(l in i)if(a=i[l],r=n[l],i.hasOwnProperty(l)&&(a!=null||r!=null))switch(l){case"value":c=a;break;case"defaultValue":u=a;break;case"multiple":s=a;default:a!==r&&P(t,e,l,a,i,r)}e=u,n=s,i=m,c!=null?Qi(t,!!n,c,!1):!!i!=!!n&&(e!=null?Qi(t,!!n,e,!0):Qi(t,!!n,n?[]:"",!1));return;case"textarea":m=c=null;for(u in n)if(l=n[u],n.hasOwnProperty(u)&&l!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:P(t,e,u,null,i,l)}for(s in i)if(l=i[s],a=n[s],i.hasOwnProperty(s)&&(l!=null||a!=null))switch(s){case"value":c=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(v(91));break;default:l!==a&&P(t,e,s,l,i,a)}s_(t,c,m);return;case"option":for(var y in n)if(c=n[y],n.hasOwnProperty(y)&&c!=null&&!i.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:P(t,e,y,null,i,c)}for(r in i)if(c=i[r],m=n[r],i.hasOwnProperty(r)&&c!==m&&(c!=null||m!=null))switch(r){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:P(t,e,r,c,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)c=n[S],n.hasOwnProperty(S)&&c!=null&&!i.hasOwnProperty(S)&&P(t,e,S,null,i,c);for(o in i)if(c=i[o],m=n[o],i.hasOwnProperty(o)&&c!==m&&(c!=null||m!=null))switch(o){case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(v(137,e));break;default:P(t,e,o,c,i,m)}return;default:if(Tc(e)){for(var D in n)c=n[D],n.hasOwnProperty(D)&&c!==void 0&&!i.hasOwnProperty(D)&&Bo(t,e,D,void 0,i,c);for(h in i)c=i[h],m=n[h],!i.hasOwnProperty(h)||c===m||c===void 0&&m===void 0||Bo(t,e,h,c,i,m);return}}for(var _ in n)c=n[_],n.hasOwnProperty(_)&&c!=null&&!i.hasOwnProperty(_)&&P(t,e,_,null,i,c);for(f in i)c=i[f],m=n[f],!i.hasOwnProperty(f)||c===m||c==null&&m==null||P(t,e,f,c,i,m)}function md(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var l=n[i],a=l.transferSize,s=l.initiatorType,u=l.duration;if(a&&u&&md(s)){for(s=0,u=l.responseEnd,i+=1;i<n.length;i++){var r=n[i],o=r.startTime;if(o>u)break;var h=r.transferSize,f=r.initiatorType;h&&md(f)&&(r=r.responseEnd,s+=h*(r<u?1:(u-o)/(r-o)))}if(--i,e+=8*(a+s)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Io=null,qo=null;function nu(t){return t.nodeType===9?t:t.ownerDocument}function _d(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Yo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hr=null;function E1(){var t=window.event;return t&&t.type==="popstate"?t===Hr?!1:(Hr=t,!0):(Hr=null,!1)}var dp=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,gd=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof gd<"u"?function(t){return gd.resolve(null).then(t).catch(T1)}:dp;function T1(t){setTimeout(function(){throw t})}function kn(t){return t==="head"}function pd(t,e){var n=e,i=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(l),fl(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")aa(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,aa(n);for(var a=n.firstChild;a;){var s=a.nextSibling,u=a.nodeName;a[Ya]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&aa(t.ownerDocument.body);n=l}while(n);fl(e)}function yd(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Go(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Go(n),Cc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function A1(t,e,n,i){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Ya])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=At(t.nextSibling),t===null)break}return null}function N1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=At(t.nextSibling),t===null))return null;return t}function mp(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=At(t.nextSibling),t===null))return null;return t}function Vo(t){return t.data==="$?"||t.data==="$~"}function jo(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function D1(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function At(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var ko=null;function vd(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return At(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Sd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function _p(t,e,n){switch(e=nu(n),t){case"html":if(t=e.documentElement,!t)throw Error(v(452));return t;case"head":if(t=e.head,!t)throw Error(v(453));return t;case"body":if(t=e.body,!t)throw Error(v(454));return t;default:throw Error(v(451))}}function aa(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Cc(t)}var Nt=new Map,Ed=new Set;function iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fn=K.d;K.d={f:R1,r:O1,D:M1,C:w1,L:x1,m:z1,X:L1,S:U1,M:H1};function R1(){var t=fn.f(),e=Gu();return t||e}function O1(t){var e=vl(t);e!==null&&e.tag===5&&e.type==="form"?rg(e):fn.r(t)}var Cl=typeof document>"u"?null:document;function gp(t,e,n){var i=Cl;if(i&&typeof e=="string"&&e){var l=St(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Ed.has(l)||(Ed.add(l),t={rel:t,crossOrigin:n,href:e},i.querySelector(l)===null&&(e=i.createElement("link"),je(e,"link",t),Ue(e),i.head.appendChild(e)))}}function M1(t){fn.D(t),gp("dns-prefetch",t,null)}function w1(t,e){fn.C(t,e),gp("preconnect",t,e)}function x1(t,e,n){fn.L(t,e,n);var i=Cl;if(i&&t&&e){var l='link[rel="preload"][as="'+St(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+St(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+St(n.imageSizes)+'"]')):l+='[href="'+St(t)+'"]';var a=l;switch(e){case"style":a=cl(t);break;case"script":a=Tl(t)}Nt.has(a)||(t=he({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Nt.set(a,t),i.querySelector(l)!==null||e==="style"&&i.querySelector(Xa(a))||e==="script"&&i.querySelector(Za(a))||(e=i.createElement("link"),je(e,"link",t),Ue(e),i.head.appendChild(e)))}}function z1(t,e){fn.m(t,e);var n=Cl;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+St(i)+'"][href="'+St(t)+'"]',a=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Tl(t)}if(!Nt.has(a)&&(t=he({rel:"modulepreload",href:t},e),Nt.set(a,t),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Za(a)))return}i=n.createElement("link"),je(i,"link",t),Ue(i),n.head.appendChild(i)}}}function U1(t,e,n){fn.S(t,e,n);var i=Cl;if(i&&t){var l=ki(i).hoistableStyles,a=cl(t);e=e||"default";var s=l.get(a);if(!s){var u={loading:0,preload:null};if(s=i.querySelector(Xa(a)))u.loading=5;else{t=he({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Nt.get(a))&&of(t,n);var r=s=i.createElement("link");Ue(r),je(r,"link",t),r._p=new Promise(function(o,h){r.onload=o,r.onerror=h}),r.addEventListener("load",function(){u.loading|=1}),r.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Rs(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:u},l.set(a,s)}}}function L1(t,e){fn.X(t,e);var n=Cl;if(n&&t){var i=ki(n).hoistableScripts,l=Tl(t),a=i.get(l);a||(a=n.querySelector(Za(l)),a||(t=he({src:t,async:!0},e),(e=Nt.get(l))&&cf(t,e),a=n.createElement("script"),Ue(a),je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(l,a))}}function H1(t,e){fn.M(t,e);var n=Cl;if(n&&t){var i=ki(n).hoistableScripts,l=Tl(t),a=i.get(l);a||(a=n.querySelector(Za(l)),a||(t=he({src:t,async:!0,type:"module"},e),(e=Nt.get(l))&&cf(t,e),a=n.createElement("script"),Ue(a),je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(l,a))}}function bd(t,e,n,i){var l=(l=An.current)?iu(l):null;if(!l)throw Error(v(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=cl(n.href),n=ki(l).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=cl(n.href);var a=ki(l).hoistableStyles,s=a.get(t);if(s||(l=l.ownerDocument||l,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=l.querySelector(Xa(t)))&&!a._p&&(s.instance=a,s.state.loading=5),Nt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nt.set(t,n),a||B1(l,t,n,s.state))),e&&i===null)throw Error(v(528,""));return s}if(e&&i!==null)throw Error(v(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Tl(n),n=ki(l).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(v(444,t))}}function cl(t){return'href="'+St(t)+'"'}function Xa(t){return'link[rel="stylesheet"]['+t+"]"}function pp(t){return he({},t,{"data-precedence":t.precedence,precedence:null})}function B1(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),je(e,"link",n),Ue(e),t.head.appendChild(e))}function Tl(t){return'[src="'+St(t)+'"]'}function Za(t){return"script[async]"+t}function Cd(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+St(n.href)+'"]');if(i)return e.instance=i,Ue(i),i;var l=he({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ue(i),je(i,"style",l),Rs(i,n.precedence,t),e.instance=i;case"stylesheet":l=cl(n.href);var a=t.querySelector(Xa(l));if(a)return e.state.loading|=4,e.instance=a,Ue(a),a;i=pp(n),(l=Nt.get(l))&&of(i,l),a=(t.ownerDocument||t).createElement("link"),Ue(a);var s=a;return s._p=new Promise(function(u,r){s.onload=u,s.onerror=r}),je(a,"link",i),e.state.loading|=4,Rs(a,n.precedence,t),e.instance=a;case"script":return a=Tl(n.src),(l=t.querySelector(Za(a)))?(e.instance=l,Ue(l),l):(i=n,(l=Nt.get(a))&&(i=he({},n),cf(i,l)),t=t.ownerDocument||t,l=t.createElement("script"),Ue(l),je(l,"link",i),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(v(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Rs(i,n.precedence,t));return e.instance}function Rs(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,a=l,s=0;s<i.length;s++){var u=i[s];if(u.dataset.precedence===e)a=u;else if(a!==l)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function of(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function cf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Os=null;function Td(t,e,n){if(Os===null){var i=new Map,l=Os=new Map;l.set(n,i)}else l=Os,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var a=n[l];if(!(a[Ya]||a[Ye]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var u=i.get(s);u?u.push(a):i.set(s,[a])}}return i}function Ad(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function I1(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function yp(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function q1(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var l=cl(i.href),a=e.querySelector(Xa(l));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=lu.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Ue(a);return}a=e.ownerDocument||e,i=pp(i),(l=Nt.get(l))&&of(i,l),a=a.createElement("link"),Ue(a);var s=a;s._p=new Promise(function(u,r){s.onload=u,s.onerror=r}),je(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=lu.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Br=0;function Y1(t,e){return t.stylesheets&&t.count===0&&Ms(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Ms(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Br===0&&(Br=62500*S1());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ms(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Br?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(l)}}:null}function lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ms(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var au=null;function Ms(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,au=new Map,e.forEach(G1,t),au=null,lu.call(t))}function G1(t,e){if(!(e.state.loading&4)){var n=au.get(t);if(n)var i=n.get(null);else{n=new Map,au.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<l.length;a++){var s=l[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}l=e.instance,s=l.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,l),n.set(s,l),this.count++,i=lu.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),a?a.parentNode.insertBefore(l,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var Ca={$$typeof:Kt,Provider:null,Consumer:null,_currentValue:ni,_currentValue2:ni,_threadCount:0};function V1(t,e,n,i,l,a,s,u,r){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sr(0),this.hiddenUpdates=sr(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function vp(t,e,n,i,l,a,s,u,r,o,h,f){return t=new V1(t,e,n,s,r,o,h,f,u),e=1,a===!0&&(e|=24),a=rt(3,null,null,e),t.current=a,a.stateNode=t,e=Lc(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},Ic(a),t}function Sp(t){return t?(t=qi,t):qi}function Ep(t,e,n,i,l,a){l=Sp(l),i.context===null?i.context=l:i.pendingContext=l,i=Dn(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Rn(t,i,e),n!==null&&(tt(n,t,e),Wl(n,t,e))}function Nd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ff(t,e){Nd(t,e),(t=t.alternate)&&Nd(t,e)}function bp(t){if(t.tag===13||t.tag===31){var e=vi(t,67108864);e!==null&&tt(e,t,67108864),ff(t,67108864)}}function Dd(t){if(t.tag===13||t.tag===31){var e=dt();e=Ec(e);var n=vi(t,e);n!==null&&tt(n,t,e),ff(t,e)}}var su=!0;function j1(t,e,n,i){var l=M.T;M.T=null;var a=K.p;try{K.p=2,hf(t,e,n,i)}finally{K.p=a,M.T=l}}function k1(t,e,n,i){var l=M.T;M.T=null;var a=K.p;try{K.p=8,hf(t,e,n,i)}finally{K.p=a,M.T=l}}function hf(t,e,n,i){if(su){var l=Qo(i);if(l===null)Lr(t,e,i,uu,n),Rd(t,i);else if(X1(l,t,e,n,i))i.stopPropagation();else if(Rd(t,i),e&4&&-1<Q1.indexOf(t)){for(;l!==null;){var a=vl(l);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Fn(a.pendingLanes);if(s!==0){var u=a;for(u.pendingLanes|=2,u.entangledLanes|=2;s;){var r=1<<31-ht(s);u.entanglements[1]|=r,s&=~r}It(a),!(Z&6)&&(Js=ct()+500,Qa(0))}}break;case 31:case 13:u=vi(a,2),u!==null&&tt(u,a,2),Gu(),ff(a,2)}if(a=Qo(i),a===null&&Lr(t,e,i,uu,n),a===l)break;l=a}l!==null&&i.stopPropagation()}else Lr(t,e,i,null,n)}}function Qo(t){return t=Ac(t),df(t)}var uu=null;function df(t){if(uu=null,t=zi(t),t!==null){var e=Ha(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Vm(e),t!==null)return t;t=null}else if(n===31){if(t=jm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return uu=t,null}function Cp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mv()){case Zm:return 2;case Km:return 8;case Hs:case wv:return 32;case Fm:return 268435456;default:return 32}default:return 32}}var Xo=!1,wn=null,xn=null,zn=null,Ta=new Map,Aa=new Map,vn=[],Q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rd(t,e){switch(t){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(e.pointerId)}}function Ll(t,e,n,i,l,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[l]},e!==null&&(e=vl(e),e!==null&&bp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function X1(t,e,n,i,l){switch(e){case"focusin":return wn=Ll(wn,t,e,n,i,l),!0;case"dragenter":return xn=Ll(xn,t,e,n,i,l),!0;case"mouseover":return zn=Ll(zn,t,e,n,i,l),!0;case"pointerover":var a=l.pointerId;return Ta.set(a,Ll(Ta.get(a)||null,t,e,n,i,l)),!0;case"gotpointercapture":return a=l.pointerId,Aa.set(a,Ll(Aa.get(a)||null,t,e,n,i,l)),!0}return!1}function Tp(t){var e=zi(t.target);if(e!==null){var n=Ha(e);if(n!==null){if(e=n.tag,e===13){if(e=Vm(n),e!==null){t.blockedOn=e,hh(t.priority,function(){Dd(n)});return}}else if(e===31){if(e=jm(n),e!==null){t.blockedOn=e,hh(t.priority,function(){Dd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ws(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qo(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);oo=i,n.target.dispatchEvent(i),oo=null}else return e=vl(n),e!==null&&bp(e),t.blockedOn=n,!1;e.shift()}return!0}function Od(t,e,n){ws(t)&&n.delete(e)}function Z1(){Xo=!1,wn!==null&&ws(wn)&&(wn=null),xn!==null&&ws(xn)&&(xn=null),zn!==null&&ws(zn)&&(zn=null),Ta.forEach(Od),Aa.forEach(Od)}function hs(t,e){t.blockedOn===e&&(t.blockedOn=null,Xo||(Xo=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Z1)))}var ds=null;function Md(t){ds!==t&&(ds=t,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,function(){ds===t&&(ds=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],l=t[e+2];if(typeof i!="function"){if(df(i||n)===null)continue;break}var a=vl(n);a!==null&&(t.splice(e,3),e-=3,No(a,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function fl(t){function e(r){return hs(r,t)}wn!==null&&hs(wn,t),xn!==null&&hs(xn,t),zn!==null&&hs(zn,t),Ta.forEach(e),Aa.forEach(e);for(var n=0;n<vn.length;n++){var i=vn[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)Tp(n),n.blockedOn===null&&vn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],a=n[i+1],s=l[it]||null;if(typeof a=="function")s||Md(n);else if(s){var u=null;if(a&&a.hasAttribute("formAction")){if(l=a,s=a[it]||null)u=s.formAction;else if(df(l)!==null)continue}else u=s.action;typeof u=="function"?n[i+1]=u:(n.splice(i,3),i-=3),Md(n)}}}function Ap(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return l=s})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function mf(t){this._internalRoot=t}ku.prototype.render=mf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(v(409));var n=e.current,i=dt();Ep(n,i,t,e,null,null)};ku.prototype.unmount=mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ep(t.current,2,null,t,null,null),Gu(),e[yl]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var e=e_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vn.length&&e!==0&&e<vn[n].priority;n++);vn.splice(n,0,t),n===0&&Tp(t)}};var wd=Ym.version;if(wd!=="19.2.0")throw Error(v(527,wd,"19.2.0"));K.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(v(188)):(t=Object.keys(t).join(","),Error(v(268,t)));return t=Cv(e),t=t!==null?km(t):null,t=t===null?null:t.stateNode,t};var K1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{Ba=ms.inject(K1),ft=ms}catch{}}Du.createRoot=function(t,e){if(!Gm(t))throw Error(v(299));var n=!1,i="",l=gg,a=pg,s=yg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=vp(t,1,!1,null,null,n,i,null,l,a,s,Ap),t[yl]=e.current,rf(t),new mf(e)};Du.hydrateRoot=function(t,e,n){if(!Gm(t))throw Error(v(299));var i=!1,l="",a=gg,s=pg,u=yg,r=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.formState!==void 0&&(r=n.formState)),e=vp(t,1,!0,e,n??null,i,l,r,a,s,u,Ap),e.context=Sp(null),n=e.current,i=dt(),i=Ec(i),l=Dn(i),l.callback=null,Rn(n,l,i),n=i,e.current.lanes=n,qa(e,n),It(e),t[yl]=e.current,rf(t),new ku(e)};Du.version="19.2.0";function Np(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Np)}catch(t){console.error(t)}}Np(),Um.exports=Du;var F1=Um.exports;const J1=()=>{};var xd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=function(t,e){if(!t)throw Al(e)},Al=function(t){return new Error("Firebase Database ("+Dp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let l=t.charCodeAt(i);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},W1=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const l=t[n++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const a=t[n++];e[i++]=String.fromCharCode((l&31)<<6|a&63)}else if(l>239&&l<365){const a=t[n++],s=t[n++],u=t[n++],r=((l&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(r>>10)),e[i++]=String.fromCharCode(56320+(r&1023))}else{const a=t[n++],s=t[n++];e[i++]=String.fromCharCode((l&15)<<12|(a&63)<<6|s&63)}}return e.join("")},_f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<t.length;l+=3){const a=t[l],s=l+1<t.length,u=s?t[l+1]:0,r=l+2<t.length,o=r?t[l+2]:0,h=a>>2,f=(a&3)<<4|u>>4;let c=(u&15)<<2|o>>6,m=o&63;r||(m=64,s||(c=64)),i.push(n[h],n[f],n[c],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<t.length;){const a=n[t.charAt(l++)],u=l<t.length?n[t.charAt(l)]:0;++l;const o=l<t.length?n[t.charAt(l)]:64;++l;const f=l<t.length?n[t.charAt(l)]:64;if(++l,a==null||u==null||o==null||f==null)throw new $1;const c=a<<2|u>>4;if(i.push(c),o!==64){const m=u<<4&240|o>>2;if(i.push(m),f!==64){const y=o<<6&192|f;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Op=function(t){const e=Rp(t);return _f.encodeByteArray(e,!0)},ru=function(t){return Op(t).replace(/\./g,"")},Zo=function(t){try{return _f.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){return Mp(void 0,t)}function Mp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!eS(n)||(t[n]=Mp(t[n],e[n]));return t}function eS(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=()=>tS().__FIREBASE_DEFAULTS__,iS=()=>{if(typeof process>"u"||typeof xd>"u")return;const t=xd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Zo(t[1]);return e&&JSON.parse(e)},wp=()=>{try{return J1()||nS()||iS()||lS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aS=t=>{var e,n;return(n=(e=wp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},sS=t=>{const e=aS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},xp=()=>{var t;return(t=wp())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",l=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ru(JSON.stringify(n)),ru(JSON.stringify(s)),""].join(".")}const sa={};function oS(){const t={prod:[],emulator:[]};for(const e of Object.keys(sa))sa[e]?t.emulator.push(e):t.prod.push(e);return t}function cS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zd=!1;function fS(t,e){if(typeof window>"u"||typeof document>"u"||!gf(window.location.host)||sa[t]===e||sa[t]||zd)return;sa[t]=e;function n(c){return`__firebase__banner__${c}`}const i="__firebase__banner",a=oS().prod.length>0;function s(){const c=document.getElementById(i);c&&c.remove()}function u(c){c.style.display="flex",c.style.background="#7faaf0",c.style.position="fixed",c.style.bottom="5px",c.style.left="5px",c.style.padding=".5em",c.style.borderRadius="5px",c.style.alignItems="center"}function r(c,m){c.setAttribute("width","24"),c.setAttribute("id",m),c.setAttribute("height","24"),c.setAttribute("viewBox","0 0 24 24"),c.setAttribute("fill","none"),c.style.marginLeft="-6px"}function o(){const c=document.createElement("span");return c.style.cursor="pointer",c.style.marginLeft="16px",c.style.fontSize="24px",c.innerHTML=" &times;",c.onclick=()=>{zd=!0,s()},c}function h(c,m){c.setAttribute("id",m),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline"}function f(){const c=cS(i),m=n("text"),y=document.getElementById(m)||document.createElement("span"),S=n("learnmore"),D=document.getElementById(S)||document.createElement("a"),_=n("preprendIcon"),d=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.created){const g=c.element;u(g),h(D,S);const p=o();r(d,_),g.append(d,y,D,p),document.body.appendChild(g)}a?(y.innerText="Preview backend disconnected.",d.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(d.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hS())}function dS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mS(){return Dp.NODE_ADMIN===!0}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var a;e(((a=l.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="FirebaseError";class Ka extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pS,Object.setPrototypeOf(this,Ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Up.prototype.create)}}class Up{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},l=`${this.service}/${e}`,a=this.errors[e],s=a?yS(a,i):"Error",u=`${this.serviceName}: ${s} (${l}).`;return new Ka(l,u,i)}}function yS(t,e){return t.replace(vS,(n,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const vS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){return JSON.parse(t)}function Le(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=function(t){let e={},n={},i={},l="";try{const a=t.split(".");e=Na(Zo(a[0])||""),n=Na(Zo(a[1])||""),l=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:l}},SS=function(t){const e=Lp(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ES=function(t){const e=Lp(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ud(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ou(t,e,n){const i={};for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(i[l]=e.call(n,t[l],l,t));return i}function cu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const l of n){if(!i.includes(l))return!1;const a=t[l],s=e[l];if(Ld(a)&&Ld(s)){if(!cu(a,s))return!1}else if(a!==s)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function Ld(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const c=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(c<<1|c>>>31)&4294967295}let l=this.chain_[0],a=this.chain_[1],s=this.chain_[2],u=this.chain_[3],r=this.chain_[4],o,h;for(let f=0;f<80;f++){f<40?f<20?(o=u^a&(s^u),h=1518500249):(o=a^s^u,h=1859775393):f<60?(o=a&s|u&(a|s),h=2400959708):(o=a^s^u,h=3395469782);const c=(l<<5|l>>>27)+o+r+h+i[f]&4294967295;r=u,u=s,s=(a<<30|a>>>2)&4294967295,a=l,l=c}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+r&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let l=0;const a=this.buf_;let s=this.inbuf_;for(;l<n;){if(s===0)for(;l<=i;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(a[s]=e.charCodeAt(l),++s,++l,s===this.blockSize){this.compress_(a),s=0;break}}else for(;l<n;)if(a[s]=e[l],++s,++l,s===this.blockSize){this.compress_(a),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let l=0;l<5;l++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[l]>>a&255,++i;return e}}function pf(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let l=t.charCodeAt(i);if(l>=55296&&l<=56319){const a=l-55296;i++,b(i<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(i)-56320;l=65536+(a<<10)+s}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Xu=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){return t&&t._delegate?t._delegate:t}class Da{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Qu;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DS(e))try{this.getOrInitializeService({instanceIdentifier:$n})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:l});i.resolve(a)}catch{}}}}clearInstance(e=$n){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$n){return this.instances.has(e)}getOptions(e=$n){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&s.resolve(l)}return l}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(e),this.onInitCallbacks.set(i,l);const a=this.instances.get(i);return a&&e(a,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$n){return this.component?this.component.multipleInstances?e:$n:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NS(t){return t===$n?void 0:t}function DS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const OS={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},MS=le.INFO,wS={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},xS=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),l=wS[e];if(l)console[l](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=MS,this._logHandler=xS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const zS=(t,e)=>e.some(n=>t instanceof n);let Hd,Bd;function US(){return Hd||(Hd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LS(){return Bd||(Bd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bp=new WeakMap,Ko=new WeakMap,Ip=new WeakMap,Ir=new WeakMap,yf=new WeakMap;function HS(t){const e=new Promise((n,i)=>{const l=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Un(t.result)),l()},s=()=>{i(t.error),l()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Bp.set(n,t)}).catch(()=>{}),yf.set(e,t),e}function BS(t){if(Ko.has(t))return;const e=new Promise((n,i)=>{const l=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),l()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),l()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Ko.set(t,e)}let Fo={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ko.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ip.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IS(t){Fo=t(Fo)}function qS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(qr(this),e,...n);return Ip.set(i,e.sort?e.sort():[e]),Un(i)}:LS().includes(t)?function(...e){return t.apply(qr(this),e),Un(Bp.get(this))}:function(...e){return Un(t.apply(qr(this),e))}}function YS(t){return typeof t=="function"?qS(t):(t instanceof IDBTransaction&&BS(t),zS(t,US())?new Proxy(t,Fo):t)}function Un(t){if(t instanceof IDBRequest)return HS(t);if(Ir.has(t))return Ir.get(t);const e=YS(t);return e!==t&&(Ir.set(t,e),yf.set(e,t)),e}const qr=t=>yf.get(t);function GS(t,e,{blocked:n,upgrade:i,blocking:l,terminated:a}={}){const s=indexedDB.open(t,e),u=Un(s);return i&&s.addEventListener("upgradeneeded",r=>{i(Un(s.result),r.oldVersion,r.newVersion,Un(s.transaction),r)}),n&&s.addEventListener("blocked",r=>n(r.oldVersion,r.newVersion,r)),u.then(r=>{a&&r.addEventListener("close",()=>a()),l&&r.addEventListener("versionchange",o=>l(o.oldVersion,o.newVersion,o))}).catch(()=>{}),u}const VS=["get","getKey","getAll","getAllKeys","count"],jS=["put","add","delete","clear"],Yr=new Map;function Id(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yr.get(e))return Yr.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,l=jS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||VS.includes(n)))return;const a=async function(s,...u){const r=this.transaction(s,l?"readwrite":"readonly");let o=r.store;return i&&(o=o.index(u.shift())),(await Promise.all([o[n](...u),l&&r.done]))[0]};return Yr.set(e,a),a}IS(t=>({...t,get:(e,n,i)=>Id(e,n)||t.get(e,n,i),has:(e,n)=>!!Id(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function QS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jo="@firebase/app",qd="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new Hp("@firebase/app"),XS="@firebase/app-compat",ZS="@firebase/analytics-compat",KS="@firebase/analytics",FS="@firebase/app-check-compat",JS="@firebase/app-check",WS="@firebase/auth",$S="@firebase/auth-compat",PS="@firebase/database",eE="@firebase/data-connect",tE="@firebase/database-compat",nE="@firebase/functions",iE="@firebase/functions-compat",lE="@firebase/installations",aE="@firebase/installations-compat",sE="@firebase/messaging",uE="@firebase/messaging-compat",rE="@firebase/performance",oE="@firebase/performance-compat",cE="@firebase/remote-config",fE="@firebase/remote-config-compat",hE="@firebase/storage",dE="@firebase/storage-compat",mE="@firebase/firestore",_E="@firebase/ai",gE="@firebase/firestore-compat",pE="firebase",yE="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]",vE={[Jo]:"fire-core",[XS]:"fire-core-compat",[KS]:"fire-analytics",[ZS]:"fire-analytics-compat",[JS]:"fire-app-check",[FS]:"fire-app-check-compat",[WS]:"fire-auth",[$S]:"fire-auth-compat",[PS]:"fire-rtdb",[eE]:"fire-data-connect",[tE]:"fire-rtdb-compat",[nE]:"fire-fn",[iE]:"fire-fn-compat",[lE]:"fire-iid",[aE]:"fire-iid-compat",[sE]:"fire-fcm",[uE]:"fire-fcm-compat",[rE]:"fire-perf",[oE]:"fire-perf-compat",[cE]:"fire-rc",[fE]:"fire-rc-compat",[hE]:"fire-gcs",[dE]:"fire-gcs-compat",[mE]:"fire-fst",[gE]:"fire-fst-compat",[_E]:"fire-vertex","fire-js":"fire-js",[pE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,SE=new Map,$o=new Map;function Yd(t,e){try{t.container.addComponent(e)}catch(n){rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hu(t){const e=t.name;if($o.has(e))return rn.debug(`There were multiple attempts to register component ${e}.`),!1;$o.set(e,t);for(const n of fu.values())Yd(n,t);for(const n of SE.values())Yd(n,t);return!0}function EE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ln=new Up("app","Firebase",CE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=yE;function qp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Wo,automaticDataCollectionEnabled:!0,...e},l=i.name;if(typeof l!="string"||!l)throw Ln.create("bad-app-name",{appName:String(l)});if(n||(n=xp()),!n)throw Ln.create("no-options");const a=fu.get(l);if(a){if(cu(n,a.options)&&cu(i,a.config))return a;throw Ln.create("duplicate-app",{appName:l})}const s=new RS(l);for(const r of $o.values())s.addComponent(r);const u=new TE(n,i,s);return fu.set(l,u),u}function NE(t=Wo){const e=fu.get(t);if(!e&&t===Wo&&xp())return qp();if(!e)throw Ln.create("no-app",{appName:t});return e}function Wi(t,e,n){let i=vE[t]??t;n&&(i+=`-${n}`);const l=i.match(/\s|\//),a=e.match(/\s|\//);if(l||a){const s=[`Unable to register library "${i}" with version "${e}":`];l&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rn.warn(s.join(" "));return}hu(new Da(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="firebase-heartbeat-database",RE=1,Ra="firebase-heartbeat-store";let Gr=null;function Yp(){return Gr||(Gr=GS(DE,RE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ln.create("idb-open",{originalErrorMessage:t.message})})),Gr}async function OE(t){try{const n=(await Yp()).transaction(Ra),i=await n.objectStore(Ra).get(Gp(t));return await n.done,i}catch(e){if(e instanceof Ka)rn.warn(e.message);else{const n=Ln.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rn.warn(n.message)}}}async function Gd(t,e){try{const i=(await Yp()).transaction(Ra,"readwrite");await i.objectStore(Ra).put(e,Gp(t)),await i.done}catch(n){if(n instanceof Ka)rn.warn(n.message);else{const i=Ln.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rn.warn(i.message)}}}function Gp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=1024,wE=30;class xE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UE(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Vd();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:l}),this._heartbeatsCache.heartbeats.length>wE){const s=LE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){rn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vd(),{heartbeatsToSend:i,unsentEntries:l}=zE(this._heartbeatsCache.heartbeats),a=ru(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return rn.warn(n),""}}}function Vd(){return new Date().toISOString().substring(0,10)}function zE(t,e=ME){const n=[];let i=t.slice();for(const l of t){const a=n.find(s=>s.agent===l.agent);if(a){if(a.dates.push(l.date),jd(n)>e){a.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),jd(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class UE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gd(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gd(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jd(t){return ru(JSON.stringify({version:2,heartbeats:t})).length}function LE(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){hu(new Da("platform-logger",e=>new kS(e),"PRIVATE")),hu(new Da("heartbeat",e=>new xE(e),"PRIVATE")),Wi(Jo,qd,t),Wi(Jo,qd,"esm2020"),Wi("fire-js","")}HE("");var BE="firebase",IE="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(BE,IE,"app");var kd={};const Qd="@firebase/database",Xd="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp="";function qE(t){Vp=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Le(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Na(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return qt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new YE(e)}}catch{}return new GE},ei=jp("localStorage"),VE=jp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Hp("@firebase/database"),jE=function(){let t=1;return function(){return t++}}(),kp=function(t){const e=TS(t),n=new CS;n.update(e);const i=n.digest();return _f.encodeByteArray(i)},Fa=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Fa.apply(null,i):typeof i=="object"?e+=Le(i):e+=i,e+=" "}return e};let ua=null,Zd=!0;const kE=function(t,e){b(!0,"Can't turn on custom loggers persistently."),$i.logLevel=le.VERBOSE,ua=$i.log.bind($i)},Ie=function(...t){if(Zd===!0&&(Zd=!1,ua===null&&VE.get("logging_enabled")===!0&&kE()),ua){const e=Fa.apply(null,t);ua(e)}},Ja=function(t){return function(...e){Ie(t,...e)}},Po=function(...t){const e="FIREBASE INTERNAL ERROR: "+Fa(...t);$i.error(e)},on=function(...t){const e=`FIREBASE FATAL ERROR: ${Fa(...t)}`;throw $i.error(e),new Error(e)},nt=function(...t){const e="FIREBASE WARNING: "+Fa(...t);$i.warn(e)},QE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},XE=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},dl="[MIN_NAME]",hi="[MAX_NAME]",Ei=function(t,e){if(t===e)return 0;if(t===dl||e===hi)return-1;if(e===dl||t===hi)return 1;{const n=Kd(t),i=Kd(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},ZE=function(t,e){return t===e?0:t<e?-1:1},Hl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Le(e))},Sf=function(t){if(typeof t!="object"||t===null)return Le(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Le(e[i]),n+=":",n+=Sf(t[e[i]]);return n+="}",n},Qp=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let l=0;l<n;l+=e)l+e>n?i.push(t.substring(l,n)):i.push(t.substring(l,l+e));return i};function ke(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Xp=function(t){b(!vf(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let l,a,s,u,r;t===0?(a=0,s=0,l=1/t===-1/0?1:0):(l=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=u+i,s=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(a=0,s=Math.round(t/Math.pow(2,1-i-n))));const o=[];for(r=n;r;r-=1)o.push(s%2?1:0),s=Math.floor(s/2);for(r=e;r;r-=1)o.push(a%2?1:0),a=Math.floor(a/2);o.push(l?1:0),o.reverse();const h=o.join("");let f="";for(r=0;r<64;r+=8){let c=parseInt(h.substr(r,8),2).toString(16);c.length===1&&(c="0"+c),f=f+c}return f.toLowerCase()},KE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},FE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function JE(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const WE=new RegExp("^-?(0*)\\d{1,10}$"),$E=-2147483648,PE=2147483647,Kd=function(t){if(WE.test(t)){const e=Number(t);if(e>=$E&&e<=PE)return e}return null},Nl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nt("Exception was thrown by user callback.",n),e},Math.floor(0))}},eb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ra=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,bE(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ie("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(e)}}class xs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="5",Zp="v",Kp="s",Fp="r",Jp="f",Wp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$p="ls",Pp="p",ec="ac",ey="websocket",ty="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,i,l,a=!1,s="",u=!1,r=!1,o=null){this.secure=n,this.namespace=i,this.webSocketOnly=l,this.nodeAdmin=a,this.persistenceKey=s,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=r,this.emulatorOptions=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ei.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ei.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ib(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function iy(t,e,n){b(typeof e=="string","typeof type must == string"),b(typeof n=="object","typeof params must == object");let i;if(e===ey)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ty)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ib(t)&&(n.ns=t.namespace);const l=[];return ke(n,(a,s)=>{l.push(a+"="+s)}),i+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.counters_={}}incrementCounter(e,n=1){qt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return P1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr={},jr={};function bf(t){const e=t.toString();return Vr[e]||(Vr[e]=new lb),Vr[e]}function ab(t,e){const n=t.toString();return jr[n]||(jr[n]=e()),jr[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<i.length;++l)i[l]&&Nl(()=>{this.onMessage_(i[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="start",ub="close",rb="pLPCommand",ob="pRTLPCB",ly="id",ay="pw",sy="ser",cb="cb",fb="seg",hb="ts",db="d",mb="dframe",uy=1870,ry=30,_b=uy-ry,gb=25e3,pb=3e4;class ji{constructor(e,n,i,l,a,s,u){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=l,this.authToken=a,this.transportSessionId=s,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ja(e),this.stats_=bf(n),this.urlFn=r=>(this.appCheckToken&&(r[ec]=this.appCheckToken),iy(n,ty,r))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sb(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pb)),XE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cf((...a)=>{const[s,u,r,o,h]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Fd)this.id=u,this.password=r;else if(s===ub)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...a)=>{const[s,u]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(s,u)},()=>{this.onClosed_()},this.urlFn);const i={};i[Fd]="t",i[sy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[cb]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Zp]=Ef,this.transportSessionId&&(i[Kp]=this.transportSessionId),this.lastSessionId&&(i[$p]=this.lastSessionId),this.applicationId&&(i[Pp]=this.applicationId),this.appCheckToken&&(i[ec]=this.appCheckToken),typeof location<"u"&&location.hostname&&Wp.test(location.hostname)&&(i[Fp]=Jp);const l=this.urlFn(i);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ji.forceAllow_=!0}static forceDisallow(){ji.forceDisallow_=!0}static isAvailable(){return ji.forceAllow_?!0:!ji.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!KE()&&!FE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Op(n),l=Qp(i,_b);for(let a=0;a<l.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[mb]="t",i[ly]=e,i[ay]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Le(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cf{constructor(e,n,i,l){this.onDisconnect=i,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=jE(),window[rb+this.uniqueCallbackIdentifier]=e,window[ob+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cf.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){Ie("frame writing exception"),u.stack&&Ie(u.stack),Ie(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ie("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ly]=this.myID,e[ay]=this.myPW,e[sy]=this.currentSerial;let n=this.urlFn(e),i="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ry+i.length<=uy;){const s=this.pendingSegs.shift();i=i+"&"+fb+l+"="+s.seg+"&"+hb+l+"="+s.ts+"&"+db+l+"="+s.d,l++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(i,Math.floor(gb)),a=()=>{clearTimeout(l),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const l=i.readyState;(!l||l==="loaded"||l==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ie("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=16384,vb=45e3;let du=null;typeof MozWebSocket<"u"?du=MozWebSocket:typeof WebSocket<"u"&&(du=WebSocket);class Ot{constructor(e,n,i,l,a,s,u){this.connId=e,this.applicationId=i,this.appCheckToken=l,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ja(this.connId),this.stats_=bf(n),this.connURL=Ot.connectionURL_(n,s,u,l,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,l,a){const s={};return s[Zp]=Ef,typeof location<"u"&&location.hostname&&Wp.test(location.hostname)&&(s[Fp]=Jp),n&&(s[Kp]=n),i&&(s[$p]=i),l&&(s[ec]=l),a&&(s[Pp]=a),iy(e,ey,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ei.set("previous_websocket_failure",!0);try{let i;mS(),this.mySock=new du(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const l=i.message||i.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Ot.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&du!==null&&!Ot.forceDisallow_}static previouslyFailed(){return ei.isInMemoryStorage||ei.get("previous_websocket_failure")===!0}markConnectionHealthy(){ei.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Na(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(b(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Qp(n,yb);i.length>1&&this.sendString_(String(i.length));for(let l=0;l<i.length;l++)this.sendString_(i[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vb))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ot.responsesRequiredToBeHealthy=2;Ot.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{static get ALL_TRANSPORTS(){return[ji,Ot]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ot&&Ot.isAvailable();let i=n&&!Ot.previouslyFailed();if(e.webSocketOnly&&(n||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ot];else{const l=this.transports_=[];for(const a of Oa.ALL_TRANSPORTS)a&&a.isAvailable()&&l.push(a);Oa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Oa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=6e4,Eb=5e3,bb=10*1024,Cb=100*1024,kr="t",Jd="d",Tb="s",Wd="r",Ab="e",$d="o",Pd="a",em="n",tm="p",Nb="h";class Db{constructor(e,n,i,l,a,s,u,r,o,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=l,this.authToken_=a,this.onMessage_=s,this.onReady_=u,this.onDisconnect_=r,this.onKill_=o,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ja("c:"+this.id+":"),this.transportManager_=new Oa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=ra(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Cb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kr in e){const n=e[kr];n===Pd?this.upgradeIfSecondaryHealthy_():n===Wd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$d&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Hl("t",e),i=Hl("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Pd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:em,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Hl("t",e),i=Hl("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Hl(kr,e);if(Jd in e){const i=e[Jd];if(n===Nb){const l={...i};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===em){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Tb?this.onConnectionShutdown_(i):n===Wd?this.onReset_(i):n===Ab?Po("Server Error: "+i):n===$d?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Po("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ef!==i&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),ra(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Sb))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ra(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Eb))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tm,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ei.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{put(e,n,i,l){}merge(e,n,i,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let l=0;l<i.length;l++)i[l].callback.apply(i[l].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const l=this.getInitialEvent(e);l&&n.apply(i,l)}off(e,n,i){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let a=0;a<l.length;a++)if(l[a].callback===n&&(!i||i===l[a].context)){l.splice(a,1);return}}validateEventType_(e){b(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends cy{static getInstance(){return new mu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return b(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=32,im=768;class te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[i]=this.pieces_[l],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function X(){return new te("")}function V(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Gn(t){return t.pieces_.length-t.pieceNum_}function ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new te(t.pieces_,e)}function Tf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Rb(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ma(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function fy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new te(e,0)}function pe(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof te)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let l=0;l<i.length;l++)i[l].length>0&&n.push(i[l])}return new te(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function Pe(t,e){const n=V(t),i=V(e);if(n===null)return e;if(n===i)return Pe(ae(t),ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ob(t,e){const n=Ma(t,0),i=Ma(e,0);for(let l=0;l<n.length&&l<i.length;l++){const a=Ei(n[l],i[l]);if(a!==0)return a}return n.length===i.length?0:n.length<i.length?-1:1}function Af(t,e){if(Gn(t)!==Gn(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ct(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Gn(t)>Gn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class Mb{constructor(e,n){this.errorPrefix_=n,this.parts_=Ma(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Xu(this.parts_[i]);hy(this)}}function wb(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xu(e),hy(t)}function xb(t){const e=t.parts_.pop();t.byteLength_-=Xu(e),t.parts_.length>0&&(t.byteLength_-=1)}function hy(t){if(t.byteLength_>im)throw new Error(t.errorPrefix_+"has a key path longer than "+im+" bytes ("+t.byteLength_+").");if(t.parts_.length>nm)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nm+") or object contains a cycle "+Pn(t))}function Pn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends cy{static getInstance(){return new Nf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return b(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=1e3,zb=60*5*1e3,lm=30*1e3,Ub=1.3,Lb=3e4,Hb="server_kill",am=3;class tn extends oy{constructor(e,n,i,l,a,s,u,r){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=l,this.onServerInfoUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=u,this.authOverride_=r,this.id=tn.nextPersistentConnectionId_++,this.log_=Ja("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bl,this.maxReconnectDelay_=zb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,r)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&mu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const l=++this.requestNumber_,a={r:l,a:e,b:n};this.log_(Le(a)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[l]=i)}get(e){this.initConnection_();const n=new Qu,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const u=s.d;s.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,l){this.initConnection_();const a=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+a),this.listens.has(s)||this.listens.set(s,new Map),b(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(s).has(a),"listen() called twice for same path/queryId.");const u={onComplete:l,hashFn:n,query:e,tag:i};this.listens.get(s).set(a,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+i+" for "+l);const a={p:i},s="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(s,a,u=>{const r=u.d,o=u.s;tn.warnOnListenWarnings_(r,n),(this.listens.get(i)&&this.listens.get(i).get(l))===e&&(this.log_("listen response",u),o!=="ok"&&this.removeListen_(i,l),e.onComplete&&e.onComplete(o,r))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&qt(e,"w")){const i=hl(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ES(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=SS(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,l=>{const a=l.s,s=l.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+l),b(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,l)&&this.connected_&&this.sendUnlisten_(i,l,e._queryObject,n)}sendUnlisten_(e,n,i,l){this.log_("Unlisten on "+e+" for "+n);const a={p:e},s="n";l&&(a.q=i,a.t=l),this.sendRequest(s,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,l){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,s=>{l&&setTimeout(()=>{l(s.s,s.d)},Math.floor(0))})}put(e,n,i,l){this.putInternal("p",e,n,i,l)}merge(e,n,i,l){this.putInternal("m",e,n,i,l)}putInternal(e,n,i,l,a){this.initConnection_();const s={p:n,d:i};a!==void 0&&(s.h=a),this.outstandingPuts_.push({action:e,request:s,onComplete:l}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Le(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Po("Unrecognized action received from server: "+Le(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Lb&&(this.reconnectDelay_=Bl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ub)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+tn.nextConnectionId_++,a=this.lastSessionId;let s=!1,u=null;const r=function(){u?u.close():(s=!0,i())},o=function(f){b(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)};this.realtime_={close:r,sendRequest:o};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,c]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);s?Ie("getToken() completed but was canceled"):(Ie("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=c&&c.token,u=new Db(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,m=>{nt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(Hb)},a))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&nt(f),r())}}}interrupt(e){Ie("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ie("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ud(this.interruptReasons_)&&(this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>Sf(a)).join("$"):i="default";const l=this.removeListen_(e,i);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const i=new te(e).toString();let l;if(this.listens.has(i)){const a=this.listens.get(i);l=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else l=void 0;return l}onAuthRevoked_(e,n){Ie("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=am&&(this.reconnectDelay_=lm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ie("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=am&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Vp.replace(/\./g,"-")]=1,zp()?e["framework.cordova"]=1:dS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mu.getInstance().currentlyOnline();return Ud(this.interruptReasons_)&&e}}tn.nextPersistentConnectionId_=0;tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new I(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new I(dl,e),l=new I(dl,n);return this.compare(i,l)!==0}minPost(){return I.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s;class dy extends Ku{static get __EMPTY_NODE(){return _s}static set __EMPTY_NODE(e){_s=e}compare(e,n){return Ei(e.name,n.name)}isDefinedOn(e){throw Al("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return I.MIN}maxPost(){return new I(hi,_s)}makePost(e,n){return b(typeof e=="string","KeyIndex indexValue must always be a string."),new I(e,_s)}toString(){return".key"}}const Pi=new dy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,i,l,a=null){this.isReverse_=l,this.resultGenerator_=a,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?i(e.key,n):1,l&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ze{constructor(e,n,i,l,a){this.key=e,this.value=n,this.color=i??ze.RED,this.left=l??et.EMPTY_NODE,this.right=a??et.EMPTY_NODE}copy(e,n,i,l,a){return new ze(e??this.key,n??this.value,i??this.color,l??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const a=i(e,l.key);return a<0?l=l.copy(null,null,null,l.left.insert(e,n,i),null):a===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return et.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,l;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return et.EMPTY_NODE;l=i.right.min_(),i=i.copy(l.key,l.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class Bb{copy(e,n,i,l,a){return this}insert(e,n,i){return new ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class et{constructor(e,n=et.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new et(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(e){return new et(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,l=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return l?l.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(l=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new gs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new gs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new gs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new gs(this.root_,null,this.comparator_,!0,e)}}et.EMPTY_NODE=new Bb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e){return Ei(t.name,e.name)}function Df(t,e){return Ei(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;function qb(t){tc=t}const my=function(t){return typeof t=="number"?"number:"+Xp(t):"string:"+t},_y=function(t){if(t.isLeafNode()){const e=t.val();b(typeof e=="string"||typeof e=="number"||typeof e=="object"&&qt(e,".sv"),"Priority must be a string or number.")}else b(t===tc||t.isEmpty(),"priority of unexpected type.");b(t===tc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm;class we{static set __childrenNodeConstructor(e){sm=e}static get __childrenNodeConstructor(){return sm}constructor(e,n=we.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_y(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new we(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:we.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return j(e)?this:V(e)===".priority"?this.priorityNode_:we.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:we.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=V(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(b(i!==".priority"||Gn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,we.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+my(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Xp(this.value_):e+=this.value_,this.lazyHash_=kp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===we.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof we.__childrenNodeConstructor?-1:(b(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,l=we.VALUE_TYPE_ORDER.indexOf(n),a=we.VALUE_TYPE_ORDER.indexOf(i);return b(l>=0,"Unknown leaf type: "+n),b(a>=0,"Unknown leaf type: "+i),l===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}we.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gy,py;function Yb(t){gy=t}function Gb(t){py=t}class Vb extends Ku{compare(e,n){const i=e.node.getPriority(),l=n.node.getPriority(),a=i.compareTo(l);return a===0?Ei(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return I.MIN}maxPost(){return new I(hi,new we("[PRIORITY-POST]",py))}makePost(e,n){const i=gy(e);return new I(n,new we("[PRIORITY-POST]",i))}toString(){return".priority"}}const ye=new Vb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=Math.log(2);class kb{constructor(e){const n=a=>parseInt(Math.log(a)/jb,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=i(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _u=function(t,e,n,i){t.sort(e);const l=function(r,o){const h=o-r;let f,c;if(h===0)return null;if(h===1)return f=t[r],c=n?n(f):f,new ze(c,f.node,ze.BLACK,null,null);{const m=parseInt(h/2,10)+r,y=l(r,m),S=l(m+1,o);return f=t[m],c=n?n(f):f,new ze(c,f.node,ze.BLACK,y,S)}},a=function(r){let o=null,h=null,f=t.length;const c=function(y,S){const D=f-y,_=f;f-=y;const d=l(D+1,_),g=t[D],p=n?n(g):g;m(new ze(p,g.node,S,null,d))},m=function(y){o?(o.left=y,o=y):(h=y,o=y)};for(let y=0;y<r.count;++y){const S=r.nextBitIsOne(),D=Math.pow(2,r.count-(y+1));S?c(D,ze.BLACK):(c(D,ze.BLACK),c(D,ze.RED))}return h},s=new kb(t.length),u=a(s);return new et(i||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qr;const Ai={};class Wt{static get Default(){return b(Ai&&ye,"ChildrenNode.ts has not been loaded"),Qr=Qr||new Wt({".priority":Ai},{".priority":ye}),Qr}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=hl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof et?n:null}hasIndex(e){return qt(this.indexSet_,e.toString())}addIndex(e,n){b(e!==Pi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let l=!1;const a=n.getIterator(I.Wrap);let s=a.getNext();for(;s;)l=l||e.isDefinedOn(s.node),i.push(s),s=a.getNext();let u;l?u=_u(i,e.getCompare()):u=Ai;const r=e.toString(),o={...this.indexSet_};o[r]=e;const h={...this.indexes_};return h[r]=u,new Wt(h,o)}addToIndexes(e,n){const i=ou(this.indexes_,(l,a)=>{const s=hl(this.indexSet_,a);if(b(s,"Missing index implementation for "+a),l===Ai)if(s.isDefinedOn(e.node)){const u=[],r=n.getIterator(I.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&u.push(o),o=r.getNext();return u.push(e),_u(u,s.getCompare())}else return Ai;else{const u=n.get(e.name);let r=l;return u&&(r=r.remove(new I(e.name,u))),r.insert(e,e.node)}});return new Wt(i,this.indexSet_)}removeFromIndexes(e,n){const i=ou(this.indexes_,l=>{if(l===Ai)return l;{const a=n.get(e.name);return a?l.remove(new I(e.name,a)):l}});return new Wt(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;class O{static get EMPTY_NODE(){return Il||(Il=new O(new et(Df),null,Wt.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&_y(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Il}updatePriority(e){return this.children_.isEmpty()?this:new O(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Il:n}}getChild(e){const n=V(e);return n===null?this:this.getImmediateChild(n).getChild(ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(b(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new I(e,n);let l,a;n.isEmpty()?(l=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(l=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const s=l.isEmpty()?Il:this.priorityNode_;return new O(l,s,a)}}updateChild(e,n){const i=V(e);if(i===null)return n;{b(V(e)!==".priority"||Gn(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(i).updateChild(ae(e),n);return this.updateImmediateChild(i,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,l=0,a=!0;if(this.forEachChild(ye,(s,u)=>{n[s]=u.val(e),i++,a&&O.INTEGER_REGEXP_.test(s)?l=Math.max(l,Number(s)):a=!1}),!e&&a&&l<2*i){const s=[];for(const u in n)s[u]=n[u];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+my(this.getPriority().val())+":"),this.forEachChild(ye,(n,i)=>{const l=i.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":kp(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const l=this.resolveIndex_(i);if(l){const a=l.getPredecessorKey(new I(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new I(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new I(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,I.Wrap);let a=l.peek();for(;a!=null&&n.compare(a,e)<0;)l.getNext(),a=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,I.Wrap);let a=l.peek();for(;a!=null&&n.compare(a,e)>0;)l.getNext(),a=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wa?-1:0}withIndex(e){if(e===Pi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new O(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Pi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ye),l=n.getIterator(ye);let a=i.getNext(),s=l.getNext();for(;a&&s;){if(a.name!==s.name||!a.node.equals(s.node))return!1;a=i.getNext(),s=l.getNext()}return a===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Pi?null:this.indexMap_.get(e.toString())}}O.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Qb extends O{constructor(){super(new et(Df),O.EMPTY_NODE,Wt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return O.EMPTY_NODE}isEmpty(){return!1}}const Wa=new Qb;Object.defineProperties(I,{MIN:{value:new I(dl,O.EMPTY_NODE)},MAX:{value:new I(hi,Wa)}});dy.__EMPTY_NODE=O.EMPTY_NODE;we.__childrenNodeConstructor=O;qb(Wa);Gb(Wa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=!0;function qe(t,e=null){if(t===null)return O.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),b(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new we(n,qe(e))}if(!(t instanceof Array)&&Xb){const n=[];let i=!1;if(ke(t,(s,u)=>{if(s.substring(0,1)!=="."){const r=qe(u);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new I(s,r)))}}),n.length===0)return O.EMPTY_NODE;const a=_u(n,Ib,s=>s.name,Df);if(i){const s=_u(n,ye.getCompare());return new O(a,qe(e),new Wt({".priority":s},{".priority":ye}))}else return new O(a,qe(e),Wt.Default)}else{let n=O.EMPTY_NODE;return ke(t,(i,l)=>{if(qt(t,i)&&i.substring(0,1)!=="."){const a=qe(l);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(qe(e))}}Yb(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb extends Ku{constructor(e){super(),this.indexPath_=e,b(!j(e)&&V(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),l=this.extractChild(n.node),a=i.compareTo(l);return a===0?Ei(e.name,n.name):a}makePost(e,n){const i=qe(e),l=O.EMPTY_NODE.updateChild(this.indexPath_,i);return new I(n,l)}maxPost(){const e=O.EMPTY_NODE.updateChild(this.indexPath_,Wa);return new I(hi,e)}toString(){return Ma(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb extends Ku{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Ei(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return I.MIN}maxPost(){return I.MAX}makePost(e,n){const i=qe(e);return new I(n,i)}toString(){return".value"}}const Fb=new Kb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){return{type:"value",snapshotNode:t}}function ml(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function wa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Jb(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.index_=e}updateChild(e,n,i,l,a,s){b(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(l).equals(i.getChild(l))&&u.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?e.hasChild(n)?s.trackChildChange(wa(n,u)):b(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?s.trackChildChange(ml(n,i)):s.trackChildChange(xa(n,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ye,(l,a)=>{n.hasChild(l)||i.trackChildChange(wa(l,a))}),n.isLeafNode()||n.forEachChild(ye,(l,a)=>{if(e.hasChild(l)){const s=e.getImmediateChild(l);s.equals(a)||i.trackChildChange(xa(l,a,s))}else i.trackChildChange(ml(l,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?O.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.indexedFilter_=new Rf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=za.getStartPost_(e),this.endPost_=za.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,l,a,s){return this.matches(new I(n,i))||(i=O.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,l,a,s)}updateFullNode(e,n,i){n.isLeafNode()&&(n=O.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(O.EMPTY_NODE);const a=this;return n.forEachChild(ye,(s,u)=>{a.matches(new I(s,u))||(l=l.updateImmediateChild(s,O.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new za(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,l,a,s){return this.rangedFilter_.matches(new I(n,i))||(i=O.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,l,a,s):this.fullLimitUpdateChild_(e,n,i,a,s)}updateFullNode(e,n,i){let l;if(n.isLeafNode()||n.isEmpty())l=O.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=O.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;a.hasNext()&&s<this.limit_;){const u=a.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))l=l.updateImmediateChild(u.name,u.node),s++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(O.EMPTY_NODE);let a;this.reverse_?a=l.getReverseIterator(this.index_):a=l.getIterator(this.index_);let s=0;for(;a.hasNext();){const u=a.getNext();s<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?s++:l=l.updateImmediateChild(u.name,O.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,l,a){let s;if(this.reverse_){const f=this.index_.getCompare();s=(c,m)=>f(m,c)}else s=this.index_.getCompare();const u=e;b(u.numChildren()===this.limit_,"");const r=new I(n,i),o=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(r);if(u.hasChild(n)){const f=u.getImmediateChild(n);let c=l.getChildAfterChild(this.index_,o,this.reverse_);for(;c!=null&&(c.name===n||u.hasChild(c.name));)c=l.getChildAfterChild(this.index_,c,this.reverse_);const m=c==null?1:s(c,r);if(h&&!i.isEmpty()&&m>=0)return a!=null&&a.trackChildChange(xa(n,i,f)),u.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(wa(n,f));const S=u.updateImmediateChild(n,O.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(a!=null&&a.trackChildChange(ml(c.name,c.node)),S.updateImmediateChild(c.name,c.node)):S}}else return i.isEmpty()?e:h&&s(o,r)>=0?(a!=null&&(a.trackChildChange(wa(o.name,o.node)),a.trackChildChange(ml(n,i))),u.updateImmediateChild(n,i).updateImmediateChild(o.name,O.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dl}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ye}copy(){const e=new Of;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $b(t){return t.loadsAllData()?new Rf(t.getIndex()):t.hasLimit()?new Wb(t):new za(t)}function um(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ye?n="$priority":t.index_===Fb?n="$value":t.index_===Pi?n="$key":(b(t.index_ instanceof Zb,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Le(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Le(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Le(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Le(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Le(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rm(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ye&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends oy{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=l,this.log_=Ja("p:rest:"),this.listens_={}}listen(e,n,i,l){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const s=gu.getListenId_(e,i),u={};this.listens_[s]=u;const r=um(e._queryParams);this.restRequest_(a+".json",r,(o,h)=>{let f=h;if(o===404&&(f=null,o=null),o===null&&this.onDataUpdate_(a,f,!1,i),hl(this.listens_,s)===u){let c;o?o===401?c="permission_denied":c="rest_error:"+o:c="ok",l(c,null)}})}unlisten(e,n){const i=gu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=um(e._queryParams),i=e._path.toString(),l=new Qu;return this.restRequest_(i+".json",n,(a,s)=>{let u=s;a===404&&(u=null,a=null),a===null?(this.onDataUpdate_(i,u,!1,null),l.resolve(u)):l.reject(new Error(u))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,a])=>{l&&l.accessToken&&(n.auth=l.accessToken),a&&a.token&&(n.ac=a.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+bS(n);this.log_("Sending REST request for "+s);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&u.readyState===4){this.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);let r=null;if(u.status>=200&&u.status<300){try{r=Na(u.responseText)}catch{nt("Failed to parse JSON response for "+s+": "+u.responseText)}i(null,r)}else u.status!==401&&u.status!==404&&nt("Got unsuccessful REST response for "+s+" Status: "+u.status),i(u.status);i=null}},u.open("GET",s,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.rootNode_=O.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(){return{value:null,children:new Map}}function vy(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=V(e);t.children.has(i)||t.children.set(i,pu());const l=t.children.get(i);e=ae(e),vy(l,e,n)}}function nc(t,e,n){t.value!==null?n(e,t.value):eC(t,(i,l)=>{const a=new te(e.toString()+"/"+i);nc(l,a,n)})}function eC(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&ke(this.last_,(i,l)=>{n[i]=n[i]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=10*1e3,nC=30*1e3,iC=5*60*1e3;class lC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tC(e);const i=om+(nC-om)*Math.random();ra(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;ke(e,(l,a)=>{a>0&&qt(this.statsToReport_,l)&&(n[l]=a,i=!0)}),i&&this.server_.reportStats(n),ra(this.reportStats_.bind(this),Math.floor(Math.random()*2*iC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mt||(Mt={}));function Mf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Mt.ACK_USER_WRITE,this.source=Mf()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new te(e));return new yu(X(),n,this.revert)}}else return b(V(this.path)===e,"operationForChild called for unrelated child."),new yu(ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.source=e,this.path=n,this.type=Mt.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new Ua(this.source,X()):new Ua(this.source,ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Mt.OVERWRITE}operationForChild(e){return j(this.path)?new di(this.source,X(),this.snap.getImmediateChild(e)):new di(this.source,ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Mt.MERGE}operationForChild(e){if(j(this.path)){const n=this.children.subtree(new te(e));return n.isEmpty()?null:n.value?new di(this.source,X(),n.value):new _l(this.source,X(),n)}else return b(V(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _l(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;const n=V(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function sC(t,e,n,i){const l=[],a=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&a.push(Jb(s.childName,s.snapshotNode))}),ql(t,l,"child_removed",e,i,n),ql(t,l,"child_added",e,i,n),ql(t,l,"child_moved",a,i,n),ql(t,l,"child_changed",e,i,n),ql(t,l,"value",e,i,n),l}function ql(t,e,n,i,l,a){const s=i.filter(u=>u.type===n);s.sort((u,r)=>rC(t,u,r)),s.forEach(u=>{const r=uC(t,u,a);l.forEach(o=>{o.respondsTo(u.type)&&e.push(o.createEvent(r,t.query_))})})}function uC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function rC(t,e,n){if(e.childName==null||n.childName==null)throw Al("Should only compare child_ events.");const i=new I(e.childName,e.snapshotNode),l=new I(n.childName,n.snapshotNode);return t.index_.compare(i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t,e){return{eventCache:t,serverCache:e}}function oa(t,e,n,i){return Fu(new mi(e,n,i),t.serverCache)}function Sy(t,e,n,i){return Fu(t.eventCache,new mi(e,n,i))}function ic(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function _i(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xr;const oC=()=>(Xr||(Xr=new et(ZE)),Xr);class ie{static fromObject(e){let n=new ie(null);return ke(e,(i,l)=>{n=n.set(new te(i),l)}),n}constructor(e,n=oC()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:X(),value:this.value};if(j(e))return null;{const i=V(e),l=this.children.get(i);if(l!==null){const a=l.findRootMostMatchingPathAndValue(ae(e),n);return a!=null?{path:pe(new te(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{const n=V(e),i=this.children.get(n);return i!==null?i.subtree(ae(e)):new ie(null)}}set(e,n){if(j(e))return new ie(n,this.children);{const i=V(e),a=(this.children.get(i)||new ie(null)).set(ae(e),n),s=this.children.insert(i,a);return new ie(this.value,s)}}remove(e){if(j(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=V(e),i=this.children.get(n);if(i){const l=i.remove(ae(e));let a;return l.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,l),this.value===null&&a.isEmpty()?new ie(null):new ie(this.value,a)}else return this}}get(e){if(j(e))return this.value;{const n=V(e),i=this.children.get(n);return i?i.get(ae(e)):null}}setTree(e,n){if(j(e))return n;{const i=V(e),a=(this.children.get(i)||new ie(null)).setTree(ae(e),n);let s;return a.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,a),new ie(this.value,s)}}fold(e){return this.fold_(X(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((l,a)=>{i[l]=a.fold_(pe(e,l),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,X(),n)}findOnPath_(e,n,i){const l=this.value?i(n,this.value):!1;if(l)return l;if(j(e))return null;{const a=V(e),s=this.children.get(a);return s?s.findOnPath_(ae(e),pe(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,X(),n)}foreachOnPath_(e,n,i){if(j(e))return this;{this.value&&i(n,this.value);const l=V(e),a=this.children.get(l);return a?a.foreachOnPath_(ae(e),pe(n,l),i):new ie(null)}}foreach(e){this.foreach_(X(),e)}foreach_(e,n){this.children.inorderTraversal((i,l)=>{l.foreach_(pe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.writeTree_=e}static empty(){return new wt(new ie(null))}}function ca(t,e,n){if(j(e))return new wt(new ie(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const l=i.path;let a=i.value;const s=Pe(l,e);return a=a.updateChild(s,n),new wt(t.writeTree_.set(l,a))}else{const l=new ie(n),a=t.writeTree_.setTree(e,l);return new wt(a)}}}function lc(t,e,n){let i=t;return ke(n,(l,a)=>{i=ca(i,pe(e,l),a)}),i}function cm(t,e){if(j(e))return wt.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new wt(n)}}function ac(t,e){return bi(t,e)!=null}function bi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pe(n.path,e)):null}function fm(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ye,(i,l)=>{e.push(new I(i,l))}):t.writeTree_.children.inorderTraversal((i,l)=>{l.value!=null&&e.push(new I(i,l.value))}),e}function Hn(t,e){if(j(e))return t;{const n=bi(t,e);return n!=null?new wt(new ie(n)):new wt(t.writeTree_.subtree(e))}}function sc(t){return t.writeTree_.isEmpty()}function gl(t,e){return Ey(X(),t.writeTree_,e)}function Ey(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((l,a)=>{l===".priority"?(b(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=Ey(pe(t,l),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(pe(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e){return Ay(e,t)}function cC(t,e,n,i,l){b(i>t.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:l}),l&&(t.visibleWrites=ca(t.visibleWrites,e,n)),t.lastWriteId=i}function fC(t,e,n,i){b(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=lc(t.visibleWrites,e,n),t.lastWriteId=i}function hC(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function dC(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);b(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let l=i.visible,a=!1,s=t.allWrites.length-1;for(;l&&s>=0;){const u=t.allWrites[s];u.visible&&(s>=n&&mC(u,i.path)?l=!1:Ct(i.path,u.path)&&(a=!0)),s--}if(l){if(a)return _C(t),!0;if(i.snap)t.visibleWrites=cm(t.visibleWrites,i.path);else{const u=i.children;ke(u,r=>{t.visibleWrites=cm(t.visibleWrites,pe(i.path,r))})}return!0}else return!1}function mC(t,e){if(t.snap)return Ct(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ct(pe(t.path,n),e))return!0;return!1}function _C(t){t.visibleWrites=by(t.allWrites,gC,X()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function gC(t){return t.visible}function by(t,e,n){let i=wt.empty();for(let l=0;l<t.length;++l){const a=t[l];if(e(a)){const s=a.path;let u;if(a.snap)Ct(n,s)?(u=Pe(n,s),i=ca(i,u,a.snap)):Ct(s,n)&&(u=Pe(s,n),i=ca(i,X(),a.snap.getChild(u)));else if(a.children){if(Ct(n,s))u=Pe(n,s),i=lc(i,u,a.children);else if(Ct(s,n))if(u=Pe(s,n),j(u))i=lc(i,X(),a.children);else{const r=hl(a.children,V(u));if(r){const o=r.getChild(ae(u));i=ca(i,X(),o)}}}else throw Al("WriteRecord should have .snap or .children")}}return i}function Cy(t,e,n,i,l){if(!i&&!l){const a=bi(t.visibleWrites,e);if(a!=null)return a;{const s=Hn(t.visibleWrites,e);if(sc(s))return n;if(n==null&&!ac(s,X()))return null;{const u=n||O.EMPTY_NODE;return gl(s,u)}}}else{const a=Hn(t.visibleWrites,e);if(!l&&sc(a))return n;if(!l&&n==null&&!ac(a,X()))return null;{const s=function(o){return(o.visible||l)&&(!i||!~i.indexOf(o.writeId))&&(Ct(o.path,e)||Ct(e,o.path))},u=by(t.allWrites,s,e),r=n||O.EMPTY_NODE;return gl(u,r)}}}function pC(t,e,n){let i=O.EMPTY_NODE;const l=bi(t.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(ye,(a,s)=>{i=i.updateImmediateChild(a,s)}),i;if(n){const a=Hn(t.visibleWrites,e);return n.forEachChild(ye,(s,u)=>{const r=gl(Hn(a,new te(s)),u);i=i.updateImmediateChild(s,r)}),fm(a).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{const a=Hn(t.visibleWrites,e);return fm(a).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function yC(t,e,n,i,l){b(i||l,"Either existingEventSnap or existingServerSnap must exist");const a=pe(e,n);if(ac(t.visibleWrites,a))return null;{const s=Hn(t.visibleWrites,a);return sc(s)?l.getChild(n):gl(s,l.getChild(n))}}function vC(t,e,n,i){const l=pe(e,n),a=bi(t.visibleWrites,l);if(a!=null)return a;if(i.isCompleteForChild(n)){const s=Hn(t.visibleWrites,l);return gl(s,i.getNode().getImmediateChild(n))}else return null}function SC(t,e){return bi(t.visibleWrites,e)}function EC(t,e,n,i,l,a,s){let u;const r=Hn(t.visibleWrites,e),o=bi(r,X());if(o!=null)u=o;else if(n!=null)u=gl(r,n);else return[];if(u=u.withIndex(s),!u.isEmpty()&&!u.isLeafNode()){const h=[],f=s.getCompare(),c=a?u.getReverseIteratorFrom(i,s):u.getIteratorFrom(i,s);let m=c.getNext();for(;m&&h.length<l;)f(m,i)!==0&&h.push(m),m=c.getNext();return h}else return[]}function bC(){return{visibleWrites:wt.empty(),allWrites:[],lastWriteId:-1}}function vu(t,e,n,i){return Cy(t.writeTree,t.treePath,e,n,i)}function Uf(t,e){return pC(t.writeTree,t.treePath,e)}function hm(t,e,n,i){return yC(t.writeTree,t.treePath,e,n,i)}function Su(t,e){return SC(t.writeTree,pe(t.treePath,e))}function CC(t,e,n,i,l,a){return EC(t.writeTree,t.treePath,e,n,i,l,a)}function Lf(t,e,n){return vC(t.writeTree,t.treePath,e,n)}function Ty(t,e){return Ay(pe(t.treePath,e),t.writeTree)}function Ay(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;b(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),b(i!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(i);if(l){const a=l.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,xa(i,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,wa(i,l.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,ml(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,xa(i,e.snapshotNode,l.oldSnap));else throw Al("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const Ny=new AC;class Hf{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new mi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lf(this.writes_,e,i)}}getChildAfterChild(e,n,i){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_i(this.viewCache_),a=CC(this.writes_,l,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){return{filter:t}}function DC(t,e){b(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function RC(t,e,n,i,l){const a=new TC;let s,u;if(n.type===Mt.OVERWRITE){const o=n;o.source.fromUser?s=uc(t,e,o.path,o.snap,i,l,a):(b(o.source.fromServer,"Unknown source."),u=o.source.tagged||e.serverCache.isFiltered()&&!j(o.path),s=Eu(t,e,o.path,o.snap,i,l,u,a))}else if(n.type===Mt.MERGE){const o=n;o.source.fromUser?s=MC(t,e,o.path,o.children,i,l,a):(b(o.source.fromServer,"Unknown source."),u=o.source.tagged||e.serverCache.isFiltered(),s=rc(t,e,o.path,o.children,i,l,u,a))}else if(n.type===Mt.ACK_USER_WRITE){const o=n;o.revert?s=zC(t,e,o.path,i,l,a):s=wC(t,e,o.path,o.affectedTree,i,l,a)}else if(n.type===Mt.LISTEN_COMPLETE)s=xC(t,e,n.path,i,a);else throw Al("Unknown operation type: "+n.type);const r=a.getChanges();return OC(e,s,r),{viewCache:s,changes:r}}function OC(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const l=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=ic(t);(n.length>0||!t.eventCache.isFullyInitialized()||l&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(yy(ic(e)))}}function Dy(t,e,n,i,l,a){const s=e.eventCache;if(Su(i,n)!=null)return e;{let u,r;if(j(n))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const o=_i(e),h=o instanceof O?o:O.EMPTY_NODE,f=Uf(i,h);u=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const o=vu(i,_i(e));u=t.filter.updateFullNode(e.eventCache.getNode(),o,a)}else{const o=V(n);if(o===".priority"){b(Gn(n)===1,"Can't have a priority with additional path components");const h=s.getNode();r=e.serverCache.getNode();const f=hm(i,n,h,r);f!=null?u=t.filter.updatePriority(h,f):u=s.getNode()}else{const h=ae(n);let f;if(s.isCompleteForChild(o)){r=e.serverCache.getNode();const c=hm(i,n,s.getNode(),r);c!=null?f=s.getNode().getImmediateChild(o).updateChild(h,c):f=s.getNode().getImmediateChild(o)}else f=Lf(i,o,e.serverCache);f!=null?u=t.filter.updateChild(s.getNode(),o,f,h,l,a):u=s.getNode()}}return oa(e,u,s.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function Eu(t,e,n,i,l,a,s,u){const r=e.serverCache;let o;const h=s?t.filter:t.filter.getIndexedFilter();if(j(n))o=h.updateFullNode(r.getNode(),i,null);else if(h.filtersNodes()&&!r.isFiltered()){const m=r.getNode().updateChild(n,i);o=h.updateFullNode(r.getNode(),m,null)}else{const m=V(n);if(!r.isCompleteForPath(n)&&Gn(n)>1)return e;const y=ae(n),D=r.getNode().getImmediateChild(m).updateChild(y,i);m===".priority"?o=h.updatePriority(r.getNode(),D):o=h.updateChild(r.getNode(),m,D,y,Ny,null)}const f=Sy(e,o,r.isFullyInitialized()||j(n),h.filtersNodes()),c=new Hf(l,f,a);return Dy(t,f,n,l,c,u)}function uc(t,e,n,i,l,a,s){const u=e.eventCache;let r,o;const h=new Hf(l,e,a);if(j(n))o=t.filter.updateFullNode(e.eventCache.getNode(),i,s),r=oa(e,o,!0,t.filter.filtersNodes());else{const f=V(n);if(f===".priority")o=t.filter.updatePriority(e.eventCache.getNode(),i),r=oa(e,o,u.isFullyInitialized(),u.isFiltered());else{const c=ae(n),m=u.getNode().getImmediateChild(f);let y;if(j(c))y=i;else{const S=h.getCompleteChild(f);S!=null?Tf(c)===".priority"&&S.getChild(fy(c)).isEmpty()?y=S:y=S.updateChild(c,i):y=O.EMPTY_NODE}if(m.equals(y))r=e;else{const S=t.filter.updateChild(u.getNode(),f,y,c,h,s);r=oa(e,S,u.isFullyInitialized(),t.filter.filtersNodes())}}}return r}function dm(t,e){return t.eventCache.isCompleteForChild(e)}function MC(t,e,n,i,l,a,s){let u=e;return i.foreach((r,o)=>{const h=pe(n,r);dm(e,V(h))&&(u=uc(t,u,h,o,l,a,s))}),i.foreach((r,o)=>{const h=pe(n,r);dm(e,V(h))||(u=uc(t,u,h,o,l,a,s))}),u}function mm(t,e,n){return n.foreach((i,l)=>{e=e.updateChild(i,l)}),e}function rc(t,e,n,i,l,a,s,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let r=e,o;j(n)?o=i:o=new ie(null).setTree(n,i);const h=e.serverCache.getNode();return o.children.inorderTraversal((f,c)=>{if(h.hasChild(f)){const m=e.serverCache.getNode().getImmediateChild(f),y=mm(t,m,c);r=Eu(t,r,new te(f),y,l,a,s,u)}}),o.children.inorderTraversal((f,c)=>{const m=!e.serverCache.isCompleteForChild(f)&&c.value===null;if(!h.hasChild(f)&&!m){const y=e.serverCache.getNode().getImmediateChild(f),S=mm(t,y,c);r=Eu(t,r,new te(f),S,l,a,s,u)}}),r}function wC(t,e,n,i,l,a,s){if(Su(l,n)!=null)return e;const u=e.serverCache.isFiltered(),r=e.serverCache;if(i.value!=null){if(j(n)&&r.isFullyInitialized()||r.isCompleteForPath(n))return Eu(t,e,n,r.getNode().getChild(n),l,a,u,s);if(j(n)){let o=new ie(null);return r.getNode().forEachChild(Pi,(h,f)=>{o=o.set(new te(h),f)}),rc(t,e,n,o,l,a,u,s)}else return e}else{let o=new ie(null);return i.foreach((h,f)=>{const c=pe(n,h);r.isCompleteForPath(c)&&(o=o.set(h,r.getNode().getChild(c)))}),rc(t,e,n,o,l,a,u,s)}}function xC(t,e,n,i,l){const a=e.serverCache,s=Sy(e,a.getNode(),a.isFullyInitialized()||j(n),a.isFiltered());return Dy(t,s,n,i,Ny,l)}function zC(t,e,n,i,l,a){let s;if(Su(i,n)!=null)return e;{const u=new Hf(i,e,l),r=e.eventCache.getNode();let o;if(j(n)||V(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=vu(i,_i(e));else{const f=e.serverCache.getNode();b(f instanceof O,"serverChildren would be complete if leaf node"),h=Uf(i,f)}h=h,o=t.filter.updateFullNode(r,h,a)}else{const h=V(n);let f=Lf(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=r.getImmediateChild(h)),f!=null?o=t.filter.updateChild(r,h,f,ae(n),u,a):e.eventCache.getNode().hasChild(h)?o=t.filter.updateChild(r,h,O.EMPTY_NODE,ae(n),u,a):o=r,o.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=vu(i,_i(e)),s.isLeafNode()&&(o=t.filter.updateFullNode(o,s,a)))}return s=e.serverCache.isFullyInitialized()||Su(i,X())!=null,oa(e,o,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,l=new Rf(i.getIndex()),a=$b(i);this.processor_=NC(a);const s=n.serverCache,u=n.eventCache,r=l.updateFullNode(O.EMPTY_NODE,s.getNode(),null),o=a.updateFullNode(O.EMPTY_NODE,u.getNode(),null),h=new mi(r,s.isFullyInitialized(),l.filtersNodes()),f=new mi(o,u.isFullyInitialized(),a.filtersNodes());this.viewCache_=Fu(f,h),this.eventGenerator_=new aC(this.query_)}get query(){return this.query_}}function LC(t){return t.viewCache_.serverCache.getNode()}function HC(t,e){const n=_i(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(V(e)).isEmpty())?n.getChild(e):null}function _m(t){return t.eventRegistrations_.length===0}function BC(t,e){t.eventRegistrations_.push(e)}function gm(t,e,n){const i=[];if(n){b(e==null,"A cancel should cancel all event registrations.");const l=t.query._path;t.eventRegistrations_.forEach(a=>{const s=a.createCancelEvent(n,l);s&&i.push(s)})}if(e){let l=[];for(let a=0;a<t.eventRegistrations_.length;++a){const s=t.eventRegistrations_[a];if(!s.matches(e))l.push(s);else if(e.hasAnyCallback()){l=l.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=l}else t.eventRegistrations_=[];return i}function pm(t,e,n,i){e.type===Mt.MERGE&&e.source.queryId!==null&&(b(_i(t.viewCache_),"We should always have a full cache before handling merges"),b(ic(t.viewCache_),"Missing event cache, even though we have a server cache"));const l=t.viewCache_,a=RC(t.processor_,l,e,n,i);return DC(t.processor_,a.viewCache),b(a.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,Ry(t,a.changes,a.viewCache.eventCache.getNode(),null)}function IC(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ye,(a,s)=>{i.push(ml(a,s))}),n.isFullyInitialized()&&i.push(yy(n.getNode())),Ry(t,i,n.getNode(),e)}function Ry(t,e,n,i){const l=i?[i]:t.eventRegistrations_;return sC(t.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;class qC{constructor(){this.views=new Map}}function YC(t){b(!bu,"__referenceConstructor has already been defined"),bu=t}function GC(){return b(bu,"Reference.ts has not been loaded"),bu}function VC(t){return t.views.size===0}function Bf(t,e,n,i){const l=e.source.queryId;if(l!==null){const a=t.views.get(l);return b(a!=null,"SyncTree gave us an op for an invalid query."),pm(a,e,n,i)}else{let a=[];for(const s of t.views.values())a=a.concat(pm(s,e,n,i));return a}}function jC(t,e,n,i,l){const a=e._queryIdentifier,s=t.views.get(a);if(!s){let u=vu(n,l?i:null),r=!1;u?r=!0:i instanceof O?(u=Uf(n,i),r=!1):(u=O.EMPTY_NODE,r=!1);const o=Fu(new mi(u,r,!1),new mi(i,l,!1));return new UC(e,o)}return s}function kC(t,e,n,i,l,a){const s=jC(t,e,i,l,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),BC(s,n),IC(s,n)}function QC(t,e,n,i){const l=e._queryIdentifier,a=[];let s=[];const u=Vn(t);if(l==="default")for(const[r,o]of t.views.entries())s=s.concat(gm(o,n,i)),_m(o)&&(t.views.delete(r),o.query._queryParams.loadsAllData()||a.push(o.query));else{const r=t.views.get(l);r&&(s=s.concat(gm(r,n,i)),_m(r)&&(t.views.delete(l),r.query._queryParams.loadsAllData()||a.push(r.query)))}return u&&!Vn(t)&&a.push(new(GC())(e._repo,e._path)),{removed:a,events:s}}function Oy(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function el(t,e){let n=null;for(const i of t.views.values())n=n||HC(i,e);return n}function My(t,e){if(e._queryParams.loadsAllData())return Ju(t);{const i=e._queryIdentifier;return t.views.get(i)}}function wy(t,e){return My(t,e)!=null}function Vn(t){return Ju(t)!=null}function Ju(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu;function XC(t){b(!Cu,"__referenceConstructor has already been defined"),Cu=t}function ZC(){return b(Cu,"Reference.ts has not been loaded"),Cu}let KC=1;class ym{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=bC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function FC(t,e,n,i,l){return cC(t.pendingWriteTree_,e,n,i,l),l?Dl(t,new di(Mf(),e,n)):[]}function JC(t,e,n,i){fC(t.pendingWriteTree_,e,n,i);const l=ie.fromObject(n);return Dl(t,new _l(Mf(),e,l))}function ti(t,e,n=!1){const i=hC(t.pendingWriteTree_,e);if(dC(t.pendingWriteTree_,e)){let a=new ie(null);return i.snap!=null?a=a.set(X(),!0):ke(i.children,s=>{a=a.set(new te(s),!0)}),Dl(t,new yu(i.path,a,n))}else return[]}function Wu(t,e,n){return Dl(t,new di(wf(),e,n))}function WC(t,e,n){const i=ie.fromObject(n);return Dl(t,new _l(wf(),e,i))}function $C(t,e){return Dl(t,new Ua(wf(),e))}function PC(t,e,n){const i=If(t,n);if(i){const l=qf(i),a=l.path,s=l.queryId,u=Pe(a,e),r=new Ua(xf(s),u);return Yf(t,a,r)}else return[]}function oc(t,e,n,i,l=!1){const a=e._path,s=t.syncPointTree_.get(a);let u=[];if(s&&(e._queryIdentifier==="default"||wy(s,e))){const r=QC(s,e,n,i);VC(s)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const o=r.removed;if(u=r.events,!l){const h=o.findIndex(c=>c._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(a,(c,m)=>Vn(m));if(h&&!f){const c=t.syncPointTree_.subtree(a);if(!c.isEmpty()){const m=nT(c);for(let y=0;y<m.length;++y){const S=m[y],D=S.query,_=Ly(t,S);t.listenProvider_.startListening(fa(D),Tu(t,D),_.hashFn,_.onComplete)}}}!f&&o.length>0&&!i&&(h?t.listenProvider_.stopListening(fa(e),null):o.forEach(c=>{const m=t.queryToTagMap.get($u(c));t.listenProvider_.stopListening(fa(c),m)}))}iT(t,o)}return u}function eT(t,e,n,i){const l=If(t,i);if(l!=null){const a=qf(l),s=a.path,u=a.queryId,r=Pe(s,e),o=new di(xf(u),r,n);return Yf(t,s,o)}else return[]}function tT(t,e,n,i){const l=If(t,i);if(l){const a=qf(l),s=a.path,u=a.queryId,r=Pe(s,e),o=ie.fromObject(n),h=new _l(xf(u),r,o);return Yf(t,s,h)}else return[]}function vm(t,e,n,i=!1){const l=e._path;let a=null,s=!1;t.syncPointTree_.foreachOnPath(l,(c,m)=>{const y=Pe(c,l);a=a||el(m,y),s=s||Vn(m)});let u=t.syncPointTree_.get(l);u?(s=s||Vn(u),a=a||el(u,X())):(u=new qC,t.syncPointTree_=t.syncPointTree_.set(l,u));let r;a!=null?r=!0:(r=!1,a=O.EMPTY_NODE,t.syncPointTree_.subtree(l).foreachChild((m,y)=>{const S=el(y,X());S&&(a=a.updateImmediateChild(m,S))}));const o=wy(u,e);if(!o&&!e._queryParams.loadsAllData()){const c=$u(e);b(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");const m=lT();t.queryToTagMap.set(c,m),t.tagToQueryMap.set(m,c)}const h=zf(t.pendingWriteTree_,l);let f=kC(u,e,n,h,a,r);if(!o&&!s&&!i){const c=My(u,e);f=f.concat(aT(t,e,c))}return f}function xy(t,e,n){const l=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(s,u)=>{const r=Pe(s,e),o=el(u,r);if(o)return o});return Cy(l,e,a,n,!0)}function Dl(t,e){return zy(e,t.syncPointTree_,null,zf(t.pendingWriteTree_,X()))}function zy(t,e,n,i){if(j(t.path))return Uy(t,e,n,i);{const l=e.get(X());n==null&&l!=null&&(n=el(l,X()));let a=[];const s=V(t.path),u=t.operationForChild(s),r=e.children.get(s);if(r&&u){const o=n?n.getImmediateChild(s):null,h=Ty(i,s);a=a.concat(zy(u,r,o,h))}return l&&(a=a.concat(Bf(l,t,i,n))),a}}function Uy(t,e,n,i){const l=e.get(X());n==null&&l!=null&&(n=el(l,X()));let a=[];return e.children.inorderTraversal((s,u)=>{const r=n?n.getImmediateChild(s):null,o=Ty(i,s),h=t.operationForChild(s);h&&(a=a.concat(Uy(h,u,r,o)))}),l&&(a=a.concat(Bf(l,t,i,n))),a}function Ly(t,e){const n=e.query,i=Tu(t,n);return{hashFn:()=>(LC(e)||O.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return i?PC(t,n._path,i):$C(t,n._path);{const a=JE(l,n);return oc(t,n,null,a)}}}}function Tu(t,e){const n=$u(e);return t.queryToTagMap.get(n)}function $u(t){return t._path.toString()+"$"+t._queryIdentifier}function If(t,e){return t.tagToQueryMap.get(e)}function qf(t){const e=t.indexOf("$");return b(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new te(t.substr(0,e))}}function Yf(t,e,n){const i=t.syncPointTree_.get(e);b(i,"Missing sync point for query tag that we're tracking");const l=zf(t.pendingWriteTree_,e);return Bf(i,n,l,null)}function nT(t){return t.fold((e,n,i)=>{if(n&&Vn(n))return[Ju(n)];{let l=[];return n&&(l=Oy(n)),ke(i,(a,s)=>{l=l.concat(s)}),l}})}function fa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(ZC())(t._repo,t._path):t}function iT(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const l=$u(i),a=t.queryToTagMap.get(l);t.queryToTagMap.delete(l),t.tagToQueryMap.delete(a)}}}function lT(){return KC++}function aT(t,e,n){const i=e._path,l=Tu(t,e),a=Ly(t,n),s=t.listenProvider_.startListening(fa(e),l,a.hashFn,a.onComplete),u=t.syncPointTree_.subtree(i);if(l)b(!Vn(u.value),"If we're adding a query, it shouldn't be shadowed");else{const r=u.fold((o,h,f)=>{if(!j(o)&&h&&Vn(h))return[Ju(h).query];{let c=[];return h&&(c=c.concat(Oy(h).map(m=>m.query))),ke(f,(m,y)=>{c=c.concat(y)}),c}});for(let o=0;o<r.length;++o){const h=r[o];t.listenProvider_.stopListening(fa(h),Tu(t,h))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Gf(n)}node(){return this.node_}}class Vf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pe(this.path_,e);return new Vf(this.syncTree_,n)}node(){return xy(this.syncTree_,this.path_)}}const sT=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Sm=function(t,e,n){if(!t||typeof t!="object")return t;if(b(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return uT(t[".sv"],e,n);if(typeof t[".sv"]=="object")return rT(t[".sv"],e);b(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},uT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:b(!1,"Unexpected server value: "+t)}},rT=function(t,e,n){t.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&b(!1,"Unexpected increment value: "+i);const l=e.node();if(b(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return i;const s=l.getValue();return typeof s!="number"?i:s+i},Hy=function(t,e,n,i){return jf(e,new Vf(n,t),i)},oT=function(t,e,n){return jf(t,new Gf(e),n)};function jf(t,e,n){const i=t.getPriority().val(),l=Sm(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const s=t,u=Sm(s.getValue(),e,n);return u!==s.getValue()||l!==s.getPriority().val()?new we(u,qe(l)):t}else{const s=t;return a=s,l!==s.getPriority().val()&&(a=a.updatePriority(new we(l))),s.forEachChild(ye,(u,r)=>{const o=jf(r,e.getImmediateChild(u),n);o!==r&&(a=a.updateImmediateChild(u,o))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Qf(t,e){let n=e instanceof te?e:new te(e),i=t,l=V(n);for(;l!==null;){const a=hl(i.node.children,l)||{children:{},childCount:0};i=new kf(l,i,a),n=ae(n),l=V(n)}return i}function Rl(t){return t.node.value}function By(t,e){t.node.value=e,cc(t)}function Iy(t){return t.node.childCount>0}function cT(t){return Rl(t)===void 0&&!Iy(t)}function Pu(t,e){ke(t.node.children,(n,i)=>{e(new kf(n,t,i))})}function qy(t,e,n,i){n&&e(t),Pu(t,l=>{qy(l,e,!0)})}function fT(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function $a(t){return new te(t.parent===null?t.name:$a(t.parent)+"/"+t.name)}function cc(t){t.parent!==null&&hT(t.parent,t.name,t)}function hT(t,e,n){const i=cT(n),l=qt(t.node.children,e);i&&l?(delete t.node.children[e],t.node.childCount--,cc(t)):!i&&!l&&(t.node.children[e]=n.node,t.node.childCount++,cc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=/[\[\].#$\/\u0000-\u001F\u007F]/,mT=/[\[\].#$\u0000-\u001F\u007F]/,Zr=10*1024*1024,Xf=function(t){return typeof t=="string"&&t.length!==0&&!dT.test(t)},Yy=function(t){return typeof t=="string"&&t.length!==0&&!mT.test(t)},_T=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Yy(t)},gT=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!vf(t)||t&&typeof t=="object"&&qt(t,".sv")},Zf=function(t,e,n){const i=n instanceof te?new Mb(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Pn(i));if(typeof e=="function")throw new Error(t+"contains a function "+Pn(i)+" with contents = "+e.toString());if(vf(e))throw new Error(t+"contains "+e.toString()+" "+Pn(i));if(typeof e=="string"&&e.length>Zr/3&&Xu(e)>Zr)throw new Error(t+"contains a string greater than "+Zr+" utf8 bytes "+Pn(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,a=!1;if(ke(e,(s,u)=>{if(s===".value")l=!0;else if(s!==".priority"&&s!==".sv"&&(a=!0,!Xf(s)))throw new Error(t+" contains an invalid key ("+s+") "+Pn(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wb(i,s),Zf(t,u,i),xb(i)}),l&&a)throw new Error(t+' contains ".value" child '+Pn(i)+" in addition to actual children.")}},pT=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const a=Ma(i);for(let s=0;s<a.length;s++)if(!(a[s]===".priority"&&s===a.length-1)){if(!Xf(a[s]))throw new Error(t+"contains an invalid key ("+a[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Ob);let l=null;for(n=0;n<e.length;n++){if(i=e[n],l!==null&&Ct(l,i))throw new Error(t+"contains a path "+l.toString()+" that is ancestor of another path "+i.toString());l=i}},yT=function(t,e,n,i){const l=pf(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const a=[];ke(e,(s,u)=>{const r=new te(s);if(Zf(l,u,pe(n,r)),Tf(r)===".priority"&&!gT(u))throw new Error(l+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),pT(l,a)},Gy=function(t,e,n,i){if(!Yy(n))throw new Error(pf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vT=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gy(t,e,n)},ST=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Xf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!_T(n))throw new Error(pf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kf(t,e){let n=null;for(let i=0;i<e.length;i++){const l=e[i],a=l.getPath();n!==null&&!Af(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(l)}n&&t.eventLists_.push(n)}function Vy(t,e,n){Kf(t,n),jy(t,i=>Af(i,e))}function cn(t,e,n){Kf(t,n),jy(t,i=>Ct(i,e)||Ct(e,i))}function jy(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const l=t.eventLists_[i];if(l){const a=l.path;e(a)?(bT(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function bT(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();ua&&Ie("event: "+n.toString()),Nl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="repo_interrupt",TT=25;class AT{constructor(e,n,i,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ET,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pu(),this.transactionQueueTree_=new kf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NT(t,e,n){if(t.stats_=bf(t.repoInfo_),t.forceRestClient_||eb())t.server_=new gu(t.repoInfo_,(i,l,a,s)=>{Em(t,i,l,a,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>bm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Le(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new tn(t.repoInfo_,e,(i,l,a,s)=>{Em(t,i,l,a,s)},i=>{bm(t,i)},i=>{RT(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=ab(t.repoInfo_,()=>new lC(t.stats_,t.server_)),t.infoData_=new Pb,t.infoSyncTree_=new ym({startListening:(i,l,a,s)=>{let u=[];const r=t.infoData_.getNode(i._path);return r.isEmpty()||(u=Wu(t.infoSyncTree_,i._path,r),setTimeout(()=>{s("ok")},0)),u},stopListening:()=>{}}),Jf(t,"connected",!1),t.serverSyncTree_=new ym({startListening:(i,l,a,s)=>(t.server_.listen(i,a,l,(u,r)=>{const o=s(u,r);cn(t.eventQueue_,i._path,o)}),[]),stopListening:(i,l)=>{t.server_.unlisten(i,l)}})}function DT(t){const n=t.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ff(t){return sT({timestamp:DT(t)})}function Em(t,e,n,i,l){t.dataUpdateCount++;const a=new te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(l)if(i){const r=ou(n,o=>qe(o));s=tT(t.serverSyncTree_,a,r,l)}else{const r=qe(n);s=eT(t.serverSyncTree_,a,r,l)}else if(i){const r=ou(n,o=>qe(o));s=WC(t.serverSyncTree_,a,r)}else{const r=qe(n);s=Wu(t.serverSyncTree_,a,r)}let u=a;s.length>0&&(u=La(t,a)),cn(t.eventQueue_,u,s)}function bm(t,e){Jf(t,"connected",e),e===!1&&MT(t)}function RT(t,e){ke(e,(n,i)=>{Jf(t,n,i)})}function Jf(t,e,n){const i=new te("/.info/"+e),l=qe(n);t.infoData_.updateSnapshot(i,l);const a=Wu(t.infoSyncTree_,i,l);cn(t.eventQueue_,i,a)}function ky(t){return t.nextWriteId_++}function OT(t,e,n,i){Wf(t,"update",{path:e.toString(),value:n});let l=!0;const a=Ff(t),s={};if(ke(n,(u,r)=>{l=!1,s[u]=Hy(pe(e,u),qe(r),t.serverSyncTree_,a)}),l)Ie("update() called with empty data.  Don't do anything."),Cm(t,i,"ok",void 0);else{const u=ky(t),r=JC(t.serverSyncTree_,e,s,u);Kf(t.eventQueue_,r),t.server_.merge(e.toString(),n,(o,h)=>{const f=o==="ok";f||nt("update at "+e+" failed: "+o);const c=ti(t.serverSyncTree_,u,!f),m=c.length>0?La(t,e):e;cn(t.eventQueue_,m,c),Cm(t,i,o,h)}),ke(n,o=>{const h=Jy(t,pe(e,o));La(t,h)}),cn(t.eventQueue_,e,[])}}function MT(t){Wf(t,"onDisconnectEvents");const e=Ff(t),n=pu();nc(t.onDisconnect_,X(),(l,a)=>{const s=Hy(l,a,t.serverSyncTree_,e);vy(n,l,s)});let i=[];nc(n,X(),(l,a)=>{i=i.concat(Wu(t.serverSyncTree_,l,a));const s=Jy(t,l);La(t,s)}),t.onDisconnect_=pu(),cn(t.eventQueue_,X(),i)}function wT(t,e,n){let i;V(e._path)===".info"?i=vm(t.infoSyncTree_,e,n):i=vm(t.serverSyncTree_,e,n),Vy(t.eventQueue_,e._path,i)}function Qy(t,e,n){let i;V(e._path)===".info"?i=oc(t.infoSyncTree_,e,n):i=oc(t.serverSyncTree_,e,n),Vy(t.eventQueue_,e._path,i)}function xT(t){t.persistentConnection_&&t.persistentConnection_.interrupt(CT)}function Wf(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ie(n,...e)}function Cm(t,e,n,i){e&&Nl(()=>{if(n==="ok")e(null);else{const l=(n||"error").toUpperCase();let a=l;i&&(a+=": "+i);const s=new Error(a);s.code=l,e(s)}})}function Xy(t,e,n){return xy(t.serverSyncTree_,e,n)||O.EMPTY_NODE}function $f(t,e=t.transactionQueueTree_){if(e||er(t,e),Rl(e)){const n=Ky(t,e);b(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&zT(t,$a(e),n)}else Iy(e)&&Pu(e,n=>{$f(t,n)})}function zT(t,e,n){const i=n.map(o=>o.currentWriteId),l=Xy(t,e,i);let a=l;const s=l.hash();for(let o=0;o<n.length;o++){const h=n[o];b(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Pe(e,h.path);a=a.updateChild(f,h.currentOutputSnapshotRaw)}const u=a.val(!0),r=e;t.server_.put(r.toString(),u,o=>{Wf(t,"transaction put response",{path:r.toString(),status:o});let h=[];if(o==="ok"){const f=[];for(let c=0;c<n.length;c++)n[c].status=2,h=h.concat(ti(t.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&f.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();er(t,Qf(t.transactionQueueTree_,e)),$f(t,t.transactionQueueTree_),cn(t.eventQueue_,e,h);for(let c=0;c<f.length;c++)Nl(f[c])}else{if(o==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{nt("transaction at "+r.toString()+" failed: "+o);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=o}La(t,e)}},s)}function La(t,e){const n=Zy(t,e),i=$a(n),l=Ky(t,n);return UT(t,l,i),i}function UT(t,e,n){if(e.length===0)return;const i=[];let l=[];const s=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const r=e[u],o=Pe(n,r.path);let h=!1,f;if(b(o!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),r.status===4)h=!0,f=r.abortReason,l=l.concat(ti(t.serverSyncTree_,r.currentWriteId,!0));else if(r.status===0)if(r.retryCount>=TT)h=!0,f="maxretry",l=l.concat(ti(t.serverSyncTree_,r.currentWriteId,!0));else{const c=Xy(t,r.path,s);r.currentInputSnapshot=c;const m=e[u].update(c.val());if(m!==void 0){Zf("transaction failed: Data returned ",m,r.path);let y=qe(m);typeof m=="object"&&m!=null&&qt(m,".priority")||(y=y.updatePriority(c.getPriority()));const D=r.currentWriteId,_=Ff(t),d=oT(y,c,_);r.currentOutputSnapshotRaw=y,r.currentOutputSnapshotResolved=d,r.currentWriteId=ky(t),s.splice(s.indexOf(D),1),l=l.concat(FC(t.serverSyncTree_,r.path,d,r.currentWriteId,r.applyLocally)),l=l.concat(ti(t.serverSyncTree_,D,!0))}else h=!0,f="nodata",l=l.concat(ti(t.serverSyncTree_,r.currentWriteId,!0))}cn(t.eventQueue_,n,l),l=[],h&&(e[u].status=2,function(c){setTimeout(c,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(f==="nodata"?i.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):i.push(()=>e[u].onComplete(new Error(f),!1,null))))}er(t,t.transactionQueueTree_);for(let u=0;u<i.length;u++)Nl(i[u]);$f(t,t.transactionQueueTree_)}function Zy(t,e){let n,i=t.transactionQueueTree_;for(n=V(e);n!==null&&Rl(i)===void 0;)i=Qf(i,n),e=ae(e),n=V(e);return i}function Ky(t,e){const n=[];return Fy(t,e,n),n.sort((i,l)=>i.order-l.order),n}function Fy(t,e,n){const i=Rl(e);if(i)for(let l=0;l<i.length;l++)n.push(i[l]);Pu(e,l=>{Fy(t,l,n)})}function er(t,e){const n=Rl(e);if(n){let i=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[i]=n[l],i++);n.length=i,By(e,n.length>0?n:void 0)}Pu(e,i=>{er(t,i)})}function Jy(t,e){const n=$a(Zy(t,e)),i=Qf(t.transactionQueueTree_,e);return fT(i,l=>{Kr(t,l)}),Kr(t,i),qy(i,l=>{Kr(t,l)}),n}function Kr(t,e){const n=Rl(e);if(n){const i=[];let l=[],a=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(b(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(b(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),l=l.concat(ti(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));a===-1?By(e,void 0):n.length=a+1,cn(t.eventQueue_,$a(e),l);for(let s=0;s<i.length;s++)Nl(i[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let l=n[i];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function HT(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):nt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Tm=function(t,e){const n=BT(t),i=n.namespace;n.domain==="firebase.com"&&on(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&on("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||QE();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ny(n.host,n.secure,i,l,e,"",i!==n.subdomain),path:new te(n.pathString)}},BT=function(t){let e="",n="",i="",l="",a="",s=!0,u="https",r=443;if(typeof t=="string"){let o=t.indexOf("//");o>=0&&(u=t.substring(0,o-1),t=t.substring(o+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(l=LT(t.substring(h,f)));const c=HT(t.substring(Math.min(t.length,f)));o=e.indexOf(":"),o>=0?(s=u==="https"||u==="wss",r=parseInt(e.substring(o+1),10)):o=e.length;const m=e.slice(0,o);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),n=e.substring(y+1),a=i}"ns"in c&&(a=c.ns)}return{host:e,port:r,domain:n,subdomain:i,secure:s,scheme:u,pathString:l,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,i,l){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Le(this.snapshot.exportVal())}}class qT{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return b(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,i,l){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=l}get key(){return j(this._path)?null:Tf(this._path)}get ref(){return new Qn(this._repo,this._path)}get _queryIdentifier(){const e=rm(this._queryParams),n=Sf(e);return n==="{}"?"default":n}get _queryObject(){return rm(this._queryParams)}isEqual(e){if(e=Zu(e),!(e instanceof Pf))return!1;const n=this._repo===e._repo,i=Af(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&i&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+Rb(this._path)}}class Qn extends Pf{constructor(e,n){super(e,n,new Of,!1)}get parent(){const e=fy(this._path);return e===null?null:new Qn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Au{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new te(e),i=fc(this.ref,e);return new Au(this._node.getChild(n),i,ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,l)=>e(new Au(l,fc(this.ref,i),ye)))}hasChild(e){const n=new te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ni(t,e){return t=Zu(t),t._checkNotDeleted("ref"),e!==void 0?fc(t._root,e):t._root}function fc(t,e){return t=Zu(t),V(t._path)===null?vT("child","path",e):Gy("child","path",e),new Qn(t._repo,pe(t._path,e))}function Yl(t,e){yT("update",e,t._path);const n=new Qu;return OT(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class eh{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new IT("value",this,new Au(e.snapshotNode,new Qn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new qT(this,e,n):null}matches(e){return e instanceof eh?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function GT(t,e,n,i,l){const a=new YT(n,void 0),s=new eh(a);return wT(t._repo,t,s),()=>Qy(t._repo,t,s)}function VT(t,e,n,i){return GT(t,"value",e)}function jT(t,e,n){Qy(t._repo,t,null)}YC(Qn);XC(Qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="FIREBASE_DATABASE_EMULATOR_HOST",hc={};let QT=!1;function XT(t,e,n,i){const l=e.lastIndexOf(":"),a=e.substring(0,l),s=gf(a);t.repoInfo_=new ny(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function ZT(t,e,n,i,l){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||on("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ie("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Tm(a,l),u=s.repoInfo,r;typeof process<"u"&&kd&&(r=kd[kT]),r?(a=`http://${r}?ns=${u.namespace}`,s=Tm(a,l),u=s.repoInfo):s.repoInfo.secure;const o=new nb(t.name,t.options,e);ST("Invalid Firebase Database URL",s),j(s.path)||on("Database URL must point to the root of a Firebase Database (not including a child path).");const h=FT(u,t,o,new tb(t,n));return new JT(h,t)}function KT(t,e){const n=hc[e];(!n||n[t.key]!==t)&&on(`Database ${e}(${t.repoInfo_}) has already been deleted.`),xT(t),delete n[t.key]}function FT(t,e,n,i){let l=hc[e.name];l||(l={},hc[e.name]=l);let a=l[t.toURLString()];return a&&on("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new AT(t,QT,n,i),l[t.toURLString()]=a,a}class JT{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(NT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qn(this._repo,X())),this._rootInternal}_delete(){return this._rootInternal!==null&&(KT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&on("Cannot call "+e+" on a deleted database.")}}function WT(t=NE(),e){const n=EE(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=sS("database");i&&$T(n,...i)}return n}function $T(t,e,n,i={}){t=Zu(t),t._checkNotDeleted("useEmulator");const l=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(l===t._repoInternal.repoInfo_.host&&cu(i,a.repoInfo_.emulatorOptions))return;on("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&on('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new xs(xs.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:rS(i.mockUserToken,t.app.options.projectId);s=new xs(u)}gf(e)&&(uS(e),fS("Database",!0)),XT(a,l,i,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){qE(AE),hu(new Da("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return ZT(i,l,a,n)},"PUBLIC").setMultipleInstances(!0)),Wi(Qd,Xd,t),Wi(Qd,Xd,"esm2020")}tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};PT();const e2={apiKey:"AIzaSyBaefGqZhOMjPww4Vsz2NNqXZ9A-bHqmc8",authDomain:"pong-multiplayer-15db2.firebaseapp.com",projectId:"pong-multiplayer-15db2",storageBucket:"pong-multiplayer-15db2.firebasestorage.app",messagingSenderId:"692134372863",appId:"1:692134372863:web:bc764a55b51bb8883f73ca",databaseURL:"https://pong-multiplayer-15db2-default-rtdb.firebaseio.com/"},t2=qp(e2),Di=WT(t2);function n2(){const t=$.useRef(null),[e,n]=$.useState("menu"),[i,l]=$.useState(null),[a,s]=$.useState(""),[u,r]=$.useState(null),[o,h]=$.useState({player1:0,player2:0}),[f,c]=$.useState(!1),[m,y]=$.useState(3),[S,D]=$.useState(1),[_,d]=$.useState(!1),[g,p]=$.useState(!1),[N,H]=$.useState(!1),[T,w]=$.useState(null),[B,q]=$.useState(0),E=$.useRef({x:300,y:300,radius:8,dx:0,dy:0}),ue=$.useRef({x:250,y:550,width:100,height:15}),W=$.useRef({x:250,y:15,width:100,height:15}),Xn=$.useRef([]),at=$.useRef(null);$.useRef(null);const C={easy:{ballSpeed:3,aiSpeed:2,speedIncrease:1.05,pointsPerLevel:10},medium:{ballSpeed:4,aiSpeed:3,speedIncrease:1.1,pointsPerLevel:7},hard:{ballSpeed:5,aiSpeed:4,speedIncrease:1.15,pointsPerLevel:5}};$.useEffect(()=>{at.current=new(window.AudioContext||window.webkitAudioContext)},[]);const x=(A,R,re="sine")=>{if(!at.current)return;const Re=at.current.createOscillator(),Ke=at.current.createGain();Re.connect(Ke),Ke.connect(at.current.destination),Re.frequency.value=A,Re.type=re,Ke.gain.setValueAtTime(.3,at.current.currentTime),Ke.gain.exponentialRampToValueAtTime(.01,at.current.currentTime+R),Re.start(at.current.currentTime),Re.stop(at.current.currentTime+R)},z=(A,R,re,Re=15)=>{for(let Ke=0;Ke<Re;Ke++)Xn.current.push({x:A,y:R,dx:(Math.random()-.5)*8,dy:(Math.random()-.5)*8,life:1,color:re})},de=()=>{Xn.current=Xn.current.filter(A=>A.life>0),Xn.current.forEach(A=>{A.x+=A.dx,A.y+=A.dy,A.life-=.02,A.dy+=.3})},ve=A=>{Xn.current.forEach(R=>{A.globalAlpha=R.life,A.fillStyle=R.color,A.fillRect(R.x,R.y,4,4)}),A.globalAlpha=1};return $.useEffect(()=>{const A=t.current;if(!A)return;const R=Math.min(window.innerWidth-40,600),re=window.innerHeight*.6;A.width=R,A.height=Math.min(re,R*1.2),ue.current={x:A.width/2-50,y:A.height-30,width:100,height:15},W.current={x:A.width/2-50,y:15,width:100,height:15},E.current={x:A.width/2,y:A.height/2,radius:8,dx:0,dy:0}},[e]),$.useEffect(()=>{if((e==="solo"||e==="vs-ai")&&i){const A=t.current;if(!A)return;const R=C[i];E.current={x:A.width/2,y:A.height/2,radius:8,dx:R.ballSpeed*(Math.random()>.5?1:-1),dy:-R.ballSpeed}}},[e,i]),$.useEffect(()=>{if(e!=="multiplayer"||!a)return;const A=Ni(Di,`rooms/${a}`);return VT(A,R=>{const re=R.val();re&&(u===1?W.current.x=re.paddle2X||W.current.x:ue.current.x=re.paddle1X||ue.current.x,E.current.x=re.ballX,E.current.y=re.ballY,E.current.dx=re.ballDx,E.current.dy=re.ballDy,h({player1:re.score1,player2:re.score2}),re.score1>=10?(w(1),d(!0)):re.score2>=10&&(w(2),d(!0)))}),()=>jT(A)},[e,a,u]),$.useEffect(()=>{if(e!=="solo"&&e!=="vs-ai"&&e!=="multiplayer"||g||_||f)return;const A=t.current;if(!A)return;const R=A.getContext("2d");let re;const Re=()=>{R.fillStyle="#0f3460",R.fillRect(0,0,A.width,A.height),(e==="vs-ai"||e==="multiplayer")&&(R.strokeStyle="rgba(255, 255, 255, 0.2)",R.lineWidth=2,R.setLineDash([10,10]),R.beginPath(),R.moveTo(0,A.height/2),R.lineTo(A.width,A.height/2),R.stroke(),R.setLineDash([]));const Ke=e==="multiplayer"&&u===2?W.current.y:ue.current.y,th=e==="multiplayer"&&u===2?W.current.x:ue.current.x;if(R.fillStyle="#00ffff",R.shadowBlur=15,R.shadowColor="#00ffff",e==="multiplayer"&&u===2?R.fillRect(th,A.height-30,ue.current.width,ue.current.height):R.fillRect(th,Ke,ue.current.width,ue.current.height),e==="vs-ai"||e==="multiplayer"){const be=e==="multiplayer"&&u===2?A.height-30:W.current.y,Ce=e==="multiplayer"&&u===2?ue.current.x:W.current.x;R.fillStyle="#ff6b6b",R.shadowColor="#ff6b6b",e==="multiplayer"&&u===2?R.fillRect(Ce,W.current.y,W.current.width,W.current.height):R.fillRect(Ce,be,W.current.width,W.current.height)}let nh=E.current.y;if(e==="multiplayer"&&u===2&&(nh=A.height-E.current.y),R.beginPath(),R.arc(E.current.x,nh,E.current.radius,0,Math.PI*2),R.fillStyle="#ff6b6b",R.shadowColor="#ff6b6b",R.fill(),R.shadowBlur=0,e==="multiplayer"&&u!==1){de(),ve(R),re=requestAnimationFrame(Re);return}if(E.current.x+=E.current.dx,E.current.y+=E.current.dy,(E.current.x+E.current.radius>A.width||E.current.x-E.current.radius<0)&&(E.current.dx=-E.current.dx,x(200,.1),z(E.current.x,E.current.y,"#00ffff",8)),e==="solo"&&E.current.y-E.current.radius<0&&(E.current.dy=-E.current.dy,x(200,.1),z(E.current.x,E.current.y,"#00ffff",8)),E.current.y+E.current.radius>ue.current.y&&E.current.x>ue.current.x&&E.current.x<ue.current.x+ue.current.width&&E.current.dy>0){E.current.dy=-Math.abs(E.current.dy);const be=(E.current.x-ue.current.x)/ue.current.width;if(E.current.dx=(be-.5)*10,x(440,.15),z(E.current.x,E.current.y,"#00ffff",10),e==="solo")h(Ce=>{const Yt=Ce.player1+1,hn=C[i];return Yt%hn.pointsPerLevel===0&&D(Wy=>{const ih=Wy+1;return E.current.dx*=hn.speedIncrease,E.current.dy*=hn.speedIncrease,x(523,.3),ih%5===0&&(y($y=>$y+1),x(660,.3)),ih}),q(Yt%hn.pointsPerLevel/hn.pointsPerLevel*100),{...Ce,player1:Yt}});else if(e==="multiplayer"){const Ce=o.player1+1;Yl(Ni(Di,`rooms/${a}`),{score1:Ce})}else h(Ce=>({...Ce,player1:Ce.player1+1}))}if((e==="vs-ai"||e==="multiplayer")&&E.current.y-E.current.radius<W.current.y+W.current.height&&E.current.x>W.current.x&&E.current.x<W.current.x+W.current.width&&E.current.dy<0){E.current.dy=Math.abs(E.current.dy);const be=(E.current.x-W.current.x)/W.current.width;if(E.current.dx=(be-.5)*10,x(440,.15),z(E.current.x,E.current.y,"#ff6b6b",10),e==="multiplayer"){const Ce=o.player2+1;Yl(Ni(Di,`rooms/${a}`),{score2:Ce})}else h(Ce=>({...Ce,player2:Ce.player2+1}))}if(E.current.y-E.current.radius>A.height)if(x(100,.5,"sawtooth"),z(E.current.x,A.height,"#ff6b6b",30),e==="solo")y(be=>{const Ce=be-1;if(Ce===0)d(!0);else{const Yt=C[i],hn=Yt.ballSpeed*Math.pow(Yt.speedIncrease,S-1);E.current={x:A.width/2,y:A.height/2,radius:8,dx:hn*(Math.random()>.5?1:-1),dy:-hn}}return Ce});else if(e==="multiplayer"){const be=o.player2+1;E.current={x:A.width/2,y:A.height/2,radius:8,dx:4*(Math.random()>.5?1:-1),dy:-4},Yl(Ni(Di,`rooms/${a}`),{score2:be,ballX:E.current.x,ballY:E.current.y,ballDx:E.current.dx,ballDy:E.current.dy})}else h(be=>({...be,player2:be.player2+1})),E.current={x:A.width/2,y:A.height/2,radius:8,dx:4*(Math.random()>.5?1:-1),dy:-4};if((e==="vs-ai"||e==="multiplayer")&&E.current.y+E.current.radius<0)if(x(100,.5,"sawtooth"),z(E.current.x,0,"#00ffff",30),e==="multiplayer"){const be=o.player1+1;E.current={x:A.width/2,y:A.height/2,radius:8,dx:4*(Math.random()>.5?1:-1),dy:4},Yl(Ni(Di,`rooms/${a}`),{score1:be,ballX:E.current.x,ballY:E.current.y,ballDx:E.current.dx,ballDy:E.current.dy})}else h(be=>({...be,player1:be.player1+1})),E.current={x:A.width/2,y:A.height/2,radius:8,dx:4*(Math.random()>.5?1:-1),dy:4};if(e==="multiplayer"&&u===1&&Yl(Ni(Di,`rooms/${a}`),{ballX:E.current.x,ballY:E.current.y,ballDx:E.current.dx,ballDy:E.current.dy}),e==="vs-ai"&&i){const be=C[i],Ce=W.current.x+W.current.width/2,Yt=E.current.x-Ce;Math.abs(Yt)>5&&(W.current.x+=Yt>0?be.aiSpeed:-be.aiSpeed,W.current.x=Math.max(0,Math.min(W.current.x,A.width-W.current.width)))}de(),ve(R),re=requestAnimationFrame(Re)};return Re(),()=>cancelAnimationFrame(re)},[e,g,_,i,S,f,a,u,o]),()=>Fr.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 flex flex-col items-center justify-center p-4"})}F1.createRoot(document.getElementById("root")).render(Fr.jsx($.StrictMode,{children:Fr.jsx(n2,{})}));
